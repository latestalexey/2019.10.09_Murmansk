<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="Выбор адресных складов" serverHosted="False"><Actions capacity="64" count="40"><AssignAction breakPoint="False" expression="SelectedItemSource = SelectedItem;&#xD;&#xA;ТекущаяПапка = SelectedItem;" id="6edcc855-8521-4b3f-9853-5f60191cbcf2" indent="0" nextDirection="" /><AssignAction breakPoint="False" expression="ВыходПоКнопке = false" id="76e698dc-fc93-4c96-a5f9-faed04d0fe5d" indent="0" name="21" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяПапка == null || ТекущаяПапка.Ид == &quot;&quot;" id="a050766a-5d7a-4c08-950f-bf4d8b3cfbc5" indent="0" name="6" nextDirection="" noDirection="1" yesDirection="" /><SelectDocumentLinesAction breakPoint="False" id="7f02ded2-d3d9-491c-9195-f40961622ac3" indent="1" name="1 1" nextDirection="" sessionVariable="ТекУровень"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдРодителя == &quot;&quot; &amp;&amp; (Item.Адресный == true || Item.ЭтоПапка) &amp;&amp; (ТолькоСШК == false || Item.ЭтоПапка || Item.ШК != &quot;&quot;)"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="2"><String>ЭтоПапка desc</String><String>Наименование</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" expression="Сумма = ТекУровень" id="6ea74502-6e62-47b3-80c7-718fc64d831c" indent="2" nextDirection="16" /><SelectDocumentLinesAction breakPoint="False" id="7995dac0-4c60-4a52-8829-504729ad8ea0" indent="0" name="1" nextDirection="" sessionVariable="ТекУровень"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдРодителя == ТекущаяПапка.Ид &amp;&amp; (Item.Адресный == true || Item.ЭтоПапка) &amp;&amp; (ТолькоСШК == false || Item.ЭтоПапка || Item.ШК != &quot;&quot;)"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="2"><String>ЭтоПапка desc</String><String>Наименование</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" expression="Сумма = new Cleverence.Warehouse.HybridCollection()" id="a2aa92b2-3398-40e6-8fda-e7634d45b994" indent="2" nextDirection="" /><AssignAction breakPoint="False" expression="Сумма.Add(ТекущаяПапка)" id="28d15e14-9c9b-485c-8a80-4fd33a47abd9" indent="2" nextDirection="" /><AssignAction breakPoint="False" expression="Сумма.AddCollection(ТекУровень)" id="6587ed1d-88a7-4284-aba0-03df601bf9c8" indent="2" nextDirection="" /><ConditionAction breakPoint="False" expression="ВыборПоШК==true || ПоискПоИмени == true" id="93847854-a4ff-4adf-a596-bd1524e6abfe" indent="0" name="16" nextDirection="" noDirection="Выбор без ШК" yesDirection="Выбор с ШК" /><FieldEditAction autoCloseTime="0" backgroundImage="cres.bckg_barcode" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="&lt;b align=&quot;center&quot; color=&quot;Green&quot;&gt;{SelectedItemSource.ОтображениеСКартинкой}&lt;/b&gt;&#xD;&#xA;{SelectedItemSource==null:;&lt;button direction=&quot;14&quot; align=&quot;center&quot; width=&quot;100%&quot;&gt;Сбросить текущее&lt;/button&gt;}" format="" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - назад&lt;/r&gt;}&#xD;&#xA;" id="9ccbaa01-7fbf-4305-b22d-670fc30ca467" indent="0" listCaption="{CurrentAction.Value!=null:&lt;b size=&quot;+1&quot; color=&quot;Red&quot; align=&quot;center&quot;&gt;Нажмите ENTER для поиска&lt;/b&gt;;}" listItemFormat="{&quot;&quot;}" name="Выбор с ШК" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" title="{Device.IsAndroid:{ТекстЗаголовка};&lt;r size=&quot;-2&quot;&gt;{ТекстЗаголовка}&lt;/r&gt;}" transactionNotch="True" viewItems="Сумма" welcomeText="&#xD;&#xA;"><Columns count="1"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="&lt;r size=&quot;+2&quot;&gt;{Item.ЭтоПапка == true:{ТекущаяПапка!=null &amp;&amp;Item.Ид==ТекущаяПапка.Ид:[..];&lt;img align=&quot;center&quot; tcolor=&quot;yes&quot;&gt;cres.folder&lt;/img&gt;&lt;b&gt;{Item.ОтображениеОбъекта}&lt;/b&gt;};{Item.ОтображениеОбъекта}}&lt;/r&gt;" leftBorder="0" rightBorder="0" topBorder="0" width="88%" /></Columns><KeyJumps count="2"><KeyToAction action="выход по кнопке" barcode="" condition="" foreColor="#00000000" key="F15" modifiers="None" viewType="InMenu" /><KeyToAction action="назад" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ConditionAction breakPoint="False" expression="ScannedBarcode == &quot;&quot;" id="0f75541b-7954-4e84-b944-6ba0ecaecedb" indent="0" nextDirection="" noDirection="поиск по шк" yesDirection="15" /><ItemsViewAction id="98fdb479-caee-44e0-a2d3-149acc0ade61" name="Выбор без ШК" nextDirection="" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - назад&lt;/r&gt;}" footerText="&lt;b align=&quot;center&quot; color=&quot;Green&quot;&gt;{SelectedItemSource.ОтображениеСКартинкой}&#xD;&#xA;{SelectedItemSource==null:;&lt;button direction=&quot;14&quot; align=&quot;center&quot; width=&quot;100%&quot;&gt;Сбросить текущее&lt;/button&gt;}&lt;/b&gt;" title="{Device.IsAndroid:{ТекстЗаголовка};&lt;r size=&quot;-2&quot;&gt;{ТекстЗаголовка}&lt;/r&gt;}" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="Сумма" welcomeText=""><KeyJumps count="3"><KeyToAction action="назад" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="поиск по шк" barcode="{any}" condition="ВыборПоШК==true" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="выход по кнопке" barcode="" condition="" foreColor="#00000000" key="F15" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="1"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ЭтоПапка == true:{ТекущаяПапка!=null &amp;&amp;Item.Ид==ТекущаяПапка.Ид:[..];&lt;img align=&quot;center&quot; tcolor=&quot;yes&quot;&gt;cres.folder&lt;/img&gt; {Item.ОтображениеОбъекта}};{Item.ОтображениеСКартинкой}}" leftBorder="0" rightBorder="0" topBorder="0" width="88%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" expression="SelectedItem == null" id="3008694c-59d8-48be-b5f1-0fc28534a66f" indent="0" name="15" nextDirection="" noDirection="" yesDirection="back" /><ConditionAction breakPoint="False" expression="SelectedItem.ЭтоПапка == false" id="f41aab37-82be-4615-a9c9-6e99d86418dd" indent="0" nextDirection="" noDirection="13" yesDirection="" /><ConditionAction breakPoint="False" expression="ПросмотрИнфоПоВыбору == true" id="c7c96da1-5ce9-4a49-b9ca-2ada94364a6e" indent="1" nextDirection="" noDirection="return" yesDirection="подробнее" /><ConditionAction breakPoint="False" expression="ТекущаяПапка!= null &amp;&amp; ТекущаяПапка.Ид != &quot;&quot; &amp;&amp; SelectedItem.Ид == ТекущаяПапка.Ид" id="2c208040-b601-4748-9d82-a36d596e4f28" indent="0" name="13" nextDirection="" noDirection="" yesDirection="12" /><AssignAction breakPoint="False" expression="ТекущаяПапка = SelectedItem" id="718e5136-5990-4f5f-a0a1-43ae571d63fc" indent="0" name="10" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedItem=null" id="9cb971be-4778-4825-af68-018bc33b6f26" indent="0" nextDirection="6" /><ConditionAction breakPoint="False" expression="ТекущаяПапка == null || ТекущаяПапка.Ид == &quot;&quot;" id="25c2c49c-caf4-40d4-8454-ce83fffe6058" indent="0" name="назад" nextDirection="" noDirection="12" yesDirection="abort" /><AssignAction breakPoint="False" expression="SelectedItem = ТекущаяПапка" id="c10f9b5b-184a-4e68-8054-61df949890d0" indent="0" name="12" nextDirection="" /><AssignAction breakPoint="False" expression="ТекущаяПапка = ТекущаяПапка.РодительскаяПапка" id="1d2da21f-af52-495c-b672-8dcd594c7a44" indent="0" name="8" nextDirection="6" /><OperationAction abortDirection="back" breakPoint="False" id="be0dd235-c2be-4a08-9d23-87b5fb69f12f" indent="0" name="подробнее" nextDirection="back" operationName="Информация о объекте" transactionNotch="False"><InKeys count="1"><String>Поз</String></InKeys><InValues count="1"><String>{SelectedItem}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ВыборПоШК == true" id="108c9d7f-c724-462d-8ec4-5feb13c85d8a" indent="0" name="поиск по шк" nextDirection="" noDirection="поиск по имени" yesDirection="" /><SelectDocumentLineAction breakPoint="False" id="5d561960-7daa-4f22-a5af-abf8e268a68f" indent="0" name="" nextDirection="" sessionVariable="ПоискОбъекта"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ШК == ScannedBarcode &amp;&amp; (Item.Адресный == true)"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="ПоискОбъекта == null" id="62728ae4-380e-412c-a5ba-21081080a8d6" indent="0" name="20" nextDirection="" noDirection="17" yesDirection="" /><ConditionAction breakPoint="False" expression="ПоискПоИмени == true" id="f4304c7e-8a7a-4775-ae3a-ed5fd95a2149" indent="1" nextDirection="" noDirection="" yesDirection="сам поиск" /><ClearSessionAction all="False" breakPoint="False" id="ef997339-e328-44e0-91f4-3c2af328369b" indent="1" name="19 1" nextDirection=""><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><BaloonAction breakPoint="False" id="21c2fd7d-f65c-4599-a6dd-e4f5e8625a49" indent="1" isError="True" name="18" nextDirection="undo" seconds="3" text="Не найдено по ШК" /><AssignAction breakPoint="False" expression="SelectedItem = ПоискОбъекта" id="0e36ef87-24d5-47f8-97ac-c6f76385236a" indent="0" name="17" nextDirection="return" /><ConditionAction breakPoint="False" expression="ПоискПоИмени == true" id="b34668b8-5865-410c-9d26-60dff56ed67e" indent="0" name="поиск по имени" nextDirection="" noDirection="back" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedItem = null" id="6d337c92-aadb-4c67-95ca-a0a431b0c247" indent="0" name="сам поиск" nextDirection="" /><AssignAction breakPoint="False" expression="ПрошлоеИмя=ScannedBarcode" id="31de4ef0-4fae-46bf-a238-f7b236d7614b" indent="0" nextDirection="" /><SelectDocumentLinesAction breakPoint="False" id="1496825c-147e-4b5b-a8fc-471187fbace2" indent="0" nextDirection="" sessionVariable="СтрокиПоИмени"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ЭтоПапка == false &amp;&amp; Item.Адресный == true &amp;&amp; Item.НаименованиеДляПоиска.Contains(ScannedBarcode.ToLower())"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><FieldEditAction autoCloseTime="0" backgroundImage="cres.bckg_barcode" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="&lt;b align=&quot;center&quot; color=&quot;Green&quot;&gt;{SelectedItemSource.ОтображениеСКартинкой}&#xD;&#xA;{SelectedItemSource==null:;&lt;button direction=&quot;14&quot; align=&quot;center&quot; width=&quot;100%&quot;&gt;Сбросить текущее&#xD;&#xA;&lt;/button&gt;}&lt;/b&gt;" format="" fullscreen="Inherit" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - назад&lt;/r&gt;}" id="e7e291dd-b0de-4f1c-a707-92fde7cccb45" indent="0" listCaption="&lt;Red&gt;Найдено: {СтрокиПоИмени.Count} поз.&lt;/Red&gt;" listItemFormat="{ПрошлоеИмя}" name="найдено по имени" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" title="{Device.IsAndroid:{ТекстЗаголовка};&lt;r size=&quot;-2&quot;&gt;{ТекстЗаголовка}&lt;/r&gt;}" transactionNotch="True" viewItems="СтрокиПоИмени" welcomeText=""><Columns count="1"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="&lt;r size=&quot;+2&quot;&gt;{Item.ЭтоПапка == true:{ТекущаяПапка!=null &amp;&amp;Item.Ид==ТекущаяПапка.Ид:[..];&lt;img align=&quot;center&quot; tcolor=&quot;yes&quot;&gt;cres.folder&lt;/img&gt;&lt;b&gt;{Item.ОтображениеОбъекта}&lt;/b&gt;};{Item.ОтображениеОбъекта}}&lt;/r&gt;" leftBorder="0" rightBorder="0" topBorder="0" width="88%" /></Columns><KeyJumps count="2"><KeyToAction action="выход по кнопке" barcode="" condition="" foreColor="#00000000" key="F15" modifiers="None" viewType="InMenu" /><KeyToAction action="Отмена поиска" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ConditionAction breakPoint="False" expression="ScannedBarcode != &quot;&quot; &amp;&amp; ScannedBarcode != ПрошлоеИмя" id="3fdcee9a-5a5b-42f2-a8e0-da8604de07f0" indent="0" nextDirection="" noDirection="" yesDirection="сам поиск" /><ConditionAction breakPoint="False" expression="SelectedItem != null &amp;&amp; SelectedItem.ЭтоПапка == false" id="90745f78-d37c-4acd-8ebb-43680fde8bf3" indent="0" nextDirection="" noDirection="" yesDirection="return" /><ClearSessionAction all="False" breakPoint="False" id="bcd6bc06-082f-4b4d-ba62-3c20c72cfa33" indent="0" name="Отмена поиска" nextDirection="Выбор с ШК"><KeyNames count="2"><String>ScannedBarcode</String><String>ПрошлоеИмя</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="SelectedItem = null" id="00d6ec6e-2b10-4324-92ff-488afed08672" indent="0" name="14" nextDirection="return" /><AssignAction breakPoint="False" expression="ВыходПоКнопке = true" id="74a3b4f2-5892-4917-9ea8-f5db4440ffd0" indent="0" name="выход по кнопке" nextDirection="" /></Actions><Parameters capacity="8" count="7"><FieldInfo alias="" eanAI="None" fieldName="ItemsCollection" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ItemsCollection" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="SelectedItem" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedItem" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТолькоСШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TolkoSShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВыборПоШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VyborPoShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТекстЗаголовка" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TekstZagolovka" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПросмотрИнфоПоВыбору" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ProsmotrInfoPoVyboru" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПоискПоИмени" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PoiskPoImeni" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="SelectedItem" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="SelectedItem" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ВыходПоКнопке" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VyhodPoKnopke" valueTemplate="" /></Returns></Operation>
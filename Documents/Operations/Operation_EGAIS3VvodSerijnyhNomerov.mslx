<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ЕГАИС3 ВводСерийныхНомеров" serverHosted="False"><Actions capacity="128" count="80"><ConditionAction breakPoint="False" expression="GlobalVars.РежимСерийныхНомеров == &quot;единичный&quot;" id="cc882445-6e03-48c0-a68a-1a25a026f599" indent="0" name="Ввод серийных номеров" nextDirection="" noDirection="2" yesDirection="" /><AssignAction breakPoint="False" expression="НадписьНаКнопке=&quot;(00) Отмена&quot;" id="573dd5c2-b5f7-4a06-8d82-1d5c9ba29747" indent="2" name="" nextDirection="Перед записью" /><AssignAction breakPoint="False" expression="НадписьНаКнопке=&quot;(00) Закончить ввод номеров&quot;" id="c8569fd0-b5bc-471b-8feb-eac754ed176a" indent="2" name="2" nextDirection="" /><ConditionAction breakPoint="False" expression="СтрокиДляСпускаВниз != null" id="435ea250-7a21-4d24-8eb5-e0a649296966" indent="0" name="Перед записью" nextDirection="" noDirection="125" yesDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="True" exitButtonText="" exitGroupCode="" fullscreen="Inherit" id="722f562b-3319-4a87-8b1d-f2ac2b6aff6d" indent="1" items="{СтрокиДляСпускаВниз}" nextDirection="" transactionNotch="False"><Actions count="2"><ConditionAction breakPoint="False" expression="SelectedLine.UnderloadedOrOverloaded == true" id="e3d86819-61e8-4e3d-a82c-9ccd37377c47" indent="1" nextDirection="" noDirection="" yesDirection="continue" /><AssignAction breakPoint="False" expression="СтрокиПоказа.TopBottom(SelectedLine,  false)" id="367ff94c-3db7-4ab2-aada-212c2894cf32" indent="1" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><AssignAction breakPoint="False" expression="ИзмененныеСтрокиТовара = СтрокиДляСпускаВниз" id="e1a9e47a-d598-4b53-958b-5bb425e8cc79" indent="0" name="125" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.Packing=SelectedProduct.Product.BasePacking" id="f02035ed-fbfe-4557-808a-eb2879f04c00" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.ОснШК=SelectedProduct.Packing.Barcode" id="75d9135a-dc9d-467b-9931-a4a32e157037" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.Quantity=1" id="edcfffdb-7238-46b2-9c3a-ccf8752e679e" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="ИсхИзмСтрокиТовара = ИзмененныеСтрокиТовара" id="38265110-5fcb-41b3-a1a0-b3e1e8166e86" indent="0" nextDirection="" /><AssignAction breakPoint="False" expression="ПредыдущийСерийныйНомер=null" id="7ad48e9a-f86a-4d93-8ab2-8abf0f2df564" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProductCopy=SelectedProduct" id="0e0442eb-1c90-436b-bd3f-ec3e47060aa2" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.СН=null" id="f2347fde-e489-4a21-aa47-0b747fd5396d" indent="0" name="сн" nextDirection="" /><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" eanAI="None" editType="DocumentColumn" fieldName="СН" fieldType="String" footerText="&lt;button width=&quot;100%&quot; direction=&quot;break&quot;&gt;{НадписьНаКнопке}&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; direction=&quot;ввод диапазона&quot;&gt;(01) Диапазон&lt;/button&gt;" format="" fullscreen="True" headerText="{GlobalVars.РежимСерийныхНомеров==&quot;единичный&quot;:;&lt;r size=&quot;-1&quot;&gt;(F1) или (01) - ввод диапазона &lt;/r&gt;&lt;hr/&gt;}&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.Алко == true:{SelectedProduct.стрАлкоКороткое};}&#xD;&#xA;{SelectedProduct.ЦенаСклад}&#xD;&#xA;&lt;Green&gt;{ПредыдущийСерийныйНомер: Введен серийный номер «(0)»}&lt;/Green&gt;&#xD;&#xA;{ErrorMessage}&#xD;&#xA;" id="de5ee31c-b5f2-4424-b254-dbf59cf0546a" indent="0" listCaption="" listItemFormat="" name="" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" transactionNotch="True" viewItems="" welcomeText="Серийный номер:"><Columns count="0" /><KeyJumps count="2"><KeyToAction action="ввод диапазона" barcode="01" condition="" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /><KeyToAction action="Выход по отмене" barcode="00" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><SelectDocumentLineAction breakPoint="False" id="930717fa-90f4-4078-ae83-2d8f14914f27" indent="0" name="" nextDirection="" sessionVariable="SelectedLine"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.СН==SelectedProduct.СН"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="SelectedLine == null" id="95c52388-e953-4096-ad27-48a2c409119e" indent="0" name="" nextDirection="" noDirection="" yesDirection="дальше" /><BaloonAction breakPoint="False" id="6723b023-d611-4808-9373-be474d1e6b82" indent="1" isError="True" name="" nextDirection="сн" seconds="3" text="Повтор серийного номера!" /><AssignAction breakPoint="False" expression="ScannedBarcode=SelectedProduct.СН" id="79e5c256-3686-4f05-a3da-371d26db73df" indent="0" name="дальше" nextDirection="" /><ScanAction autoCloseTime="0" autoSelectSingleProduct="True" autoShowSelectionList="False" backgroundImage="" barcodeConvertion="ToUpper" barcodeSessionVariable="ScannedBarcode" breakPoint="False" cancelType="None" canManualShowProductList="True" canSelectCell="False" canSelectPallet="False" cellDirection="" errorSelectDirection="товар" fullscreen="Inherit" id="b7cd9679-094e-414a-9781-1da32f1935a7" ignoreBaseBarcodes="False" ignoreQuantityPolicy="False" indent="0" name="" nextDirection="" notFoundErrorText="" palletDirection="" playAudioOnError="False" processSessionBarcode="True" productsListHeaderText="" quickSelectProduct="True" searchingProducts="" searchPreviousSelected="False" selectionCellNum="0" selectionCellText="" selectionFirstCellText="" selectionListFormat="" selectionPalletText="" selectionSecondCellText="" selectionStorageVariable="" sucsessSelectDirection="" transactionNotch="False" useOnlyDocumentProducts="False" waitImage="" welcomeText="" withoutControls="False"><ExcludeClassificators count="0" /><IncludeClassificators count="0" /><KeyJumps count="0" /><TreeTypeIds count="0" /></ScanAction><ConditionAction breakPoint="False" expression="SelectedProduct.СН == ScannedBarcode" id="722a6044-776b-4650-9706-be859ed19995" indent="1" name="" nextDirection="" noDirection="" yesDirection="товар" /><AssignAction breakPoint="False" expression="SelectedProduct=SelectedProductCopy" id="cd5a2771-6d40-4102-9fd6-a124d5d50596" indent="2" name="" nextDirection="" /><BaloonAction breakPoint="False" id="1766a5aa-9069-44ec-840c-9f3be5da1479" indent="2" isError="True" name="" nextDirection="сн" seconds="3" text="Это штрихкод товара!  Ожидается сканирование серийного номера." /><AssignAction breakPoint="False" expression="SelectedProduct=SelectedProductCopy" id="4b95c320-2622-4254-8ebf-9403df2c380f" indent="0" name="товар" nextDirection="" /><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="e358540b-74a7-41f1-9d6d-d1ea2be419af" indent="1" name="Проверка принадлежности товара1" nextDirection="" noDirection="Обычная запись" yesDirection="Запись с проверкой" /><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="False" checkQuantity="False" combineEqualCurrentItems="False" declaredExpression="Item.ИдСерии==SelectedProduct.ИдСерии&amp;&amp;Item.Характеристика==SelectedProduct.Характеристика&amp;&amp;(Item.IsDeviceCreated||Item.СН==&quot;&quot;||Item.СН==SelectedProduct.СН)" errorQuantityMessage="" id="c113f33c-124b-4498-8aef-21123312c22d" ignoreFieldsInDocument="False" indent="1" name="Обычная запись" nextDirection="Финальное присваивание" noProductErrorDirection="" noProductInDocumentMessage="" onlyInCurrentItems="False" quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="2"><String>serial</String><String>descr</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="True" checkQuantity="True" combineEqualCurrentItems="False" declaredExpression="Item.ИдСерии==SelectedProduct.ИдСерии&amp;&amp;Item.Характеристика==SelectedProduct.Характеристика&amp;&amp;(Item.IsDeviceCreated||Item.СН==&quot;&quot;||Item.СН==SelectedProduct.СН)" errorQuantityMessage="" id="de7c17eb-eeea-4683-bba1-b9b05cb79f58" ignoreFieldsInDocument="False" indent="1" name="Запись с проверкой" nextDirection="Финальное присваивание" noProductErrorDirection="abort" noProductInDocumentMessage="" onlyInCurrentItems="False" quantityErrorDirection="Сообщение переполнения" useSelectedLine="False"><ComparingFieldNames count="2"><String>serial</String><String>descr</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><AssignAction breakPoint="False" expression="ИзмененныеСтрокиТовара=ИсхИзмСтрокиТовара" id="16ea00ba-9d26-452e-a98d-4d1b5ad7fad4" indent="2" name="Сообщение переполнения" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+2&quot;&gt;ПЕРЕБОР&lt;/b&gt;&#xA;{SelectedProduct.ОтображаемоеИмя}" id="95e46813-08df-4cd2-9bb3-b8bf20a0dcc0" indent="2" name="" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText="&lt;br/&gt;&#xA;&lt;r size=&quot;-1&quot;&gt;{SelectedProduct.КолвоВДокументе:уже набрано &lt;b&gt;(0)&lt;/b&gt;}{Document.CreatedOnPDA:;{SelectedProduct.ЗаявленноеКолвоВДокументе: из &lt;b&gt;(0)&lt;/b&gt;}}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/r&gt;&#xA;&lt;b size=&quot;-1&quot;&gt;ПЫТАЕТЕСЬ ВЗЯТЬ {SelectedProduct.QuantityInBasePacking}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/b&gt;"><ButtonDirections count="1"><String>abort</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="ИзмененныеСтрокиТовара=LastChangedDeclaredItems" id="598cebc3-a698-4389-a3b8-a0bd5f359590" indent="1" name="Финальное присваивание" nextDirection="" /><AssignAction breakPoint="False" expression="СтрокиТекущегоТовара = LastChangedDeclaredItems;&#xD;&#xA;ФактическиеДобавленныеСтроки = LastChangedCurrentItems;" id="6bc795fc-80ec-4757-a2e0-c075fb79568a" indent="1" name="7" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="True" exitButtonText="" exitGroupCode="" fullscreen="Inherit" id="30db4dd3-5e75-428f-b78c-ae6bd1853da7" indent="1" items="{СтрокиТекущегоТовара}" name="Финал" nextDirection="" transactionNotch="False"><Actions capacity="8" count="7"><ConditionAction breakPoint="False" expression="SelectedProduct.ЦенаПриемки&gt;0" id="9efad980-bd4a-480c-9abd-9b6638d7bf06" indent="0" nextDirection="" noDirection="3" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedLine.ЦенаПриемки = SelectedProduct.ЦенаПриемки" id="f61688be-a47f-44ed-9383-a806d27ae60f" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="SelectedProduct.НомерСтрокиДокумента &gt; 0" id="771f770d-5a86-4279-8190-82afe0bc1f39" indent="0" name="3" nextDirection="" noDirection="2" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedLine.НомерСтрокиДокумента = SelectedProduct.НомерСтрокиДокумента" id="d42203ed-06ff-4b5c-af70-b280528aa178" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="УдалятьСходящиеся &amp;&amp; SelectedLine.UnderloadedOrOverloaded == false" id="34c470f4-6d98-44be-ab69-ec6cd92c63d3" indent="0" name="2" nextDirection="" noDirection="1" yesDirection="" /><AssignAction breakPoint="False" expression="q=СтрокиПоказа.Remove(SelectedLine)" id="527c6080-27b5-4157-a1dd-215083fd845a" indent="1" name="" nextDirection="continue" /><AssignAction breakPoint="False" expression="СтрокиПоказа.TopBottom(SelectedLine,  true)" id="136cf6a2-04b9-418f-90d3-b5384c3acfc9" indent="0" name="1" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="25a73d92-477a-4854-973e-132afcb1e5d2" indent="1" nextDirection="" noDirection="124" yesDirection="" /><ConditionAction breakPoint="False" expression="ИзмененныеСтрокиТовара.Completed" id="8f1f3d60-208f-4b13-b46f-53135c10f3c6" indent="1" nextDirection="" noDirection="124" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.UnderloadedOrOverloaded" id="451839be-30c5-40ff-96ff-0be96b86d6a7" indent="2" nextDirection="" noDirection="" yesDirection="break" /><FinishAction breakPoint="False" id="df51e51d-baa7-40d6-a405-ee535c5e4c14" immediately="True" indent="3" nextDirection="" /><ConditionAction breakPoint="False" expression="GlobalVars.РежимСерийныхНомеров == &quot;единичный&quot;" id="4e5984e4-ac9c-4f50-95ae-4cbc52a968e5" indent="1" name="124" nextDirection="" noDirection="" yesDirection="break" /><AssignAction breakPoint="False" expression="ПредыдущийСерийныйНомер=SelectedProduct.СН" id="40a39e3b-ad85-401c-b1ce-7f735256aae7" indent="1" name="" nextDirection="сн" /><SelectDocumentLinesAction breakPoint="False" id="8c15fe87-86da-4fbb-9723-284582148eb0" indent="0" name="ввод диапазона" nextDirection="" sessionVariable="ИзмененныеСтрокиТовара"><Query copySelection="False" documentLines="Declared" from="{Document.DeclaredItems.FindByProductId(SelectedProduct.ProductId)}" sourceWhereExpression="" tableAlias="{Document.DeclaredItems.FindByProductId(SelectedProduct.ProductId)}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИмяХарактеристики==SelectedProduct.ИмяХарактеристики &amp;&amp; Item.ИмяСерии==SelectedProduct.ИмяСерии"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ClearSessionAction all="False" breakPoint="False" id="b3e1b0b4-6211-4e18-8d86-211c758bb0ce" indent="0" name="полная очистка диапазона" nextDirection=""><KeyNames capacity="8" count="5"><String>First</String><String>Last</String><String>Prefix</String><String>FirstSerialCopy</String><String>LastSerialCopy</String></KeyNames></ClearSessionAction><ClearSessionAction all="False" breakPoint="False" id="6e13f633-eadb-4861-a8f3-d458b7708c8f" indent="0" name="редактирование диапазона" nextDirection=""><KeyNames count="2"><String>FirstSerial</String><String>LastSerial</String></KeyNames></ClearSessionAction><MultilineFieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" footerText="&lt;button width=&quot;100%&quot; direction=&quot;break&quot;&gt;{НадписьНаКнопке}&lt;/button&gt;" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - вернуться к простому вводу&lt;/r&gt;}&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.Алко == true:{SelectedProduct.стрАлкоКороткое};}&#xD;&#xA;{SelectedProduct.ЦенаСклад}&#xD;&#xA;&lt;Green&gt;{FirstSerialCopy: Введены серийные № от «(0)»}{LastSerialCopy: до «(0)»}&lt;/Green&gt;&#xD;&#xA;{ErrorMessage}" id="991b2d4a-239b-4da8-940c-fe67ab682c43" indent="0" name="само редактирование" nextDirection="" processImmediately="False" transactionNotch="False"><KeyJumps count="2"><KeyToAction action="Выход по отмене" barcode="00" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="undo" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Lines count="2"><FieldEditLine allowEmpty="False" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{FirstSerial}" selectedItem="" sizeType="Normal" welcomeText="Первый серийный номер:" /><FieldEditLine allowEmpty="False" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{LastSerial}" selectedItem="" sizeType="Normal" welcomeText="Последний серийный номер:" /></Lines></MultilineFieldEditAction><ConditionAction breakPoint="False" expression="FirstSerial.Length == LastSerial.Length" id="18d6d696-d100-410e-86a8-ca3eee797567" indent="0" name="" nextDirection="" noDirection="" yesDirection="поиск префикса серийного номера" /><BaloonAction breakPoint="False" id="301c1006-a951-4341-b7a5-65023268681c" indent="1" isError="True" name="" nextDirection="само редактирование" seconds="0" text="Длина первого и последнего серийных номеров должна быть одинакова!" /><AssignAction breakPoint="False" expression="SerialPrefixLength=FirstSerial.Length" id="772caf0c-4d0a-42fe-800b-1b087e795cc3" indent="0" name="поиск префикса серийного номера" nextDirection="" /><AssignAction breakPoint="False" expression="SerialFormat=&quot;&quot;" id="23b78974-c9d3-4914-ba51-2ab48c9e6392" indent="0" name="заполнить строку формата числа" nextDirection="" /><AssignAction breakPoint="False" expression="SerialPrefixLength=SerialPrefixLength - 1" id="3d18c24d-3cf1-423b-9a4a-d42aa150ca79" indent="1" name="отрезать символ с конца" nextDirection="" /><AssignAction breakPoint="False" expression="SerialFormat=SerialFormat + &quot;0&quot;" id="11553676-1cd7-4b5d-8198-faa555269f98" indent="1" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="SerialPrefixLength != 0" id="5608e995-749a-4414-8013-54805527eec8" indent="1" name="" nextDirection="" noDirection="" yesDirection="нашли префикс?" /><BaloonAction breakPoint="False" id="2aff155b-9fd1-4ef6-9530-25bfc32e0908" indent="2" isError="True" name="неудача" nextDirection="само редактирование" seconds="0" text="Не удалось выявить диапазон между серийными номерами «{FirstSerial}» и «{LastSerial}»!" /><ConditionAction breakPoint="False" expression="FirstSerial.Substring(0, SerialPrefixLength) == LastSerial.Substring(0, SerialPrefixLength) == true" id="981156a8-3f4c-4360-9d11-9c6e4605b62c" indent="1" name="нашли префикс?" nextDirection="" noDirection="отрезать символ с конца" yesDirection="" /><AssignAction breakPoint="False" expression="Prefix=FirstSerial.Substring(0, SerialPrefixLength)" id="43c3d107-4d1a-46fc-a281-a34fe29d1c41" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="First=global::System.Int32.Parse(FirstSerial.Substring(SerialPrefixLength))" id="bdd856b9-a5a6-4b1a-878b-239385e81bda" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="Last=global::System.Int32.Parse(LastSerial.Substring(SerialPrefixLength))" id="09cb2ca1-b75a-40cc-b9c1-e148f7b755a1" indent="0" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="Last - First &gt; GlobalVars.МаксимальныйИнтервалСН" id="92d5b90f-2ee4-4818-bc84-a4f078f6f4bf" indent="0" name="проверка ширины интервала" nextDirection="" noDirection="начало занесения интервала" yesDirection="126" /><BaloonAction breakPoint="False" id="32a30f42-b5ae-43a2-b122-c3ec4a4e8347" indent="1" isError="True" name="123" nextDirection="126" seconds="0" text="Слишком широкий диапазон номеров!! ({Last - First} штук)" /><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="0faa1e88-8954-4b1c-9174-7dc2c60d4a77" indent="1" message="Диапазон превышает {GlobalVars.МаксимальныйИнтервалСН} единиц,&#xD;&#xA;продолжить?" name="126" nextDirection="" noDirection="само редактирование" transactionNotch="True" yesDirection="начало занесения интервала"><KeyJumps count="0" /></QuestionYesNoAction><AssignAction breakPoint="False" expression="FirstCopy=First" id="73080e93-f29a-4ad8-8380-c98aca42ec88" indent="0" name="начало занесения интервала" nextDirection="" /><ConditionAction breakPoint="False" expression="First &gt; Last" id="2eccf399-9d06-4dec-a66c-39ccef74159f" indent="0" name="проверка окончания интервала" nextDirection="" noDirection="" yesDirection="Запись диапазона" /><AssignAction breakPoint="False" expression="SelectedProduct.sn=Prefix + First.ToString(SerialFormat)" id="705d5313-bcea-4e9d-a702-254e97afed86" indent="0" name="" nextDirection="" /><SelectDocumentLineAction breakPoint="False" id="32b3aabe-6852-457e-b4e2-9808441661b6" indent="0" name="" nextDirection="" sessionVariable="SelectedLine"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.sn==SelectedProduct.sn"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="SelectedLine == null" id="79c6b690-f2ed-4983-8dfc-0fbf84cfc218" indent="0" name="" nextDirection="" noDirection="" yesDirection="Проверка принадлежности товара2" /><BaloonAction breakPoint="False" id="a9044513-ec98-491e-8887-b1ccf68d10e2" indent="1" isError="True" name="" nextDirection="ввод диапазона" seconds="3" text="Повтор серийного номера!" /><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="8934bcec-02b2-40ec-a8da-cbdd561bf720" indent="1" name="Проверка принадлежности товара2" nextDirection="" noDirection="Обычная запись2" yesDirection="Запись с проверкой2" /><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="False" checkQuantity="False" combineEqualCurrentItems="False" declaredExpression="" errorQuantityMessage="" id="c8c3a694-021f-45dd-98ec-6a83c249b0c6" ignoreFieldsInDocument="False" indent="1" name="Обычная запись2" nextDirection="Финальное присваивание2" noProductErrorDirection="" noProductInDocumentMessage="" onlyInCurrentItems="False" quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="2"><String>ИдХарактеристики</String><String>ИдСерии</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><FillBufferAction breakPoint="False" bufferName="" checkQuantity="True" combineItems="False" errorQuantityMessage="" fillWithRemains="False" id="0de316b5-7630-40d1-a58d-1d30fc881a78" ignoreFieldsInDocument="True" indent="1" name="Запись с проверкой2" nextDirection="Финальное присваивание2" noProductErrorDirection="Сообщение переполнения2 1" noProductInDocumentMessage="" quantityErrorDirection="Сообщение переполнения2" useSelectedLine="False"><ComparingFieldNames count="0" /></FillBufferAction><AssignAction breakPoint="False" expression="SelectedProduct.sn=null" id="9058a1f9-d4c4-416c-8d57-e2da0a53005e" indent="2" name="Сообщение переполнения2 1" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+1&quot;&gt;ТОВАРА НЕТ В ПЛАНЕ&lt;/b&gt;&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}" id="be784528-b49d-42f8-8df9-e75b0f56fc66" indent="2" name="Товар нет в плане" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText=""><ButtonDirections count="1"><String>Выход по отмене</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="SelectedProduct.sn=null" id="4aa4b37e-1730-45ad-a388-e93d68f4115d" indent="2" name="Сообщение переполнения2" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+2&quot;&gt;ПЕРЕБОР&lt;/b&gt;&#xA;{SelectedProduct.ОтображаемоеИмя}" id="e9e21deb-ff82-4cb2-9fb7-a0d3ca72111a" indent="2" name="" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText="&lt;br/&gt;&#xA;&lt;r size=&quot;-1&quot;&gt;{SelectedProduct.КолвоВДокументе:уже набрано &lt;b&gt;(0)&lt;/b&gt;}{Document.CreatedOnPDA:;{SelectedProduct.ЗаявленноеКолвоВДокументе: из &lt;b&gt;(0)&lt;/b&gt;}}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/r&gt;&#xA;&lt;b size=&quot;-1&quot;&gt;ПЫТАЕТЕСЬ ВЗЯТЬ  {Last-FirstCopy+1}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/b&gt;"><ButtonDirections count="1"><String>Выход по отмене</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="SelectedProduct.sn=null" id="b4eb2b46-2b48-4e02-8419-4d26fc72bc50" indent="1" name="Финальное присваивание2" nextDirection="" /><AssignAction breakPoint="False" expression="First=First + 1" id="8a6e182a-eeaa-404a-8af1-acb61ead859b" indent="0" name="Финальное присваивание3" nextDirection="проверка окончания интервала" /><AssignAction breakPoint="False" expression="FirstSerialCopy=FirstSerial" id="2af9af89-837c-4485-9112-5a35abcc29e4" indent="1" name="Запись диапазона" nextDirection="" /><AssignAction breakPoint="False" expression="LastSerialCopy=LastSerial" id="15fcda94-204b-4023-b75a-c30f68fc4a64" indent="1" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="Buffer != null &amp;&amp; Buffer.Count &gt; 0" id="259b5572-fc65-481d-bf0f-366d9fd992d1" indent="1" name="" nextDirection="" noDirection="return" yesDirection="" /><AcceptBufferAction breakPoint="False" checkDocumentInfill="True" combineEqualCurrentItems="False" id="a0de930b-006a-4b28-b04b-d865f22d1df3" ignoreFieldsInDeclaredItems="True" indent="1" name="" nextDirection="" onlyInCurrentItems="False"><ComparingFieldNames count="0" /><ComparingFieldNamesForCurrentItems count="0" /></AcceptBufferAction><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="2c570c87-1c35-4762-9fed-657276380226" indent="1" nextDirection="" noDirection="return" yesDirection="" /><ConditionAction breakPoint="False" expression="ИзмененныеСтрокиТовара.Completed" id="04e7313c-d5c3-4e5a-9e2e-a5e688391d0b" indent="1" nextDirection="" noDirection="return" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.UnderloadedOrOverloaded" id="4922bffa-4fba-4517-ab59-fb972515f26a" indent="2" nextDirection="" noDirection="" yesDirection="break" /><FinishAction breakPoint="False" id="fe2750b2-ab76-4495-b059-b621e47871b7" immediately="True" indent="3" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="7c1ff1bc-5bbb-4c62-8da7-6c525a8a5f2c" indent="0" name="Выход по отмене" nextDirection="break"><KeyNames count="1"><String>SelectedProduct</String></KeyNames></ClearSessionAction></Actions><Parameters capacity="8" count="5"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиДляСпускаВниз" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiDlyaSpuskaVniz" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="КонтрольТовараБезКолич" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="KontrolTovaraBezKolich" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiPokaza" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="УдалятьСходящиеся" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="UdalyatShodyashhiesya" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиТекущегоТовара" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiTekushhegoTovara" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ФактическиеДобавленныеСтроки" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="FakticheskieDobavlennyeStroki" valueTemplate="" /></Returns></Operation>
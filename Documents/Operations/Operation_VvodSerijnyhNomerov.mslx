<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ВводСерийныхНомеров" serverHosted="False"><Actions capacity="128" count="80"><ConditionAction breakPoint="False" expression="GlobalVars.РежимСерийныхНомеров == &quot;единичный&quot;" id="56fdec48-11b1-4f32-a859-cb7758ec58ba" indent="0" name="Ввод серийных номеров" nextDirection="" noDirection="2" yesDirection="" /><AssignAction breakPoint="False" expression="НадписьНаКнопке=&quot;(00) Отмена&quot;" id="9ad2ab45-2c3e-4ac2-8624-c8c51136ecb8" indent="2" name="" nextDirection="Перед записью" /><AssignAction breakPoint="False" expression="НадписьНаКнопке=&quot;(00) Закончить ввод номеров&quot;" id="aa6938cb-07a6-4933-8cb5-09f16d173920" indent="2" name="2" nextDirection="" /><ConditionAction breakPoint="False" expression="СтрокиДляСпускаВниз != null" id="189d6486-f9d1-4adc-a0a0-d330572db5d4" indent="0" name="Перед записью" nextDirection="" noDirection="125" yesDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="True" exitButtonText="" exitGroupCode="" fullscreen="Inherit" id="ac725c19-f7aa-4c1d-b02e-46a5023e18e9" indent="1" items="{СтрокиДляСпускаВниз}" nextDirection="" transactionNotch="False"><Actions count="2"><ConditionAction breakPoint="False" expression="SelectedLine.UnderloadedOrOverloaded == true" id="286fff31-d514-4395-b5c0-925a1215d70e" indent="1" nextDirection="" noDirection="" yesDirection="continue" /><AssignAction breakPoint="False" expression="СтрокиПоказа.TopBottom(SelectedLine,  false)" id="f0fb3824-4338-4a82-a943-f36efaa1880b" indent="1" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><AssignAction breakPoint="False" expression="ИзмененныеСтрокиТовара = СтрокиДляСпускаВниз" id="e4860b9e-f886-49ab-836c-e94541a53eb5" indent="0" name="125" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.Packing=SelectedProduct.Product.BasePacking" id="2b9de962-06da-436f-8555-49e33bdb00c3" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.ОснШК=SelectedProduct.Packing.Barcode" id="fc6a651e-cf5f-496b-bf3d-3a34f42f8429" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.Quantity=1" id="39ef8b48-c5a0-416c-8359-138dfd17a3c3" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="ИсхИзмСтрокиТовара = ИзмененныеСтрокиТовара" id="7accedca-cb76-4850-9ebb-15f9e6d79a87" indent="0" nextDirection="" /><AssignAction breakPoint="False" expression="ПредыдущийСерийныйНомер=null" id="e406713b-851a-46a4-a7a2-dd72d9178f97" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProductCopy=SelectedProduct" id="97889a47-e68a-4623-a6ce-85fb3a667605" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.СН=null" id="55a5bd58-0151-4ac5-acd4-350899fe2a0f" indent="0" name="сн" nextDirection="" /><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" eanAI="None" editType="DocumentColumn" fieldName="СН" fieldType="String" footerText="&lt;button width=&quot;100%&quot; direction=&quot;break&quot;&gt;{НадписьНаКнопке}&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; direction=&quot;ввод диапазона&quot;&gt;(01) Диапазон&lt;/button&gt;" format="" fullscreen="True" headerText="{GlobalVars.РежимСерийныхНомеров==&quot;единичный&quot;:;&lt;r size=&quot;-1&quot;&gt;(F1) или (01) - ввод диапазона &lt;/r&gt;&lt;hr/&gt;}&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.Алко == true:{SelectedProduct.стрАлкоКороткое};}&#xD;&#xA;{SelectedProduct.ЦенаСклад}&#xD;&#xA;&lt;Green&gt;{ПредыдущийСерийныйНомер: Введен серийный номер «(0)»}&lt;/Green&gt;&#xD;&#xA;{ErrorMessage}&#xD;&#xA;" id="d0b43216-7dd6-4cc0-b941-92436a163129" indent="0" listCaption="" listItemFormat="" name="" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" transactionNotch="True" viewItems="" welcomeText="Серийный номер:"><Columns count="0" /><KeyJumps count="2"><KeyToAction action="ввод диапазона" barcode="01" condition="" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /><KeyToAction action="Выход по отмене" barcode="00" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><SelectDocumentLineAction breakPoint="False" id="131a40ae-4c05-4a3f-a992-20a65273a068" indent="0" name="" nextDirection="" sessionVariable="SelectedLine"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.СН==SelectedProduct.СН"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="SelectedLine == null" id="ca93fb60-dde4-4e57-9549-2d5232619f9e" indent="0" name="" nextDirection="" noDirection="" yesDirection="дальше" /><BaloonAction breakPoint="False" id="3e85c24d-5778-4ef1-97e7-2d6ece15c2f6" indent="1" isError="True" name="" nextDirection="сн" seconds="3" text="Повтор серийного номера!" /><AssignAction breakPoint="False" expression="ScannedBarcode=SelectedProduct.СН" id="a7256c5b-2e34-4232-9684-fea1219e2266" indent="0" name="дальше" nextDirection="" /><ScanAction autoCloseTime="0" autoSelectSingleProduct="True" autoShowSelectionList="False" backgroundImage="" barcodeConvertion="ToUpper" barcodeSessionVariable="ScannedBarcode" breakPoint="False" cancelType="None" canManualShowProductList="True" canSelectCell="False" canSelectPallet="False" cellDirection="" errorSelectDirection="товар" fullscreen="Inherit" id="f170d1b4-957e-4884-990b-025d01bcf73d" ignoreBaseBarcodes="False" ignoreQuantityPolicy="False" indent="0" name="" nextDirection="" notFoundErrorText="" palletDirection="" playAudioOnError="False" processSessionBarcode="True" productsListHeaderText="" quickSelectProduct="True" searchingProducts="" searchPreviousSelected="False" selectionCellNum="0" selectionCellText="" selectionFirstCellText="" selectionListFormat="" selectionPalletText="" selectionSecondCellText="" selectionStorageVariable="" sucsessSelectDirection="" transactionNotch="False" useOnlyDocumentProducts="False" waitImage="" welcomeText="" withoutControls="False"><ExcludeClassificators count="0" /><IncludeClassificators count="0" /><KeyJumps count="0" /><TreeTypeIds count="0" /></ScanAction><ConditionAction breakPoint="False" expression="SelectedProduct.СН == ScannedBarcode" id="199fd478-9f6b-471f-837b-d1381c7da970" indent="1" name="" nextDirection="" noDirection="127" yesDirection="товар" /><AssignAction breakPoint="False" expression="SelectedProduct=SelectedProductCopy" id="5de3669a-1a77-4b11-bf58-103a1347805c" indent="2" name="127" nextDirection="" /><BaloonAction breakPoint="False" id="b43df33c-17c7-43cc-b70f-9f3a8f567e5a" indent="2" isError="True" name="" nextDirection="сн" seconds="3" text="Это штрихкод товара!  Ожидается сканирование серийного номера." /><AssignAction breakPoint="False" expression="SelectedProduct=SelectedProductCopy" id="e725fbff-96c9-42eb-b757-586e465a99b0" indent="0" name="товар" nextDirection="" /><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="850eb24c-6fd1-4532-bc5c-46c3063e973c" indent="1" name="Проверка принадлежности товара1" nextDirection="" noDirection="Обычная запись" yesDirection="Запись с проверкой" /><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="False" checkQuantity="False" combineEqualCurrentItems="False" declaredExpression="Item.ИдСерии==SelectedProduct.ИдСерии&amp;&amp;Item.Характеристика==SelectedProduct.Характеристика&amp;&amp;(Item.IsDeviceCreated||Item.СН==&quot;&quot;||Item.СН==SelectedProduct.СН)" errorQuantityMessage="" id="e239759c-e2e8-4874-953f-7e527dbb09ce" ignoreFieldsInDocument="False" indent="1" name="Обычная запись" nextDirection="Финальное присваивание" noProductErrorDirection="" noProductInDocumentMessage="" onlyInCurrentItems="False" quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="2"><String>serial</String><String>descr</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="True" checkQuantity="True" combineEqualCurrentItems="False" declaredExpression="Item.ИдСерии==SelectedProduct.ИдСерии&amp;&amp;Item.Характеристика==SelectedProduct.Характеристика&amp;&amp;(Item.IsDeviceCreated||Item.СН==&quot;&quot;||Item.СН==SelectedProduct.СН)" errorQuantityMessage="" id="e0fcc022-5c25-40dc-890f-c3e44a5dbca1" ignoreFieldsInDocument="False" indent="1" name="Запись с проверкой" nextDirection="Финальное присваивание" noProductErrorDirection="abort" noProductInDocumentMessage="" onlyInCurrentItems="False" quantityErrorDirection="Сообщение переполнения" useSelectedLine="False"><ComparingFieldNames count="2"><String>serial</String><String>descr</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><AssignAction breakPoint="False" expression="ИзмененныеСтрокиТовара=ИсхИзмСтрокиТовара" id="c3908760-d1de-4574-9ccb-4ee377f6dc10" indent="2" name="Сообщение переполнения" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+2&quot;&gt;ПЕРЕБОР&lt;/b&gt;&#xA;{SelectedProduct.ОтображаемоеИмя}" id="10371503-d69f-48da-8311-e5e430f4d325" indent="2" name="" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText="&lt;br/&gt;&#xD;&#xA;&lt;r size=&quot;-1&quot;&gt;{LastSummaryCurrent:уже набрано &lt;b&gt;(0)&lt;/b&gt;}{Document.CreatedOnPDA:;{LastSummaryDeclared: из &lt;b&gt;(0)&lt;/b&gt;}}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/r&gt;&#xD;&#xA;&lt;b size=&quot;-1&quot;&gt;ПЫТАЕТЕСЬ ВЗЯТЬ {SelectedProduct.QuantityInBasePacking}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/b&gt;"><ButtonDirections count="1"><String>abort</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="ИзмененныеСтрокиТовара=LastChangedDeclaredItems" id="512052b2-7b3b-4538-bea9-1578e975dadb" indent="1" name="Финальное присваивание" nextDirection="" /><AssignAction breakPoint="False" expression="СтрокиТекущегоТовара = LastChangedDeclaredItems;&#xD;&#xA;ФактическиеДобавленныеСтроки = LastChangedCurrentItems;" id="33094779-187b-471c-bce5-03d65c0d6b69" indent="1" name="7" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="True" exitButtonText="" exitGroupCode="" fullscreen="Inherit" id="57526b16-0b0b-4a6b-b984-c2dca44d3a9f" indent="1" items="{СтрокиТекущегоТовара}" name="Финал" nextDirection="" transactionNotch="False"><Actions capacity="8" count="7"><ConditionAction breakPoint="False" expression="SelectedProduct.ЦенаПриемки&gt;0" id="a6a4484c-9d21-4c71-a04e-f7c0d215aef9" indent="0" nextDirection="" noDirection="3" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedLine.ЦенаПриемки = SelectedProduct.ЦенаПриемки" id="581bdad2-e584-439d-a7ce-f892456a53be" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="SelectedProduct.НомерСтрокиДокумента &gt; 0" id="0430e906-2d5b-4d35-a38d-28d7a194fcc7" indent="0" name="3" nextDirection="" noDirection="2" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedLine.НомерСтрокиДокумента = SelectedProduct.НомерСтрокиДокумента" id="b98999bf-6320-45c2-85bf-414b70f744bc" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="УдалятьСходящиеся &amp;&amp; SelectedLine.UnderloadedOrOverloaded == false" id="58d45ccb-1faf-4fae-8dad-84734522a702" indent="0" name="2" nextDirection="" noDirection="1" yesDirection="" /><AssignAction breakPoint="False" expression="q=СтрокиПоказа.Remove(SelectedLine)" id="1aee91fd-a9bb-4c47-8868-6f5b0ad8cdc5" indent="1" name="" nextDirection="continue" /><AssignAction breakPoint="False" expression="СтрокиПоказа.TopBottom(SelectedLine,  true)" id="89c38fad-0096-4642-8ba8-2eb02fe11835" indent="0" name="1" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="390a5253-219b-4f82-b2c0-3fa228d144db" indent="1" nextDirection="" noDirection="124" yesDirection="" /><ConditionAction breakPoint="False" expression="ИзмененныеСтрокиТовара.Completed" id="f6a26a08-433c-4baa-9659-28f5d901374c" indent="1" nextDirection="" noDirection="124" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.UnderloadedOrOverloaded" id="e750eddc-5c29-4d5a-b323-c067fb8b16da" indent="2" nextDirection="" noDirection="" yesDirection="break" /><FinishAction breakPoint="False" id="e43efe26-e6cb-43df-99a3-dc1e090fc115" immediately="True" indent="3" nextDirection="" /><ConditionAction breakPoint="False" expression="GlobalVars.РежимСерийныхНомеров == &quot;единичный&quot;" id="ab08b8e9-7bcc-4d01-9f6e-09d7a7b0508e" indent="1" name="124" nextDirection="" noDirection="" yesDirection="break" /><AssignAction breakPoint="False" expression="ПредыдущийСерийныйНомер=SelectedProduct.СН" id="1eb154fa-f905-4aa3-8d0e-30e9555a7d2b" indent="1" name="" nextDirection="сн" /><SelectDocumentLinesAction breakPoint="False" id="f268ecfe-ecfa-4c11-9cc9-9d3ea3e7938b" indent="0" name="ввод диапазона" nextDirection="" sessionVariable="ИзмененныеСтрокиТовара"><Query copySelection="False" documentLines="Declared" from="{Document.DeclaredItems.FindByProductId(SelectedProduct.ProductId)}" sourceWhereExpression="" tableAlias="{Document.DeclaredItems.FindByProductId(SelectedProduct.ProductId)}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИмяХарактеристики==SelectedProduct.ИмяХарактеристики &amp;&amp; Item.ИмяСерии==SelectedProduct.ИмяСерии"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ClearSessionAction all="False" breakPoint="False" id="388e57a0-5d2b-45e4-92ea-c7ac423d5183" indent="0" name="полная очистка диапазона" nextDirection=""><KeyNames capacity="8" count="5"><String>First</String><String>Last</String><String>Prefix</String><String>FirstSerialCopy</String><String>LastSerialCopy</String></KeyNames></ClearSessionAction><ClearSessionAction all="False" breakPoint="False" id="66a4692b-2f30-4c87-ba29-b88126e1044a" indent="0" name="редактирование диапазона" nextDirection=""><KeyNames count="2"><String>FirstSerial</String><String>LastSerial</String></KeyNames></ClearSessionAction><MultilineFieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" footerText="&lt;button width=&quot;100%&quot; direction=&quot;break&quot;&gt;{НадписьНаКнопке}&lt;/button&gt;" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - вернуться к простому вводу&lt;/r&gt;}&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.Алко == true:{SelectedProduct.стрАлкоКороткое};}&#xD;&#xA;{SelectedProduct.ЦенаСклад}&#xD;&#xA;&lt;Green&gt;{FirstSerialCopy: Введены серийные № от «(0)»}{LastSerialCopy: до «(0)»}&lt;/Green&gt;&#xD;&#xA;{ErrorMessage}" id="a1c6d907-4a79-4108-997f-016b0fe1fb9d" indent="0" name="само редактирование" nextDirection="" processImmediately="False" transactionNotch="False"><KeyJumps count="2"><KeyToAction action="Выход по отмене" barcode="00" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="undo" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Lines count="2"><FieldEditLine allowEmpty="False" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{FirstSerial}" selectedItem="" sizeType="Normal" welcomeText="Первый серийный номер:" /><FieldEditLine allowEmpty="False" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{LastSerial}" selectedItem="" sizeType="Normal" welcomeText="Последний серийный номер:" /></Lines></MultilineFieldEditAction><ConditionAction breakPoint="False" expression="FirstSerial.Length == LastSerial.Length" id="6323c9eb-14ff-4a3e-a823-fc0c08239cca" indent="0" name="" nextDirection="" noDirection="" yesDirection="поиск префикса серийного номера" /><BaloonAction breakPoint="False" id="02c40c2e-1dc3-4a23-bdb0-c751ea0b49ff" indent="1" isError="True" name="" nextDirection="само редактирование" seconds="0" text="Длина первого и последнего серийных номеров должна быть одинакова!" /><AssignAction breakPoint="False" expression="SerialPrefixLength=FirstSerial.Length" id="9ae0a4a1-f0fe-4681-af73-d7f4b034a6a8" indent="0" name="поиск префикса серийного номера" nextDirection="" /><AssignAction breakPoint="False" expression="SerialFormat=&quot;&quot;" id="c7d6ca31-23d8-4102-967d-c336a56e2dc6" indent="0" name="заполнить строку формата числа" nextDirection="" /><AssignAction breakPoint="False" expression="SerialPrefixLength=SerialPrefixLength - 1" id="7d96312d-eb7c-481a-96c9-fc77be52ed57" indent="1" name="отрезать символ с конца" nextDirection="" /><AssignAction breakPoint="False" expression="SerialFormat=SerialFormat + &quot;0&quot;" id="1b66c8b6-ed41-434f-b5d6-52096dcf46aa" indent="1" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="SerialPrefixLength != 0" id="46fcac62-349a-4044-b8d4-f696fc6b168e" indent="1" name="" nextDirection="" noDirection="" yesDirection="нашли префикс?" /><BaloonAction breakPoint="False" id="c83f9c96-3bcb-4c60-af4e-8a98a6b63036" indent="2" isError="True" name="неудача" nextDirection="само редактирование" seconds="0" text="Не удалось выявить диапазон между серийными номерами «{FirstSerial}» и «{LastSerial}»!" /><ConditionAction breakPoint="False" expression="FirstSerial.Substring(0, SerialPrefixLength) == LastSerial.Substring(0, SerialPrefixLength) == true" id="a151380e-ac52-4929-8f6a-642a5abb5acd" indent="1" name="нашли префикс?" nextDirection="" noDirection="отрезать символ с конца" yesDirection="" /><AssignAction breakPoint="False" expression="Prefix=FirstSerial.Substring(0, SerialPrefixLength)" id="fa006bba-e478-48a5-8804-6d8e571c8e97" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="First=global::System.Int32.Parse(FirstSerial.Substring(SerialPrefixLength))" id="5ee527e7-7cd2-4477-bb80-a815fd6a99dc" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="Last=global::System.Int32.Parse(LastSerial.Substring(SerialPrefixLength))" id="68a043b4-46d7-437f-b1f8-24e5b99233d3" indent="0" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="Last - First &gt; GlobalVars.МаксимальныйИнтервалСН" id="039a35b4-1d2f-4f6e-b97e-a7ead0fff0cd" indent="0" name="проверка ширины интервала" nextDirection="" noDirection="начало занесения интервала" yesDirection="126" /><BaloonAction breakPoint="False" id="bfb026e3-f900-46e3-8e5d-e0dcfc10a060" indent="1" isError="True" name="123" nextDirection="126" seconds="0" text="Слишком широкий диапазон номеров!! ({Last - First} штук)" /><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="a82ba482-7a11-4d34-9560-1a2752e6387a" indent="1" message="Диапазон превышает {GlobalVars.МаксимальныйИнтервалСН} единиц,&#xD;&#xA;продолжить?" name="126" nextDirection="" noDirection="само редактирование" transactionNotch="True" yesDirection="начало занесения интервала"><KeyJumps count="0" /></QuestionYesNoAction><AssignAction breakPoint="False" expression="FirstCopy=First" id="a993d199-04a4-48bd-8b0a-e36abfc8d974" indent="0" name="начало занесения интервала" nextDirection="" /><ConditionAction breakPoint="False" expression="First &gt; Last" id="3f79f88d-839a-4dad-bf9a-6818a218fd8c" indent="0" name="проверка окончания интервала" nextDirection="" noDirection="" yesDirection="Запись диапазона" /><AssignAction breakPoint="False" expression="SelectedProduct.sn=Prefix + First.ToString(SerialFormat)" id="e22b9551-d6ab-41ab-8b78-d531e9e08371" indent="0" name="" nextDirection="" /><SelectDocumentLineAction breakPoint="False" id="96f92a1c-4248-423f-92b0-82621888d6dd" indent="0" name="" nextDirection="" sessionVariable="SelectedLine"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.sn==SelectedProduct.sn"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="SelectedLine == null" id="398c5636-3e08-4280-b353-0d8382eccfc4" indent="0" name="" nextDirection="" noDirection="" yesDirection="Проверка принадлежности товара2" /><BaloonAction breakPoint="False" id="6031d982-744e-4689-9da5-2c0df759eafd" indent="1" isError="True" name="" nextDirection="ввод диапазона" seconds="3" text="Повтор серийного номера!" /><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="83661382-b011-4072-8810-096607ef0fda" indent="1" name="Проверка принадлежности товара2" nextDirection="" noDirection="Обычная запись2" yesDirection="Запись с проверкой2" /><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="False" checkQuantity="False" combineEqualCurrentItems="False" declaredExpression="" errorQuantityMessage="" id="e23acfa4-e54e-45cb-8881-7b8bb59e39b3" ignoreFieldsInDocument="False" indent="1" name="Обычная запись2" nextDirection="Финальное присваивание2" noProductErrorDirection="" noProductInDocumentMessage="" onlyInCurrentItems="False" quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="2"><String>ИдХарактеристики</String><String>ИдСерии</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><FillBufferAction breakPoint="False" bufferName="" checkQuantity="True" combineItems="False" errorQuantityMessage="" fillWithRemains="False" id="bf88523a-0c2a-4ff7-91bb-9deaf15a81cb" ignoreFieldsInDocument="True" indent="1" name="Запись с проверкой2" nextDirection="Финальное присваивание2" noProductErrorDirection="Сообщение переполнения2 1" noProductInDocumentMessage="" quantityErrorDirection="Сообщение переполнения2" useSelectedLine="False"><ComparingFieldNames count="0" /></FillBufferAction><AssignAction breakPoint="False" expression="SelectedProduct.sn=null" id="210d8c9e-a612-41a2-bc15-1138ba6bd087" indent="2" name="Сообщение переполнения2 1" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+1&quot;&gt;ТОВАРА НЕТ В ПЛАНЕ&lt;/b&gt;&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}" id="ccc14b10-afb3-4215-a9d5-54af2ea3deb1" indent="2" name="Товар нет в плане" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText=""><ButtonDirections count="1"><String>Выход по отмене</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="SelectedProduct.sn=null" id="e015dc96-845b-423a-84b6-61d1e39a5b29" indent="2" name="Сообщение переполнения2" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+2&quot;&gt;ПЕРЕБОР&lt;/b&gt;&#xA;{SelectedProduct.ОтображаемоеИмя}" id="43a5bf3f-b4ed-4ca1-a273-9bca4bfa676c" indent="2" name="" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText="&lt;br/&gt;&#xA;&lt;r size=&quot;-1&quot;&gt;{SelectedProduct.КолвоВДокументе:уже набрано &lt;b&gt;(0)&lt;/b&gt;}{Document.CreatedOnPDA:;{SelectedProduct.ЗаявленноеКолвоВДокументе: из &lt;b&gt;(0)&lt;/b&gt;}}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/r&gt;&#xA;&lt;b size=&quot;-1&quot;&gt;ПЫТАЕТЕСЬ ВЗЯТЬ  {Last-FirstCopy+1}{SelectedProduct.Product.BasePacking.Name: (0)}&lt;/b&gt;"><ButtonDirections count="1"><String>Выход по отмене</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="SelectedProduct.sn=null" id="af03f858-7625-458b-9155-51c1bc70865b" indent="1" name="Финальное присваивание2" nextDirection="" /><AssignAction breakPoint="False" expression="First=First + 1" id="752e6cff-6a34-4e48-88ea-de00a9281769" indent="0" name="Финальное присваивание3" nextDirection="проверка окончания интервала" /><AssignAction breakPoint="False" expression="FirstSerialCopy=FirstSerial" id="85dbdad1-5328-4e71-8888-840d2c9c6f12" indent="1" name="Запись диапазона" nextDirection="" /><AssignAction breakPoint="False" expression="LastSerialCopy=LastSerial" id="8e7cc095-1158-4309-b98d-3b6c30e5ba57" indent="1" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="Buffer != null &amp;&amp; Buffer.Count &gt; 0" id="2857453f-edd3-49fc-878d-a4977b77c240" indent="1" name="" nextDirection="" noDirection="return" yesDirection="" /><AcceptBufferAction breakPoint="False" checkDocumentInfill="True" combineEqualCurrentItems="False" id="d1838d5c-52aa-4b2c-b495-c2bbfd1c0866" ignoreFieldsInDeclaredItems="True" indent="1" name="" nextDirection="" onlyInCurrentItems="False"><ComparingFieldNames count="0" /><ComparingFieldNamesForCurrentItems count="0" /></AcceptBufferAction><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="041797d7-b70e-477f-a36f-2d2dc60f888c" indent="1" nextDirection="" noDirection="return" yesDirection="" /><ConditionAction breakPoint="False" expression="ИзмененныеСтрокиТовара.Completed" id="2722e887-0492-4f68-be47-eff9c25d6b3f" indent="1" nextDirection="" noDirection="return" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.UnderloadedOrOverloaded" id="dbd5c310-fc6f-4f59-a8a3-55920f891cc6" indent="2" nextDirection="" noDirection="" yesDirection="break" /><FinishAction breakPoint="False" id="78accc14-c70b-46e5-867d-43dc1b50168f" immediately="True" indent="3" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="9ba2695c-bff3-4673-b88b-36f0f66b2914" indent="0" name="Выход по отмене" nextDirection="break"><KeyNames count="1"><String>SelectedProduct</String></KeyNames></ClearSessionAction></Actions><Parameters capacity="8" count="5"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиДляСпускаВниз" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiDlyaSpuskaVniz" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="КонтрольТовараБезКолич" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="KontrolTovaraBezKolich" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiPokaza" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="УдалятьСходящиеся" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="UdalyatShodyashhiesya" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиТекущегоТовара" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiTekushhegoTovara" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ФактическиеДобавленныеСтроки" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="FakticheskieDobavlennyeStroki" valueTemplate="" /></Returns></Operation>
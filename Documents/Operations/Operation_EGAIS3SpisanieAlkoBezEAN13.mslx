<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ЕГАИС3 СписаниеАлкоБезЕАН13" serverHosted="False"><Actions capacity="128" count="66"><AssignAction breakPoint="False" expression="ВШапку = &quot;&quot;" id="cb3fac87-2526-4f3b-a9f3-12e3548c06e1" indent="0" name="32" nextDirection="" /><AssignAction breakPoint="False" expression="Scanner.EnableBarcodeType(&quot;PDF417&quot;, true);&#xD;&#xA;Scanner.EnableBarcodeType(&quot;DataMatrix&quot;, false);" id="2e7a7ac5-a69b-4b7c-b93c-38c5d2df5a0e" indent="0" name="Сканер только PDF417" nextDirection="" /><ConditionAction breakPoint="False" expression="СтрокиПоказа == null" id="62be522f-7237-49d3-8da5-5e5b3add5500" indent="0" name="31" nextDirection="" noDirection="30" yesDirection="" /><OperationAction abortDirection="" breakPoint="False" id="3529e8b4-304b-4d0c-b53c-5bdd87a36a35" indent="1" name="34" nextDirection="" operationName="ЕГАИС3 СформироватьСтрокиДляПоказа" transactionNotch="False"><InKeys count="2"><String>ССортировкой</String><String>ТолькоРасхождения</String></InKeys><InValues count="2"><String>{Document.CreatedOnPDA == false}</String><String>{ПоказРасхожденийВСписке}</String></InValues><OutKeys count="1"><String>Строки</String></OutKeys><OutValues count="1"><String>{СтрокиПоказа}</String></OutValues></OperationAction><ConditionAction breakPoint="False" expression="Document.CreatedOnPDA == true" id="8f48b9c6-b915-4ef5-a8eb-b480ac72b387" indent="0" name="30" nextDirection="" noDirection="35" yesDirection="" /><FormattedPageAction autoCloseTime="0" backColor="White" backgroundImage="" breakPoint="False" cancelType="None" footerText="{Document.АлкоМногоДМ!=true:{сч= Document.CurrentItems.FindByField(&quot;АлкоКод&quot;,SelectedProduct.АлкоКод).Count};}&#xD;&#xA;{SelectedProduct.ПроверкаЧМ==true || CheckMark.IsInstalled == false:;&lt;button direction=&quot;Вызов чекмарк 2&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Проверить в CheckMark&lt;/button&gt;}{Document.АлкоМногоДМ==true||сч!=&quot;&quot;:{сч==0:&lt;button direction=&quot;Прервать&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;;&lt;button direction=&quot;Завершить&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;({сч} ном.) Завершить&lt;/button&gt;};&lt;button direction=&quot;Прервать&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;}" fullscreen="Inherit" headerText="{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.стрАлкоКороткое}&#xD;&#xA;&lt;r size=&quot;-4&quot; color =  &quot;DarkSlateGray&quot;&gt;{SelectedProduct.ЦенаСкладВводКолва}&lt;/r&gt;&#xD;&#xA;{SelectedProduct.ДатаРозлива.Year==1:;{SelectedProduct.ДатаРозлива: Дата розлива: &lt;b color=&quot;DarkBlue&quot;&gt;(0:dd.MM.yyyy)&lt;/b&gt;}}&#xD;&#xA;&lt;r size=&quot;-1&quot; color=&quot;Red&quot;&gt;{УжеПДФ != null:{УжеПДФ.АлкоПДФ} уже добавлен в документ!;}&#xD;&#xA;{ErrorMessage}&lt;/r&gt;&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;{MSG}&lt;/b&gt;" id="33d4a072-fd72-4dfa-a5bd-52a1878454aa" indent="0" name="ФАКТ скан" nextDirection="30" singlePage="False" transactionNotch="True"><Blocks count="1"><LabelPageBlock align="TopCenter" allBorder="0" backColor="Transparent" bottomBorder="0" foreColor="Black" leftBorder="0" rightBorder="0" text="Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;PDF 417&lt;/b&gt;&#xA;&lt;img tcolor=&quot;no&quot; size=&quot;stretch&quot; maxwidth=&quot;100%&quot; align=&quot;center&quot; direction=&quot;&quot;&gt;egares.pdf417&lt;/img&gt;" topBorder="0" /></Blocks><KeyJumps count="2"><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></FormattedPageAction><OperationAction abortDirection="ФАКТ скан" breakPoint="False" id="b11d035f-ca9e-4ad3-a587-30b7579d7558" indent="1" name="Вызов чекмарк 2" nextDirection="ФАКТ скан" operationName="ЕГАИС3 ВызовЧекМарк" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true &amp;&amp; СтрокиПоказа!=null" id="ed4ae8a0-3b58-4c0a-b117-69d097819c91" indent="0" name="35" nextDirection="" noDirection="38" yesDirection="" /><SelectDocumentLinesAction breakPoint="False" id="2d081438-8e27-4e51-b5b8-007204153c1e" indent="1" nextDirection="36" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="2"><String>ProductId</String><String>АлкоКод</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" id="c1fed6b0-139a-4819-8d2b-279e4010d066" indent="0" name="38" nextDirection="36" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="план/факт" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="" format="" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - меню&lt;/r&gt;}&#xD;&#xA;&lt;r align=&quot;left&quot; color=&quot;Black&quot;&gt;{ВШапку != null &amp;&amp; ВШапку != &quot;&quot;:{ВШапку == &quot;ДругойАлкоКод&quot;:Марка содержит новый алкокод!&lt;br /&gt;Начните сканирование с ШК товара.;};}&lt;/r&gt;&#xD;&#xA;&lt;Red&gt;{ErrorMessage}&lt;/Red&gt;&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;{MSG}&lt;/b&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;PDF 417:&lt;/b&gt;&lt;/b&gt;&#xD;&#xA;" id="9381f3c0-ba64-4f1f-aee9-9ad10d2cc73e" indent="0" listCaption="{Document.CreatedOnPDA:&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;Всего строк: {СтрокиПоказа.Count}&lt;/r&gt;&#xD;&#xA;;&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;{ПоказРасхожденийВСписке==true:Не сошлось: {Document.докНеСошлось} из {Document.DeclaredItems.Count} строк;Сошлось: {Document.докСошлось} из {Document.DeclaredItems.Count} строк}&lt;/b&gt;}" listItemFormat="{&quot;&quot;}" name="Скан ШК в списке" nextDirection="23" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" transactionNotch="True" viewItems="{СтрокиПоказа}" welcomeText=""><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрВСписке}&#xD;&#xA;&lt;b&gt;{Item.ТоварКИЗ == true:{Item.ИмяСерии:КИЗ: (0)};{Item.ИмяСерии:Серия: (0)}}&lt;/b&gt;&#xD;&#xA;{Document.DocumentType.Name == &quot;ПодборЗаказа&quot;:{ВводЦены==true || ПоказЦены==true:&lt;r color=&quot;DarkBlue&quot;&gt;{Item.стрЦена}&lt;/r&gt;&lt;r color=&quot;Red&quot;&gt;{Item.ЦенаОтлич: отличается;}&lt;/r&gt;;};}{ВводНомераСтроки==true &amp;&amp; Item.НомерСтрокиДокумента&gt;0:&lt;r color=&quot;DarkGreen&quot;&gt;&lt;br/&gt;№ в накладной: {Item.НомерСтрокиДокумента}&lt;/r&gt;;} &#xD;&#xA;&lt;b&gt;({Item.Packing!=&quot;&quot;:{Item.Packing.Name};{Item.PackingId}})&lt;/b&gt; {Item.ЕстьСН == true:&lt;Blue&gt;c S/N&lt;/Blue&gt;;}" leftBorder="0" rightBorder="0" title="Номенклатура" topBorder="0" width="50%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Item.DeclaredQuantity:0.###}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="План" topBorder="0" width="25%" /><ItemsColumn align="MiddleRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Document.CreatedOnPDA == false:{Item.UnderloadedOrOverloaded == false:&lt;r color=&quot;Green&quot;&gt;OK&lt;/r&gt;;{Item.CurrentQuantity != 0:&lt;r color=&quot;Red&quot;&gt;{Item.CurrentQuantity:0.###}&lt;/r&gt;;0}};{Item.CurrentQuantity:0.###}}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="Факт" topBorder="0" width="25%" /></Columns><KeyJumps count="3"><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="Вкл откл помощь" barcode="" condition="Device.NoKeyboard != true" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ItemsViewAction id="db14ea64-31b8-4703-8e0d-b4136e5085a3" name="36" nextDirection="" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - меню&lt;/r&gt;}&#xD;&#xA;&lt;r align=&quot;left&quot; color=&quot;Black&quot;&gt;{ВШапку != null &amp;&amp; ВШапку != &quot;&quot;:{ВШапку == &quot;ДругойАлкоКод&quot;:Марка содержит новый алкокод!&lt;br /&gt;Начните сканирование с ШК товара.;};}&lt;/r&gt;&#xD;&#xA;&lt;Red&gt;{ErrorMessage}&lt;/Red&gt;&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;{MSG}&lt;/b&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;PDF 417:&lt;/b&gt;&lt;/b&gt;" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{СтрокиПоказа}" welcomeText="{Document.CreatedOnPDA:&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;Всего строк: {СтрокиПоказа.Count}&lt;/r&gt;&#xD;&#xA;;&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;{ПоказРасхожденийВСписке==true:Не сошлось: {Document.докНеСошлось} из {Document.DeclaredItems.Count} строк;Сошлось: {Document.докСошлось} из {Document.DeclaredItems.Count} строк}&lt;/b&gt;}"><KeyJumps count="3"><KeyToAction action="Вкл откл помощь" barcode="" condition="Device.NoKeyboard != true" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрВСписке}&#xD;&#xA;&lt;b&gt;{Item.ТоварКИЗ == true:{Item.ИмяСерии:КИЗ: (0)};{Item.ИмяСерии:Серия: (0)}}&lt;/b&gt;&#xD;&#xA;{Document.DocumentType.Name == &quot;ПодборЗаказа&quot;:{ВводЦены==true || ПоказЦены==true:&lt;r color=&quot;DarkBlue&quot;&gt;{Item.стрЦена}&lt;/r&gt;&lt;r color=&quot;Red&quot;&gt;{Item.ЦенаОтлич: отличается;}&lt;/r&gt;;};}{ВводНомераСтроки==true &amp;&amp; Item.НомерСтрокиДокумента&gt;0:&lt;r color=&quot;DarkGreen&quot;&gt;&lt;br/&gt;№ в накладной: {Item.НомерСтрокиДокумента}&lt;/r&gt;;} &#xD;&#xA;&lt;b&gt;({Item.Packing!=&quot;&quot;:{Item.Packing.Name};{Item.PackingId}})&lt;/b&gt; {Item.ЕстьСН == true:&lt;Blue&gt;c S/N&lt;/Blue&gt;;}" leftBorder="0" rightBorder="0" title="Номенклатура" topBorder="0" width="50%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Item.DeclaredQuantity:0.###}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="План" topBorder="0" width="25%" /><ItemsColumn align="MiddleRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Document.CreatedOnPDA == false:{Item.UnderloadedOrOverloaded == false:&lt;r color=&quot;Green&quot;&gt;OK&lt;/r&gt;;{Item.CurrentQuantity != 0:&lt;r color=&quot;Red&quot;&gt;{Item.CurrentQuantity:0.###}&lt;/r&gt;;0}};{Item.CurrentQuantity:0.###}}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="Факт" topBorder="0" width="25%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ClearSessionAction all="False" breakPoint="False" id="b28eb57b-a906-4704-bec8-0d0270a57205" indent="0" name="23" nextDirection=""><KeyNames count="2"><String>ErrorMessage</String><String>СтрокаПланАлко</String></KeyNames></ClearSessionAction><ClearSessionAction all="False" breakPoint="False" id="88deb30e-5de3-4aff-8e07-7cd2c9a01f5c" indent="0" name="158" nextDirection=""><KeyNames capacity="16" count="11"><String>Error</String><String>ЭтоПалета</String><String>ЭтоКоробка</String><String>Коды</String><String>МаркаНовогоТипа</String><String>ErrBarcode</String><String>АлкоКод</String><String>НаименованиеОшибка</String><String>MSG</String><String>УжеПДФ</String><String>АлкоПДФ</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="f233f21a-b23b-457d-8d7f-691b3aec8910" indent="0" name="обр только марка" nextDirection="" operationName="ЕГАИС3 ОбработкаОшибки" transactionNotch="False"><InKeys count="1"><String>PDF417</String></InKeys><InValues count="1"><String>True</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="Error == true" id="f4faeb26-0792-4265-9666-7f717cbc8ca6" indent="0" nextDirection="" noDirection="" yesDirection="back" /><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true" id="32686b24-e5ee-49d5-b666-f08f28c207a9" indent="0" nextDirection="" noDirection="33" yesDirection="" /><AssignAction breakPoint="False" expression="ПоискПДФВПлане = Document.DeclaredItems.FindFirstByField(&quot;АлкоПДФ&quot;, ScannedBarcode)" id="caa203f7-2f0e-4886-bf9d-2f1452165aed" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="ПоискПДФВПлане == null &amp;&amp; Document.КонтрольКолва == true" id="dc96718e-4563-44b1-9d95-7524da22fe20" indent="1" nextDirection="" noDirection="33" yesDirection="" /><BaloonAction breakPoint="False" id="800329c1-9ed2-455f-b208-e47ec8689be2" indent="2" isError="True" name="Ошибка ПДФ 2 1" nextDirection="28 1" seconds="3" text="PDF417 не найден в накладной" /><ClearSessionAction all="False" breakPoint="False" id="5e3e33b5-b18a-4c77-89ad-5faef8ff54a9" indent="2" name="28 1" nextDirection="31"><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="УжеБылТакойПДФ = Document.CurrentItems.FindFirstByField(&quot;АлкоПДФ&quot;, ScannedBarcode)" id="bfd25992-8f74-473d-bfa3-01912cb421fc" indent="0" name="33" nextDirection="" /><ConditionAction breakPoint="False" expression="УжеБылТакойПДФ != null" id="a0343fa5-4556-4af6-9d2c-23531e2588ae" indent="0" nextDirection="" noDirection="22" yesDirection="" /><BaloonAction breakPoint="False" id="a7b6b949-82fe-4c88-aef0-898cc3812898" indent="2" isError="True" name="Ошибка ПДФ 2" nextDirection="28" seconds="3" text="Марка уже сканировалась" /><ClearSessionAction all="False" breakPoint="False" id="dfdeecd3-47f4-41d1-91a5-de679c117563" indent="2" name="28" nextDirection="37"><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="c6fe3817-0720-4ed5-9584-763cd240ea5e" indent="2" message="&lt;r&gt;{ErrorMessage}, удалить позицию?&lt;/r&gt;&#xD;&#xA;{УжеБылТакойПДФ.стрОсновное}&#xD;&#xA;{УжеБылТакойПДФ.АлкоКод:Код ЕГАИС: (0)}" name="37" nextDirection="" noDirection="28 2" transactionNotch="True" yesDirection=""><KeyJumps count="0" /></QuestionYesNoAction><RemoveDocumentLineAction breakPoint="False" id="155f7536-c246-4615-ad3e-69ac0bf93bb5" indent="2" nextDirection="" packing="" quantity="" quantityErrorDirection="" sessionVariable="УжеБылТакойПДФ" /><ClearSessionAction all="False" breakPoint="False" id="e9c475b5-86e1-453b-97a6-bcd938e175db" indent="2" name="28 2" nextDirection="31"><KeyNames count="1"><String>ErrorMessage</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="ScannedBarcode == &quot;&quot;" id="c2701bac-ebab-40fc-984e-d34edd235fe2" indent="0" name="22" nextDirection="" noDirection="" yesDirection="9" /><AssignAction breakPoint="False" expression="АлкоПДФ = ScannedBarcode" id="80eba1cc-6b0c-468b-8c02-dc419f1df0b9" indent="1" name="29 1" nextDirection="" /><ConditionAction breakPoint="False" expression="МаркаНовогоТипа == true" id="e4ca74a8-59bf-4d73-9e3e-c9c368d35a3e" indent="1" nextDirection="" noDirection="159" yesDirection="" /><ClearSessionAction all="False" breakPoint="False" id="d25eb5a8-4c10-4680-a191-331741d08da1" indent="2" name="очистка 1" nextDirection=""><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="Scanner.EnableBarcodeType(&quot;EAN13&quot;, false)" id="fa478f0e-3fe1-47c7-bd14-d27a3b2ae22d" indent="2" name="Сброс сканера 1" nextDirection="" /><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Выбрана новая марка, сканируем товар" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" format="" fullscreen="Inherit" headerText="&lt;b size=&quot;+2&quot; align=&quot;center&quot; color=&quot;Red&quot;&gt;{MSG}&lt;/b&gt;" id="f870ffd0-0e21-4d36-9dfa-54945cb11d4e" indent="2" listItemFormat="" name="Выбрана марка нового типа, сканируем товар 1" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" transactionNotch="True" viewItems="" welcomeText="&lt;b size=&quot;+2&quot; color=&quot;black&quot;&gt;СКАНИРУЙТЕ&lt;/b&gt; &lt;b size=&quot;+2&quot; color=&quot;Red&quot;&gt;ШК ТОВАРА&lt;/b&gt;&#xD;&#xA;&lt;img tcolor=&quot;no&quot; size=&quot;stretch&quot; maxwidth=&quot;100%&quot; align=&quot;center&quot;&gt;egares.ean13&lt;/img&gt;"><Columns count="0" /><KeyJumps count="2"><KeyToAction action="undo" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="Обработка ошибки 1" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><OperationAction abortDirection="" breakPoint="False" id="f537329f-f6cc-4633-84cd-4791062c3ac1" indent="2" name="Обработка ошибки 1" nextDirection="" operationName="ЕГАИС3 ОбработкаОшибки" transactionNotch="False"><InKeys capacity="8" count="6"><String>ScannedBarcode</String><String>EAN13</String><String>PDF417</String><String>Pallet</String><String>Box</String><String>Product</String></InKeys><InValues capacity="8" count="6"><String>{ScannedBarcode}</String><String>True</String><String>False</String><String>False</String><String>False</String><String>True</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="Error==True" id="6c1f4225-849f-406d-baa4-0bd297ae5067" indent="2" name="была ли ошибка 1" nextDirection="" noDirection="" yesDirection="undo" /><ScanAction autoCloseTime="0" autoSelectSingleProduct="True" autoShowSelectionList="True" backgroundImage="" barcodeConvertion="ToUpper" barcodeSessionVariable="ScannedBarcode" breakPoint="False" cancelType="None" canManualShowProductList="True" canSelectCell="False" canSelectPallet="False" cellDirection="" errorSelectDirection="товар не найден по ЕАН 1" footerText="" fullscreen="True" headerText="&#xD;&#xA;" id="3d137090-e495-48f3-9863-9a4726e80610" ignoreBaseBarcodes="False" ignoreQuantityPolicy="False" indent="2" name="Скан шк товара 1" nextDirection="" notFoundErrorText="товар по артикулу или коду не найден" palletDirection="" playAudioOnError="True" processSessionBarcode="True" productsListHeaderText="" quickSelectProduct="False" searchingProducts="" searchPreviousSelected="False" selectionCellNum="0" selectionCellText="" selectionFirstCellText="" selectionListFormat="{Item.товВСпискеВыбора}" selectionPalletText="" selectionSecondCellText="" selectionStorageVariable="" sucsessSelectDirection="149 1" transactionNotch="False" useOnlyDocumentProducts="False" waitImage="" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;СКАНИРУЙТЕ ШК ТОВАРА&lt;/b&gt;" withoutControls="False"><ExcludeClassificators count="0" /><IncludeClassificators count="0" /><KeyJumps count="1"><KeyToAction action="undo" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><TreeTypeIds count="0" /></ScanAction><OperationAction abortDirection="undo" breakPoint="False" id="ebed6a59-a6bf-4010-865e-f4a717265739" indent="2" name="товар не найден по ЕАН 1" nextDirection="149 1" operationName="ЕГАИС3 Обработка неизвестного штрихкода" transactionNotch="False"><InKeys count="4"><String>ПриниматьНеизвШК</String><String>АлкоРежим</String><String>ПриниматьНеизвАлкокодКакНеизвТовар</String><String>НеВводитьОписаниеНеизвТовара</String></InKeys><InValues count="4"><String>true</String><String>true</String><String>false</String><String>true</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="78e731f5-0291-4d2a-9dda-39fb4d2d0954" indent="2" name="149 1" nextDirection="" noDirection="" yesDirection="undo" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоКод = АлкоКод;&#xD;&#xA;SelectedProduct.АлкоПДФ = АлкоПДФ;&#xD;&#xA;SelectedProduct.Алко = true;&#xD;&#xA;SelectedProduct.АлкоСерия = SelectedProduct.АлкоПДФ.Substring(3, 3);&#xD;&#xA;SelectedProduct.АлкоСН = SelectedProduct.АлкоПДФ.Substring(6, 8);" id="ef589287-8c0b-44a3-96d0-9306e8eb197a" indent="2" name="143 1" nextDirection="16" /><ConditionAction breakPoint="False" expression="АлкоКод == &quot;&quot;" id="a0939b46-2e79-40df-85ca-6ca1ff10b58a" indent="1" name="159" nextDirection="" noDirection="Выбор строки с тем же ПДФ 1" yesDirection="Ошибка ПДФ 1" /><BaloonAction breakPoint="False" id="2c203b24-0985-49ea-9e98-a220b3933f8f" indent="2" isError="True" name="Ошибка ПДФ 1" nextDirection="back" seconds="3" text="неверный PDF 417" /><AssignAction breakPoint="False" expression="СтрокаПланАлко = Document.DeclaredItems.FindFirstByField(&quot;АлкоКод&quot;, АлкоКод)" id="fdf3a5f3-f7fe-4922-ac2a-a9d0b1d3ab4a" indent="1" name="Выбор строки с тем же ПДФ 1" nextDirection="" /><ConditionAction breakPoint="False" expression="СтрокаПланАлко != null &amp;&amp; СтрокаПланАлко.ProductId != UnknownProduct.Id" id="1985059d-5992-42d9-9634-c2468d3c36c4" indent="1" nextDirection="" noDirection="Выбор по АлкоКоду" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct = СтрокаПланАлко.Product.Pack(СтрокаПланАлко.PackingId, 1)" id="6ca1dd08-3de8-4572-96e1-09f62785dcc0" indent="2" name="25" nextDirection="ЕслиНоменклатураНеВыгужена" /><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="c7938860-b323-467e-a071-8e11df8eaae2" indent="2" name="ЕслиНоменклатураНеВыгужена" nextDirection="" noDirection="Доп поля повторов алкоголя" yesDirection="Выбор товара по ШК" /><AssignAction breakPoint="False" expression="SelectedProduct.ШК = СтрокаПланАлко.ШК;&#xD;&#xA;SelectedProduct.ИдЕдиницыИзмерения = СтрокаПланАлко.ИдЕдиницыИзмерения;" id="21f865cc-fc30-41ec-988d-c426f0310ff6" indent="2" name="Доп поля повторов алкоголя" nextDirection="21" /><OperationAction abortDirection="back" breakPoint="False" id="91c017bf-631a-4ca7-9f2e-c97e45a753f1" indent="1" name="Выбор по АлкоКоду" nextDirection="" operationName="ЕГАИС3 ВыборАлкоТовара" transactionNotch="False"><InKeys count="4"><String>ScannedBarcode</String><String>ПоПДФ</String><String>ПриниматьНеизвШК</String><String>ПриниматьНеизвАлкокодКакНеизвТовар</String></InKeys><InValues count="4"><String>{АлкоКод}</String><String>true</String><String>true</String><String>true</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="d61cf255-d158-49b3-b601-79771ecc274d" indent="1" name="29" nextDirection="" noDirection="21" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct = UnknownProduct.Pack()" id="356fdcd2-178b-4fd0-bc70-c63e786c2b66" indent="2" name="Выбор товара по ШК" nextDirection="21" /><AssignAction breakPoint="False" expression="SelectedProduct.Алко = true " id="4912038b-a6c9-45f1-88e8-04acda34bc34" indent="2" name="21" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоКод = АлкоКод" id="b4794e82-1b16-4530-a007-a53d88df12c1" indent="2" name="АлкоКод из ПДФ" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоПДФ = ScannedBarcode" id="d1c9991d-4c9f-4c23-a4df-4142553d5b93" indent="2" name="27" nextDirection="" /><ConditionAction breakPoint="False" expression="SelectedProduct.АлкоНаим == &quot;&quot; &amp;&amp; СтрокаПланАлко != null " id="04030885-0138-4f67-885f-783543a27e23" indent="1" name="26" nextDirection="" noDirection="16" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоНаим = СтрокаПланАлко.АлкоНаим" id="3fc222d8-0d4e-43e8-abdb-32325f8a8108" indent="2" nextDirection="16" /><ConditionAction breakPoint="False" expression="SelectedItem != null" id="f9d8a542-3c0f-459d-bad5-306bdb5ae2c7" indent="0" name="9" nextDirection="" noDirection="30" yesDirection="" /><OperationAction abortDirection="30" breakPoint="False" id="e2f7507e-3808-4e70-aa2e-360272276f31" indent="1" nextDirection="" operationName="ЕГАИС3 ПравкаСтроки" transactionNotch="False"><InKeys count="3"><String>СтрокаДокумента</String><String>ВводЦены</String><String>ВводНомераСтроки</String></InKeys><InValues count="3"><String>{SelectedItem}</String><String>{ВводЦены}</String><String>{ВводНомераСтроки}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ПоказРасхожденийВСписке &amp;&amp; SelectedItem.UnderloadedOrOverloaded == false" id="8bc7b951-0d72-46f7-90eb-6a0233b1eac0" indent="1" name="2" nextDirection="" noDirection="30" yesDirection="" /><AssignAction breakPoint="False" expression="СтрокиПоказа.Remove(SelectedItem)" id="1dffa126-7c16-4157-a522-b0451d8374ac" indent="2" name="" nextDirection="continue" /><OperationAction abortDirection="" breakPoint="False" id="3285c75b-ac35-4160-8c58-be76cc1b84d0" indent="0" name="16" nextDirection="" operationName="ЕГАИС3 ОбработкаАлкоголя" transactionNotch="False"><InKeys count="4"><String>ПланИФакт</String><String>ЕстьФормыА</String><String>НеСканироватьPDF</String><String>СтрокаСАлкоголем</String></InKeys><InValues count="4"><String>true</String><String>{ФормыА.Rows.Count &gt; 0}</String><String>true</String><String>{СтрокаПланАлко}</String></InValues><OutKeys count="1"><String>СтрокиПоказа</String></OutKeys><OutValues count="1"><String>{СтрокиПоказа}</String></OutValues></OperationAction><ClearSessionAction all="False" breakPoint="False" id="1b1e3e2d-f46b-4912-b5db-6b3f4fa667f4" indent="1" nextDirection="Сканер только PDF417"><KeyNames count="2"><String>SelectedItem</String><String>ScannedBarcode</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="b8f2a320-3890-4f4d-bb5a-2d14b3d34844" indent="0" name="Вкл откл помощь" nextDirection="back" operationName="ЕГАИС3 ПомощьВклВыкл" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="ВМеню=True" id="c2f9b10d-2738-41ce-a0cf-f8234ca2d6f2" indent="0" name="ГлавноеМеню" nextDirection="" /><AssignAction breakPoint="False" expression="ПоказРасхожденийВСпискеПрошл = ПоказРасхожденийВСписке" id="c0ea0bef-c0a8-4773-82a0-a24e5c02197b" indent="0" nextDirection="Завершить" /><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes();&#xD;&#xA;Scanner.EnableBarcodeType(&quot;PDF417&quot;, false);" id="66591fe1-a7ce-478a-9ee0-40f205da70b6" indent="0" name="Прервать" nextDirection="abort" /><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes();&#xD;&#xA;Scanner.EnableBarcodeType(&quot;PDF417&quot;, false);" id="f8025630-819d-462d-a1bf-9edddee5ef19" indent="0" name="Завершить" nextDirection="return" /></Actions><Parameters capacity="16" count="15"><FieldInfo alias="" eanAI="None" fieldName="ИмяОп" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ImyaOp" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="Заголовок" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="Zagolovok" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiPokaza" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПриниматьНеизвШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PrinimatNeizvShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводНовыхСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodNovyhSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВыборСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VyborSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводСН" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodSN" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="КонтрольТовараБезКолич" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="KontrolTovaraBezKolich" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводЦены" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodCeny" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводНомераСтроки" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodNomeraStroki" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПоказРасхожденийВСписке" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PokazRashozhdenijVSpiske" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="АлкоРежим" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="AlkoRezhim" valueTemplate="" /><FieldInfo alias="" comment="чтобы можно было в инвентаризации собирать алкоголь как обычный товар" eanAI="None" fieldName="АлкоКакОбычный" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="AlkoKakObychnyj" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СначалаВыборСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SnachalaVyborSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="НеБратьЦенуИзНоменклатуры" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="NeBratCenuIzNomenklatury" valueTemplate="" /></Parameters><Returns count="3"><ReturnFieldInfo alias="" eanAI="None" fieldName="ВМеню" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VMenyu" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiPokaza" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ПоказРасхожденийВСпискеПрошл" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="PokazRashozhdenijVSpiskeProshl" valueTemplate="" /></Returns></Operation>
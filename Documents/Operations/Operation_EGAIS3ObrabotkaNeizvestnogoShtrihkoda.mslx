<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ЕГАИС3 Обработка неизвестного штрихкода" serverHosted="False"><Actions capacity="32" count="25"><ConditionAction breakPoint="False" expression="ПриниматьНеизвШК == false" id="a3f58873-fe27-40b9-b555-18c2df926ae5" indent="0" nextDirection="" noDirection="Поиск штрихкода среди неизвестных товаров" yesDirection="Меню отмены для неизв. ШК" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="0 px" fullscreen="Inherit" headerText="&lt;b color=&quot;Red&quot;&gt;ОШИБКА: {ScannedBarcode} - неизвестный ШК&lt;/b&gt;" id="a5089607-2c53-4e69-bbd0-265039983614" indent="1" name="Меню отмены для неизв. ШК" nextDirection="" showAsMsgBox="False" transactionNotch="True" welcomeText=""><ButtonDirections count="1"><String>abort</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена&lt;/b&gt;</String></ButtonTexts><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></QuestionAction><SelectDocumentLineAction breakPoint="False" id="5c2d8ad6-7eb5-47d8-95f4-c8b86b7bacf6" indent="0" name="Поиск штрихкода среди неизвестных товаров" nextDirection="" sessionVariable="СтрокаСНеизвестнымШК"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ШК==ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="СтрокаСНеизвестнымШК != null" id="cfe9664b-51ff-4e7f-bb33-327617981094" indent="0" name="" nextDirection="" noDirection="14" yesDirection="" /><AssignAction breakPoint="False" expression="ИмяНеизвестного = СтрокаСНеизвестнымШК.ИмяНеизвестного" id="19ad46ba-81af-4db1-82af-1070930434fd" indent="2" nextDirection="" /><AssignAction breakPoint="False" expression="if(АлкоРежим == true)&#xD;&#xA;АлкоМарк = СтрокаСНеизвестнымШК.АлкоМарк;&#xD;&#xA;if (СтрокаСНеизвестнымШК.Маркировка == &quot;Алкоголь&quot;)&#xD;&#xA;АлкоМарк = true;" id="5e541b65-1868-4f8d-80f5-87ffc5994cde" indent="2" name="9 1" nextDirection="3" /><ConditionAction breakPoint="False" expression="ПриниматьНеизвАлкокодКакНеизвТовар == true" id="ad28ae66-0c24-423f-b929-0118e8bf8204" indent="0" name="14" nextDirection="" noDirection="" yesDirection="13" /><BaloonAction breakPoint="False" id="e41808b5-5404-48ab-bccb-49eda9d7305f" indent="1" isError="True" name="4" nextDirection="" seconds="3" text="Неизвестный ШК" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="15%" fullscreen="Inherit" headerText="&lt;b color=&quot;Red&quot;&gt;ПО {ТекстАлкоКод == true:АЛКОКОДУ;ШТРИХКОДУ}&lt;/b&gt;&#xD;&#xA;&lt;b color=&quot;Red&quot;&gt;'{ScannedBarcode}'&lt;/b&gt;&#xD;&#xA;&lt;b color=&quot;Red&quot;&gt;НЕ НАЙДЕН ТОВАР&lt;/b&gt;" id="b51fa8eb-71ad-4c28-80df-f169f00bf759" indent="0" name="Меню неизвестного ШК" nextDirection="" showAsMsgBox="False" transactionNotch="True" welcomeText=""><ButtonDirections count="4"><String>8</String><String></String><String>16</String><String>abort</String></ButtonDirections><ButtonTexts count="4"><String>{Document.ServerHosted == true:;Привязать алкоголь к существующей номенклатуре}</String><String>Принять как неизвестный алкоголь</String><String>{CheckMark.IsInstalled == true:Принять по CheckMark;}</String><String>&lt;b&gt;Отмена&lt;/b&gt;</String></ButtonTexts><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></QuestionAction><AssignAction breakPoint="False" expression="АлкоМарк = true" id="3a6e2f3d-8ec6-4eda-9398-da858b5cdce3" indent="1" name="13" nextDirection="15" /><AssignAction breakPoint="False" expression="АлкоМарк = false" id="b6fde28e-092b-4e4f-8e0f-3e5ee649e102" indent="1" name="11" nextDirection="" /><ConditionAction breakPoint="False" expression="НеВводитьОписаниеНеизвТовара == true || Document.КонтрольКолва == 1" id="7e6c496f-62f8-49a2-9189-70fe63e18415" indent="1" name="15" nextDirection="" noDirection="" yesDirection="3" /><MultilineFieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" headerText="&lt;b color=&quot;Red&quot;&gt;{ScannedBarcode}&lt;/b&gt;" id="3e1b3edf-cd36-43f6-86fa-eef6982f6f14" indent="1" name="5" nextDirection="" processImmediately="False" transactionNotch="True"><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Lines count="1"><FieldEditLine allowEmpty="True" condition="" dataSource="" fieldType="String" fontSize="23" format="" password="False" path="{ИмяНеизвестного}" selectedItem="" sizeType="Normal" welcomeText="&lt;br/&gt;&#xA;&lt;b&gt;Описание товара:&lt;/b&gt;&#xA;&lt;r size=&quot;-2&quot; color=&quot;DimGray&quot;&gt;Это описание должно помочь оператору правильно завести товар в учетную систему&#xA;*заполнять необязательно&lt;/r&gt;" /></Lines></MultilineFieldEditAction><OperationAction abortDirection="abort" breakPoint="False" id="b874567a-8360-480f-b684-c3119817a88b" indent="1" name="3" nextDirection="12" operationName="ЕГАИС3 Выбор неизвестного товара" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><OperationAction abortDirection="abort" breakPoint="False" id="5ead5369-9c3e-414a-bd62-622dbd618eb6" indent="0" name="8" nextDirection="10" operationName="ЕГАИС3 Привязка ШК" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="АлкоРежим == true" id="1c75aeaf-36f5-42b4-bd21-1601d307ffab" indent="0" name="12" nextDirection="" noDirection="9" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.Алко = true" id="f46121aa-2778-4ab7-a122-f7ca9c95e562" indent="1" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоМарк = АлкоМарк&#xD;&#xA;if (SelectedProduct.АлкоМарк == true)&#xD;&#xA;SelectedProduct.Маркировка = &quot;Алкоголь&quot;;" id="d71bfab9-dc6c-48d6-8fb5-570cbf2240cd" indent="1" nextDirection="10" /><ConditionAction breakPoint="False" expression="GlobalVars.РежимСканироватьEAN13[Document.DocumentType.Name] == &quot;Не использовать&quot;" id="95dbcede-341f-4d58-8982-b58543aa88bd" indent="1" nextDirection="" noDirection="9" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоПДФ = ScannedBarcode" id="1f2e8034-b7d2-4125-b2b5-586dfe99467b" indent="1" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.Алко = false" id="d3d14b6b-30db-415d-8f25-52fb1f1044d3" indent="0" name="9" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="cf8233dc-c6fd-4313-9577-1cd20a78e6ed" indent="0" name="10" nextDirection="return"><KeyNames count="1"><String>ErrorMessage</String></KeyNames></ClearSessionAction><OperationAction abortDirection="undo" breakPoint="False" id="6ade9847-0f88-4d83-ac2c-2f75a8924200" indent="0" name="16" nextDirection="" operationName="ЕГАИС3 ЧекМаркАгрегация" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="SelectedProduct = UnknownProduct.Pack();&#xD;&#xA;SelectedProduct.Алко = true;&#xD;&#xA;SelectedProduct.АлкоМарк = true;&#xD;&#xA;SelectedProduct.Маркировка = &quot;Алкоголь&quot;;&#xD;&#xA;SelectedProduct.АлкоКод = ЧекМаркРезультат.АлкоКод;&#xD;&#xA;SelectedProduct.АлкоНаим = ЧекМаркРезультат.АлкоНаим;&#xD;&#xA;SelectedProduct.АлкоОбъем = ЧекМаркРезультат.АлкоОбъем;&#xD;&#xA;SelectedProduct.АлкоКрепость = ЧекМаркРезультат.АлкоКрепость;&#xD;&#xA;SelectedProduct.Производитель = ЧекМаркРезультат.Производитель;&#xD;&#xA;SelectedProduct.ПроизвИНН = ЧекМаркРезультат.ПроизвИНН;&#xD;&#xA;SelectedProduct.ПроизвКПП = ЧекМаркРезультат.ПроизвКПП;&#xD;&#xA;SelectedProduct.АлкоСН = ЧекМаркРезультат.АлкоСН;&#xD;&#xA;SelectedProduct.АлкоПДФ = ЧекМаркРезультат.АлкоПДФ;&#xD;&#xA;SelectedProduct.АлкоКодВ = ЧекМаркРезультат.АлкоКодВ;" id="0cdd83d9-da12-474a-9d1a-cde4899975e5" indent="0" nextDirection="" /><NewPackingAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="создание новой упаковки" defaultPackingName="{SelectedProduct.Packing.Name}" defaultQuantity="1" fullscreen="Inherit" id="ac0993fa-bec3-4237-91d7-119dbe68af36" indent="1" name="Новый штрихкод" nextDirection="return" notFoundErrorText="товар не найден" productSessionVariable="SelectedProduct" selectionListFormat="" transactionNotch="False" useDefaultParams="True" welcomeText="Отсканируйте базовый штрихкод товара:"><KeyJumps count="0" /></NewPackingAction></Actions><Parameters capacity="8" count="7"><FieldInfo alias="" eanAI="None" fieldName="ScannedBarcode" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ScannedBarcode" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПриниматьНеизвШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PrinimatNeizvShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТолькоТоварыДокумента" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TolkoTovaryDokumenta" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="АлкоРежим" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="AlkoRezhim" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПриниматьНеизвАлкокодКакНеизвТовар" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PrinimatNeizvAlkokodKakNeizvTovar" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="НеВводитьОписаниеНеизвТовара" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="NeVvoditOpisanieNeizvTovara" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТекстАлкоКод" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TekstAlkoKod" valueTemplate="" /></Parameters><Returns count="3"><ReturnFieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="SelectedProduct" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ErrorMessage" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="ErrorMessage" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокаСНеизвестнымШК" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokaSNeizvestnymShK" valueTemplate="" /></Returns></Operation>
<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" comment="общая операция занесений данных в сам документ" fullscreen="Inherit" lock="No" name="Занесение в документ" serverHosted="False"><Actions capacity="32" count="25"><AssignAction breakPoint="False" expression="SelectedProduct.ИмяПользователя=CurrentUser.Name;&#xD;&#xA;SelectedProduct.ИдПользователя=CurrentUser.Id;" id="30f68073-6968-4da2-b12b-4c402e5e7e42" indent="1" name="55" nextDirection="26" /><ConditionAction breakPoint="False" expression="SelectedProduct.Алко == true" id="f90dc65c-e359-45b4-bd1d-8d7e4aa10bf2" indent="0" name="26" nextDirection="" noDirection="20" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.CreatedOnPDA == false &amp;&amp; SelectedProduct.КолвоВДокументе &gt;= SelectedProduct.ЗаявленноеКолвоВДокументе &amp;&amp; Document.КонтрольКолва != 1" id="ee42102e-02e2-4674-90bb-1c05db3f43b9" indent="1" name="53" nextDirection="" noDirection="24" yesDirection="" /><AssignAction breakPoint="False" expression="GO.PlayError();&#xD;&#xA;ЗвукОшибки = true;" id="90fdcb17-03dc-4753-be23-4a347e1a133d" indent="2" name="53 1" nextDirection="" /><AssignAction breakPoint="False" expression="ВШапку = SelectedProduct.АлкоНаим" id="f127abc9-101d-46fd-8916-c51ca29d2eeb" indent="1" name="24" nextDirection="54" /><AssignAction breakPoint="False" expression="ВШапку = SelectedProduct.Product.Name" id="71191382-0669-4b04-aabc-70ae93a259d4" indent="1" name="20" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="4bffd000-3f1e-4363-a6bc-3e27faa89981" indent="0" name="54" nextDirection="21"><KeyNames count="1"><String>СтрокиТекущегоТовара</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="НаборАлкоСерийныхНомеровЗавершен == true" id="bcfa53c4-362c-4f9d-94ff-fe6612e889e7" indent="0" name="21" nextDirection="" noDirection="17" yesDirection="" /><ClearSessionAction all="False" breakPoint="False" id="afe1a553-0d96-45d0-81dc-a9848f653bf0" indent="1" nextDirection=""><KeyNames count="1"><String>НаборАлкоСерийныхНомеровЗавершен</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="d58f24eb-f83b-4554-957c-739bc42d68ad" indent="1" name="14 1 1" nextDirection="" noDirection="18" yesDirection="C Проверкой 2222" /><AcceptBufferAction breakPoint="False" checkDocumentInfill="False" combineEqualCurrentItems="False" id="f18f5123-c161-4855-bb5e-d4f269fb84d8" ignoreFieldsInDeclaredItems="False" indent="1" name="18" nextDirection="56" onlyInCurrentItems="False"><ComparingFieldNames count="1"><String>АлкоКод</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="2"><String>АлкоКод</String><String>АлкоПДФ</String></ComparingFieldNamesForCurrentItems></AcceptBufferAction><AcceptBufferAction breakPoint="False" checkDocumentInfill="False" combineEqualCurrentItems="False" id="bc8f7899-58ef-443b-8560-b309a8d60e33" ignoreFieldsInDeclaredItems="False" indent="1" name="C Проверкой 2222" nextDirection="56" onlyInCurrentItems="False"><ComparingFieldNames count="1"><String>АлкоКод</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems count="2"><String>АлкоКод</String><String>АлкоПДФ</String></ComparingFieldNamesForCurrentItems></AcceptBufferAction><AssignAction breakPoint="False" expression="LastChangedCurrentItems.ДатаПоследнегоИзменения = CurrentDate" id="1121083d-8fbc-40de-999b-ea1c77aaf444" indent="1" name="56" nextDirection="return" /><ConditionAction breakPoint="False" expression="SelectedProduct.Алко == true" id="b77e41dc-05f1-46c3-8ce8-a700136dbba7" indent="0" name="17" nextDirection="" noDirection="58" yesDirection="" /><ConditionAction breakPoint="False" expression="SelectedProduct.АлкоМарк == false &amp;&amp; SelectedProduct.Маркировка != &quot;Алкоголь&quot;" id="641d23bf-9d3e-48bb-ac6f-5ca6fc00502c" indent="0" nextDirection="" noDirection="" yesDirection="58" /><ConditionAction breakPoint="False" expression="Document.АлкоМногоДМ == true &amp;&amp; Document.АлкоДМ == true" id="a73467ab-3981-4f5a-851d-e5b5406de375" indent="0" nextDirection="" noDirection="58" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; КонтрольТовараБезКолич == false" id="b6d2ab60-fa6c-4a6c-a782-b79d60bdb056" indent="0" name="14 1" nextDirection="" noDirection="15" yesDirection="16" /><FillBufferAction breakPoint="False" bufferName="" checkQuantity="False" combineItems="False" errorQuantityMessage="Товара больше, чем разрешает документ." fillWithRemains="False" id="6491b492-a917-4708-9963-0a65952e69dc" ignoreFieldsInDocument="False" indent="1" name="15" nextDirection="return" noProductErrorDirection="" noProductInDocumentMessage="Такой товар отсутствует в документе." quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="0" /></FillBufferAction><FillBufferAction breakPoint="False" bufferName="" checkQuantity="True" combineItems="False" errorQuantityMessage="Товара больше, чем разрешает документ." fillWithRemains="False" id="4c181b88-6e2e-4ad0-8c64-94bf3bc5c087" ignoreFieldsInDocument="False" indent="1" name="16" nextDirection="return" noProductErrorDirection="Товар нет в плане" noProductInDocumentMessage="Такой товар отсутствует в документе." quantityErrorDirection="Перебор" useSelectedLine="False"><ComparingFieldNames count="1"><String>АлкоКод</String></ComparingFieldNames></FillBufferAction><OperationAction abortDirection="" breakPoint="False" id="8623e4ca-3e51-45ac-b412-13516ec9cc63" indent="0" name="58" nextDirection="" operationName="ЗанесениеВДокументКоллективное" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="Перебор == true" id="6303b571-a318-4bc3-a461-3b735e55e8ba" indent="0" nextDirection="" noDirection="57" yesDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+1&quot;&gt;ПЕРЕБОР&lt;/b&gt;&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.Алко == true:{SelectedProduct.стрАлкоКороткое};}&#xD;&#xA;&lt;b size=&quot;+1&quot; align=&quot;left&quot; color=&quot;DarkGray&quot;&gt;Набрано: {Document.CurrentItems.FindByField(&quot;ProductId&quot;,SelectedProduct.ProductId).CurrentQuantity:0.####} из {Document.CurrentItems.FindFirstByField(&quot;ProductId&quot;,SelectedProduct.ProductId).DeclaredQuantity:0.####} {SelectedProduct.Packing.Name}!&lt;/b&gt;&#xD;&#xA;&lt;b size=&quot;+1&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;ПЫТАЕТЕСЬ ВЗЯТЬ &lt;Red&gt;{SelectedProduct.QuantityString}&lt;/Red&gt;&lt;/b&gt;" id="a8d7f798-8277-43be-8104-ee2d4eff7201" indent="0" name="Перебор" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText=""><ButtonDirections count="1"><String>25</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><ConditionAction breakPoint="False" expression="НетВПлане == true" id="e78f1247-99e8-4614-8f62-519736c4c6ad" indent="0" name="57" nextDirection="" noDirection="return" yesDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="35 px" fullscreen="Inherit" headerText="&lt;b size=&quot;+1&quot;&gt;ТОВАРА НЕТ В ПЛАНЕ&lt;/b&gt;&#xD;&#xA;{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.стрАлкоКороткое}&#xD;&#xA;{SelectedProduct.ЦенаСклад}" id="486cbebe-84d4-4d0e-bba0-13138038df52" indent="0" name="Товар нет в плане" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText=""><ButtonDirections count="1"><String>25</String></ButtonDirections><ButtonTexts count="1"><String>&lt;b&gt;Отмена сканирования&lt;/b&gt;</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="ВШапку = &quot;&quot;" id="02a23145-6604-42c9-949c-fc6d2a3efc7c" indent="0" name="25" nextDirection="abort" /></Actions><Parameters capacity="16" count="13"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиДляСпускаВниз" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiDlyaSpuskaVniz" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="КонтрольТовараБезКолич" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="KontrolTovaraBezKolich" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiPokaza" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="УдалятьСходящиеся" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="UdalyatShodyashhiesya" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПоДатеРозлива" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PoDateRozliva" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="НаборАлкоСерийныхНомеровЗавершен" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="NaborAlkoSerijnyhNomerovZavershen" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="Buffer" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="Buffer" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="FirstStorage" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="FirstStorage" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиТекущегоТовара" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiTekushhegoTovara" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ШкПаллеты" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ShkPallety" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ШкКоробки" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ShkKorobki" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПоЯчейкам" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PoYachejkam" valueTemplate="" /></Parameters><Returns capacity="8" count="6"><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиТекущегоТовара" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiTekushhegoTovara" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ФактическиеДобавленныеСтроки" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="FakticheskieDobavlennyeStroki" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="Buffer" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="Buffer" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiPokaza" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ВШапку" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VShapku" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="SelectedItem" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="SelectedItem" valueTemplate="" /></Returns></Operation>
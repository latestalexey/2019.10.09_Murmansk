<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ПросмотрОстатков" serverHosted="False"><Actions capacity="16" count="13"><SelectDocumentLinesAction breakPoint="False" comment="Сделано для единоразового обращения к серверу" id="1b35b320-0b60-48fe-88a3-e3b348d50418" indent="0" nextDirection="" sessionVariable="ОстаткиПоТовару"><Query copySelection="False" documentLines="Declared" from="Остатки" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдТовара == SelectedProduct.ProductId"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" comment="Сделано для единоразового обращения к серверу" id="951050a7-9890-45e6-b601-5bb8b0269418" indent="0" nextDirection="" sessionVariable="СкладыЗапрос"><Query copySelection="False" documentLines="Declared" from="Склады" sourceWhereExpression="" tableAlias="Склады" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Ид !=&quot;&quot;"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="SelectedProduct.Product.ПоХарактеристикам == true " id="60e74887-0ef6-4544-886b-eb2d67ff19f2" indent="0" nextDirection="" noDirection="4" yesDirection="3" /><SelectDocumentLinesAction breakPoint="False" comment="Сделано для единоразового обращения к серверу" id="ae3917a2-ca87-42a6-a937-056d2b08bd61" indent="0" name="3" nextDirection="" sessionVariable="ХарактеристикиЗапрос"><Query copySelection="False" documentLines="Declared" from="Характеристики" sourceWhereExpression="" tableAlias="Характеристики" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.КлючХарактеристик == SelectedProduct.Product.КлючХарактеристик "><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="SelectedProduct.Product.ПоСериям == true" id="3c416bef-4c86-430f-a17c-60a8b0648afc" indent="0" name="4" nextDirection="" noDirection="6" yesDirection="5" /><SelectDocumentLinesAction breakPoint="False" comment="Сделано для единоразового обращения к серверу" id="0eed11a8-7cf9-42cc-b4b5-af30176a2ca4" indent="0" name="5" nextDirection="" sessionVariable="СерииЗапрос"><Query copySelection="False" documentLines="Declared" from="Серии" sourceWhereExpression="" tableAlias="Серии" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.КлючСерий == SelectedProduct.Product.КлючСерий"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="SelectedProduct.Product.ПоХарактеристикам == true &amp;&amp; SelectedProduct.Product.ПоСериям == true" id="dd7098b5-d8cf-4403-9095-8102c4cd6bf0" indent="0" name="6" nextDirection="" noDirection="1" yesDirection="ПоХарактеристикамИСериям" /><GroupAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="False" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="692d4792-c9e0-4ae2-b784-32679ef7afa6" indent="0" name="ПоХарактеристикамИСериям" nextDirection="return" transactionNotch="False"><Actions capacity="16" count="13"><ConditionAction breakPoint="False" expression="SelectedProduct.ИдХарактеристики != &quot;&quot;" id="bac92c76-7f13-4eff-8bce-7f7217e7e9b1" indent="0" name="8" nextDirection="" noDirection="3" yesDirection="7" /><SelectDocumentLinesAction breakPoint="False" id="b0443b0e-5a75-4fc7-aa1d-84a5d3d2e44b" indent="0" name="7" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдХарактеристики == SelectedProduct.ИдХарактеристики &amp;&amp; Item.ИдСерии == SelectedProduct.Packing.ИдСерии"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ИдСклада</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="tempCol.Count != 0" id="94fb357c-e212-47df-9ab7-e2761493f491" indent="0" name="6" nextDirection="" noDirection="2" yesDirection="" /><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="3f947413-b69c-4d6a-a64b-bf645f41796a" indent="0" nextDirection="" /><ItemsViewAction id="35d0007b-d239-487d-8ae9-48cfb7837ef8" name="2" nextDirection="5" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;{SelectedProduct.Product.Name:&lt;black&gt;(0)&lt;/black&gt;}&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Характеристика: {SelectedProduct.ИмяХарактеристики!=&quot;&quot;:{SelectedProduct.ИмяХарактеристики};Отсутствует}&lt;/b&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Серия: {SelectedProduct.Packing.ИмяСерии!=&quot;&quot;:{SelectedProduct.Packing.ИмяСерии};Отсутствует}&lt;/b&gt;" footerText="&lt;button direction=&quot;3&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Все остатки&lt;/button&gt;" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{groupCol}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><SelectDocumentLinesAction breakPoint="False" comment="Группируем строки, для того, чтобы получить список с уникальными ИдХарактеристики" id="9176cd6a-dd66-46a8-aa40-744b19c9e71f" indent="0" name="3" nextDirection="" sessionVariable="GrouppedXarka"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="1"><String>ИдХарактеристики</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Создаем табличку для сбора характеристик" expression="ХарактеристикиТовара = new Cleverence.Warehouse.RowCollection()" id="0fe60983-31b7-47c3-83b0-c03fde3403bf" indent="0" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" comment="Заполняем табличку с характеристиками товара" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="433cee37-41ec-49b9-90e1-7844dfdeadc8" indent="0" items="{GrouppedXarka}" nextDirection="" transactionNotch="False"><Actions count="3"><SelectDocumentLineAction breakPoint="False" id="219fe00d-0a84-4312-849e-88cdec044f2b" indent="0" nextDirection="" sessionVariable="ВыбраннаяХарактеристика"><Query copySelection="False" documentLines="Declared" from="ХарактеристикиЗапрос" sourceWhereExpression="" tableAlias="ХарактеристикиЗапрос" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Ид == SelectedLine.ИдХарактеристики"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" comment="Заполняем временную строку" expression="tempRow = new Cleverence.Warehouse.Row();&#xD;&#xA;tempRow.Ид = SelectedLine.ИдХарактеристики;&#xD;&#xA;tempRow.Характеристика = ВыбраннаяХарактеристика.ИмяХарактеристики;" id="00995cc7-fd95-41e2-b94d-b9ba55f7a124" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Пишем строку в таблицу" expression="ХарактеристикиТовара.Add(tempRow)" id="e4495a61-6b22-49bc-a932-3f84ffa116b4" indent="0" name="" nextDirection="continue" /></Actions><LockObjects count="0" /></ForeachAction><SelectDocumentLinesAction breakPoint="False" comment="Сортируем полученную табличку по именам характеристик" id="42bdca7e-e0ed-47b8-ba28-ef1609d0739b" indent="0" nextDirection="" sessionVariable="ХарактеристикиТовара"><Query copySelection="False" documentLines="Declared" from="ХарактеристикиТовара" sourceWhereExpression="" tableAlias="ХарактеристикиТовара" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>Характеристика</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Создаем табличку для отображения" expression="СтрокиПоказа = new Cleverence.Warehouse.HybridCollection()" id="1377aba6-6be9-4ba5-9dd5-84c071536ad7" indent="0" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" comment="Заполняем табличку для показа" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="3aa28ced-74cc-4c94-a58f-3d280e8533d8" indent="0" items="{ХарактеристикиТовара}" nextDirection="4" transactionNotch="False"><Actions count="3"><SelectDocumentLinesAction breakPoint="False" comment="Выбираем данные по характеристике" id="a2d622bf-8c77-4f91-9472-9e9eb442002d" indent="0" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдХарактеристики == SelectedLine.Ид"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="2"><String>ИдСклада</String><String>ИдСерии</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада &amp;&amp; newRow.ИдСерии == tempCol[i].ИдСерии){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="f6a2db5b-eebe-4c3e-8e96-3ca3afb31f74" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Пишем в табличку для показа с заголовком" expression="СтрокиПоказа.AddCollection(groupCol,SelectedLine.Характеристика != &quot;&quot; ? SelectedLine.Характеристика: &quot;Без характеристики&quot;)" id="4f9047fd-958c-4a13-9672-ff5372fe8e95" indent="0" nextDirection="continue" /></Actions><LockObjects count="0" /></ForeachAction><ItemsViewAction id="fdb7f71c-e4a6-46a0-8293-ae7974fe5bc3" name="4" nextDirection="5" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;&lt;Black&gt;{SelectedProduct.Product.Name}&lt;/Black&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Все характеристики&lt;/b&gt;" footerText="{SelectedProduct.ИдХарактеристики !=&quot;&quot;:&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;7&quot;&gt;К характеристике товара&lt;/button&gt;;}" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem2" viewItems="{СтрокиПоказа}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}&#xD;&#xA;{Item.ИдСерии!=&quot;&quot;:Серия: {СерииЗапрос.Find(&quot;Ид&quot;,Item.ИдСерии).ИмяСерии};Без серии}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="{СтрокиПоказа}" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" comment="Возвращаем по нажатию на экране/enter" expression="true" id="92aae640-e409-4a6f-8a3d-99315ab7a077" indent="0" name="5" nextDirection="" noDirection="back" yesDirection="back" /></Actions><LockObjects count="0" /></GroupAction><ConditionAction breakPoint="False" expression="SelectedProduct.Product.ПоХарактеристикам == true" id="7194961f-f4db-42f5-9fb2-b6b9161bebae" indent="0" name="1" nextDirection="" noDirection="2" yesDirection="ПоХарактеристикам" /><GroupAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="False" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="0ddea885-411f-4c5b-b0f4-a10220190d80" indent="0" name="ПоХарактеристикам" nextDirection="return" transactionNotch="False"><Actions capacity="16" count="13"><ConditionAction breakPoint="False" expression="SelectedProduct.ИдХарактеристики != &quot;&quot;" id="4c7245bb-6a65-442c-bcf1-c369882a8e96" indent="0" name="8 1" nextDirection="" noDirection="3" yesDirection="1" /><SelectDocumentLinesAction breakPoint="False" comment="Ищем остаток по выбранному товару" id="a2daa7ca-6874-4516-ae60-f15c855ae35b" indent="0" name="1" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдХарактеристики == SelectedProduct.ИдХарактеристики"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ИдСклада</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="tempCol.Count != 0" id="b8e43b26-145d-48b4-a282-4807dec13124" indent="0" nextDirection="" noDirection="2" yesDirection="6" /><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="42638820-dfd8-45ce-9e1d-b268c9bdab41" indent="0" name="6" nextDirection="" /><ItemsViewAction id="5377907d-0087-4509-aa9f-b2c38e808367" name="2" nextDirection="5" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;{SelectedProduct.Product.Name:&lt;black&gt;(0)&lt;/black&gt;}&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Характеристика: {SelectedProduct.ИмяХарактеристики!=&quot;&quot;:{SelectedProduct.ИмяХарактеристики};Отсутствует}&lt;/b&gt;" footerText="&lt;button direction=&quot;3&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Все остатки&lt;/button&gt;" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{groupCol}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="{УникальныйОстаток}" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><SelectDocumentLinesAction breakPoint="False" comment="Группируем строки, для того, чтобы получить список с уникальными ИдХарактеристики" id="d0957446-ba5c-4baf-b2bc-5fc764e3570c" indent="0" name="3" nextDirection="" sessionVariable="GrouppedXarka"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="1"><String>ИдХарактеристики</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Создаем табличку для сбора характеристик" expression="ХарактеристикиТовара = new Cleverence.Warehouse.RowCollection()" id="5e768284-2266-4e67-8c42-63b6b215c8b6" indent="0" name="" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" comment="Заполняем табличку с характеристиками товара" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="f9be7c28-8ffa-45b4-b736-aab6719dfcd2" indent="0" items="{GrouppedXarka}" nextDirection="" transactionNotch="False"><Actions count="3"><SelectDocumentLineAction breakPoint="False" id="f9bd648a-4a33-4458-af6e-8abe2f902e98" indent="0" nextDirection="" sessionVariable="ВыбраннаяХарактеристика"><Query copySelection="False" documentLines="Declared" from="ХарактеристикиЗапрос" sourceWhereExpression="" tableAlias="ОстаткиПоТовару" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Ид == SelectedLine.ИдХарактеристики"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" comment="Заполняем временную строку" expression="tempRow = new Cleverence.Warehouse.Row();&#xD;&#xA;tempRow.Ид = SelectedLine.ИдХарактеристики;&#xD;&#xA;tempRow.Характеристика = ВыбраннаяХарактеристика.ИмяХарактеристики;" id="46bf84a2-2d3c-415d-bce6-43b4f71df61b" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Пишем строку в таблицу" expression="ХарактеристикиТовара.Add(tempRow)" id="aa6edd50-c1de-4c84-9396-3322e58401d4" indent="0" name="" nextDirection="continue" /></Actions><LockObjects count="0" /></ForeachAction><SelectDocumentLinesAction breakPoint="False" comment="Сортируем полученную табличку по именам характеристик" id="736bd781-dcd5-43c0-b8a5-0402ab56daed" indent="0" nextDirection="" sessionVariable="ХарактеристикиТовара"><Query copySelection="False" documentLines="Declared" from="ХарактеристикиТовара" sourceWhereExpression="" tableAlias="ХарактеристикиТовара" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>Характеристика</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Создаем табличку для отображения" expression="СтрокиПоказа = new Cleverence.Warehouse.HybridCollection()" id="7633e8f3-792d-4a71-9733-74325b79cf34" indent="0" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" comment="Заполняем табличку для показа" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="7adad431-beb1-48af-ad28-7e5f919fb428" indent="0" items="{ХарактеристикиТовара}" nextDirection="4" transactionNotch="False"><Actions count="3"><SelectDocumentLinesAction breakPoint="False" comment="Выбираем данные по характеристике" id="d33a2215-3c2f-4c35-8477-4847ef6ebd5f" indent="0" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдХарактеристики == SelectedLine.Ид"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ИдСклада</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="03901cb1-4a7a-4517-99c2-3c224e74f9b1" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Пишем в табличку для показа с заголовком" expression="СтрокиПоказа.AddCollection(groupCol,SelectedLine.Характеристика != &quot;&quot; ? SelectedLine.Характеристика: &quot;Без характеристики&quot;)" id="8328c736-5e89-48f2-8d5a-d92554780a8a" indent="0" nextDirection="continue" /></Actions><LockObjects count="0" /></ForeachAction><ItemsViewAction id="b6f02e47-145e-4b68-a18a-a66929b62135" name="4" nextDirection="5" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;&lt;Black&gt;{SelectedProduct.Product.Name}&lt;/Black&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Все характеристики&lt;/b&gt;" footerText="{SelectedProduct.ИдХарактеристики !=&quot;&quot;:&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;1&quot;&gt;К характеристике товара&lt;/button&gt;;}" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem2" viewItems="{СтрокиПоказа}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="{СтрокиПоказа}" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" comment="Возвращаем по нажатию на экране/enter" expression="true" id="31f5d50a-6952-45be-803d-5f2979755386" indent="0" name="5" nextDirection="" noDirection="back" yesDirection="back" /></Actions><LockObjects count="0" /></GroupAction><ConditionAction breakPoint="False" expression="SelectedProduct.Product.ПоСериям == true" id="b9a1dd8f-9dfb-47bc-9b54-f1ad26c22a51" indent="0" name="2" nextDirection="" noDirection="ПоСкладам" yesDirection="ПоСериям" /><GroupAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="False" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="429dc6e7-29ba-4a92-9226-dc1a7637e701" indent="0" name="ПоСериям" nextDirection="return" transactionNotch="False"><Actions capacity="16" count="13"><ConditionAction breakPoint="False" expression="SelectedProduct.ИдСерии != &quot;&quot;" id="a91f451b-35e9-4ce2-b8f0-54062107f3bc" indent="0" nextDirection="" noDirection="3" yesDirection="1" /><SelectDocumentLinesAction breakPoint="False" comment="Ищем остаток по выбранному товару" id="0f223fa2-5ae7-48fe-bb24-e3bf814c41c9" indent="0" name="1" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдСерии == SelectedProduct.ИдСерии"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ИдСклада</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="tempCol.Count != 0" id="6d77836d-e9b8-4eec-97cd-282f26a25c8b" indent="0" nextDirection="" noDirection="2" yesDirection="6 1" /><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="938fae1c-ce8d-4728-a3fb-880bfe76a8f6" indent="0" name="6 1" nextDirection="" /><ItemsViewAction id="8c99fa0d-82e1-4727-937f-b3e4cda41419" name="2" nextDirection="5" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;{SelectedProduct.Product.Name:&lt;black&gt;(0)&lt;/black&gt;}&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Серия: {SelectedProduct.Packing.ИмяСерии!=&quot;&quot;:{SelectedProduct.Packing.ИмяСерии};Отсутствует}&lt;/b&gt;" footerText="&lt;button direction=&quot;3&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Все остатки&lt;/button&gt;" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{groupCol}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="{УникальныйОстаток}" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="1"><String>ИдСклада</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><SelectDocumentLinesAction breakPoint="False" comment="Группируем строки, для того, чтобы получить список с уникальными ИдСерии" id="fe601057-c3fc-4661-aba0-d83b2631f799" indent="0" name="3" nextDirection="" sessionVariable="GrouppedSeria"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="1"><String>ИдСерии</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Создаем табличку для сбора характеристик" expression="СерииТовара = new Cleverence.Warehouse.RowCollection()" id="d5d6f081-26b5-4292-8bdd-290969ea1b3c" indent="0" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" comment="Заполняем табличку с сериями товара" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="47952541-60b9-4d2b-883a-95da5e68b8a3" indent="0" items="{GrouppedSeria}" nextDirection="" transactionNotch="False"><Actions count="3"><SelectDocumentLineAction breakPoint="False" id="7a433a3c-caa3-468b-b280-04f3dda5cde7" indent="0" nextDirection="" sessionVariable="ВыбраннаяСерия"><Query copySelection="False" documentLines="Declared" from="СерииЗапрос" sourceWhereExpression="" tableAlias="СерииЗапрос" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Id == SelectedLine.ИдСерии"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" comment="Заполняем временную строку" expression="tempRow = new Cleverence.Warehouse.Row();&#xD;&#xA;tempRow.Ид = SelectedLine.ИдСерии;&#xD;&#xA;tempRow.Серия = ВыбраннаяСерия.ИмяСерии;" id="56f10abe-0997-46cb-8977-ee6d095ea77c" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Пишем строку в таблицу" expression="СерииТовара.Add(tempRow)" id="e6d297a2-d8f6-4a53-8f3f-d48be1fe2088" indent="0" name="" nextDirection="continue" /></Actions><LockObjects count="0" /></ForeachAction><SelectDocumentLinesAction breakPoint="False" comment="Сортируем полученную табличку по именам характеристик" id="76c2e317-b78e-4b7d-aa5e-48916ed2f27d" indent="0" nextDirection="" sessionVariable="СерииТовара"><Query copySelection="False" documentLines="Declared" from="СерииТовара" sourceWhereExpression="" tableAlias="ХарактеристикиТовара" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>Серия</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Создаем табличку для отображения" expression="СтрокиПоказа = new Cleverence.Warehouse.HybridCollection()" id="c71b5571-d5e8-4e02-bb4a-f887603def13" indent="0" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="False" canFinishAlways="False" comment="Заполняем табличку для показа" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="0eec7c34-4507-4929-ad70-0aabd0dc4555" indent="0" items="{СерииТовара}" nextDirection="4" transactionNotch="False"><Actions count="3"><SelectDocumentLinesAction breakPoint="False" comment="Выбираем данные по серии" id="cce982b1-dd82-44a0-89c1-cc00553bf987" indent="0" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдСерии== SelectedLine.Ид"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ИдСклада</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="9882e952-d6a9-421c-861d-06a3ae3071c2" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Пишем в табличку для показа с заголовком" expression="СтрокиПоказа.AddCollection(groupCol,SelectedLine.Серия != &quot;&quot; ? SelectedLine.Серия: &quot;Без серии&quot;)" id="11d41154-1378-41dc-97bd-943a23c46b3d" indent="0" nextDirection="continue" /></Actions><LockObjects count="0" /></ForeachAction><ItemsViewAction id="de44ddf3-b083-4909-b0b0-29189afec4e2" name="4" nextDirection="5" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;&lt;Black&gt;{SelectedProduct.Product.Name}&lt;/Black&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;Все серии&lt;/b&gt;" footerText="{SelectedProduct.ИдСерии != &quot;&quot;:&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;1&quot;&gt;К серии товара&lt;/button&gt;;}" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem2" viewItems="{СтрокиПоказа}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="{СтрокиПоказа}" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" comment="Возвращаем по нажатию на экране/enter" expression="true" id="aa90754d-b953-4700-a6c1-664573cb8dbd" indent="0" name="5" nextDirection="" noDirection="back" yesDirection="back" /></Actions><LockObjects count="0" /></GroupAction><GroupAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="False" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="1c29353e-d56c-4e9d-870c-37351528d816" indent="0" name="ПоСкладам" nextDirection="return" transactionNotch="False"><Actions capacity="8" count="5"><SelectDocumentLinesAction breakPoint="False" id="0db6b6eb-f721-4c36-9bd7-f0d063eabb1b" indent="0" nextDirection="" sessionVariable="tempCol"><Query copySelection="False" documentLines="Declared" from="ОстаткиПоТовару" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ИдСклада</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="tempCol.Count != 0" id="dfd3d6bf-fee7-4e5d-b031-a8d6849d8119" indent="0" nextDirection="" noDirection="1" yesDirection="3" /><AssignAction breakPoint="False" comment="Перебираем строки, одинаковые суммируем" expression="i=0;&#xD;&#xA;Уникальный = true;&#xD;&#xA;lastIndex = tempCol.Count-1;&#xD;&#xA;groupCol = new Cleverence.Warehouse.RowCollection();&#xD;&#xA;if(i==0){newRow = tempCol[0].Clone(); i=i+1;}&#xD;&#xA;while(i&lt;=lastIndex){&#xD;&#xA;if(newRow.ИдСклада == tempCol[i].ИдСклада){&#xD;&#xA;newRow.КоличествоВНаличии = newRow.КоличествоВНаличии + tempCol[i].КоличествоВНаличии;&#xD;&#xA;newRow.КоличествоКОтбору = newRow.КоличествоКОтбору + tempCol[i].КоличествоКОтбору;&#xD;&#xA;}else{&#xD;&#xA;groupCol.Add(newRow);&#xD;&#xA;newRow = tempCol[i].Clone();&#xD;&#xA;}&#xD;&#xA;i=i+1;&#xD;&#xA;}&#xD;&#xA;groupCol.Add(newRow);" id="7cc23d6a-dc26-4cee-9c84-dd869bc414b6" indent="0" name="3" nextDirection="" /><ItemsViewAction id="ec0239d9-2130-4293-bc7c-31b22767f23c" name="1" nextDirection="2" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size = &quot;-1&quot;&gt; esc - назад&lt;/r&gt;}&#xD;&#xA;&lt;r color=&quot;Black&quot;&gt;{SelectedProduct.Product.Name}&lt;/r&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;По складам&lt;/b&gt;" footerText="" title="Остатки" transactionNotch="True" cancelType="None" fullscreen="True" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{groupCol}" welcomeText=""><KeyJumps count="1"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ИдСклада!=&quot;&quot;:{СкладыЗапрос.Find(&quot;Ид&quot;, Item.ИдСклада).Наименование};Без склада}" leftBorder="0" rightBorder="0" title="Структурная единица" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоВНаличии}" leftBorder="0" rightBorder="0" title="Кол-во" topBorder="0" width="20%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.КоличествоКОтбору}" leftBorder="0" rightBorder="0" title="Резерв" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" from="" sourceWhereExpression="" tableAlias="Остатки" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" expression="true" id="32719448-f2ea-4fa6-a126-6d2bbd2e6253" indent="0" name="2" nextDirection="" noDirection="back" yesDirection="back" /></Actions><LockObjects count="0" /></GroupAction></Actions><Parameters count="1"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /></Parameters><Returns count="0" /></Operation>
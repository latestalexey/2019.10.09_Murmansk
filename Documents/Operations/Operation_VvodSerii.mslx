<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ВводСерии" serverHosted="False"><Actions capacity="32" count="23"><ConditionAction breakPoint="False" comment="Если отсканирован gs1-128" expression="SelectedProduct.ПоGS != null" id="9fb71831-a957-4166-8fcd-89a467fca412" indent="0" nextDirection="" noDirection="12" yesDirection="" /><SelectDocumentLineAction breakPoint="False" id="df6cdc4d-7e1a-49f0-9d51-2488fd49653d" indent="0" nextDirection="" sessionVariable="ПоискИзGS"><Query copySelection="False" documentLines="Declared" from="Серии" sourceWhereExpression="" tableAlias="Серии" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.КлючСерий == SelectedProduct.Product.КлючСерий &amp;&amp; Item.Номер == SelectedProduct.ПоGS.Серия"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" comment="Если строка не создалась" expression="ПоискИзGS == null" id="3a9609d0-ec71-4a7f-a9a5-42cc29c98586" indent="0" nextDirection="" noDirection="" yesDirection="7" /><AssignAction breakPoint="False" expression="SelectedProduct.ИдСерии = ПоискИзGS.Ид" id="95e71438-4fb2-425f-9e19-c48f4771f17a" indent="0" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.ИмяСерии = ПоискИзGS.ИмяСерии" id="9ad27143-2f72-4b97-95e1-65e2571cf6b2" indent="0" nextDirection="11" /><AssignAction breakPoint="False" expression="SelectedProduct.ПоGS = null" id="842657fc-7057-4a3a-a234-4b6b4bfabb1d" indent="0" name="11" nextDirection="return" /><AssignAction breakPoint="False" expression="НомерСерии = SelectedProduct.ПоGS.Серия" id="a8c2ab63-e68e-44b0-8d58-dd22248e414e" indent="0" name="7" nextDirection="" /><AssignAction breakPoint="False" expression="ДатаСерии = SelectedProduct.ПоGS.Дата" id="9a3f23e9-fed0-4511-846e-8729c11b0acd" indent="0" nextDirection="15" /><AssignAction breakPoint="False" expression="ИмяСерии = SelectedProduct.ПоGS.Серия" id="d9f1524d-b1be-42ba-9916-f7c0d88af75e" indent="0" name="15" nextDirection="4" /><ConditionAction breakPoint="False" expression="ВводНовыхСерий == true &amp;&amp; СначалаВыбор == false" id="aa38dabc-a3ec-4e6c-a35e-b30121764f61" indent="0" name="12" nextDirection="" noDirection="Выбор серии" yesDirection="" /><ConditionAction breakPoint="False" expression="СохрСерии != null" id="873d346b-36df-4d93-af9f-4c523877b1cf" indent="0" name="6" nextDirection="" noDirection="4" yesDirection="" /><AssignAction breakPoint="False" expression="НомерСерии = СохрСерии.НомерСерии;&#xD;&#xA;ДатаСерии = СохрСерии.ДатаСерии;&#xD;&#xA;ИмяСерии = СохрСерии.ИмяСерии;&#xD;&#xA;Дополнительно = СохрСерии.Дополнительно;" id="3945922d-e6c2-4b7e-b022-100b2232c9ae" indent="0" name="5" nextDirection="" /><MultilineFieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" footerText="&lt;button width=&quot;100%&quot; direction=&quot;Выбор серии&quot;&gt;(0) Выбор серии&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; direction=&quot;return&quot;&gt;(1) Без серии&lt;/button&gt;" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - отмена&lt;/r&gt;}&#xD;&#xA;{ПоискСерии==null:{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.ЦенаСклад};&lt;red&gt;Данная серия уже существует!&lt;br/&gt;Выберите из списка.&lt;/red&gt;}&#xD;&#xA;{ПоискСерии = null}" id="0544e238-4099-4819-bd48-4b4b0ec6bc0a" indent="1" name="4" nextDirection="" processImmediately="False" title="Ввод серии" transactionNotch="True"><KeyJumps count="3"><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="Выбор серии" barcode="0" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="return" barcode="1" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /></KeyJumps><Lines count="4"><FieldEditLine allowEmpty="True" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{НомерСерии}" selectedItem="" sizeType="Normal" welcomeText="№ серии" /><FieldEditLine allowEmpty="True" condition="" dataSource="" fieldType="DateTime" fontSize="20" format="ddMMyy" password="False" path="{ДатаСерии}" selectedItem="" sizeType="Normal" welcomeText="Дата (ДДММГГ)" /><FieldEditLine allowEmpty="True" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{ИмяСерии}" selectedItem="" sizeType="Normal" welcomeText="Имя" /><FieldEditLine allowEmpty="True" condition="" dataSource="" fieldType="String" fontSize="20" format="" password="False" path="{Дополнительно}" selectedItem="" sizeType="Normal" welcomeText="Дополнительно" /></Lines></MultilineFieldEditAction><SelectDocumentLineAction breakPoint="False" id="a4fe05c0-56bb-4e41-99e3-0a9b2eee1aa1" indent="1" nextDirection="" sessionVariable="ПоискСерии"><Query copySelection="False" documentLines="Declared" from="Серии" sourceWhereExpression="" tableAlias="Серии" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.КлючСерий == SelectedProduct.Product.КлючСерий &amp;&amp; Item.Номер == НомерСерии &amp;&amp; Item.ИмяСерии == ИмяСерии"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" comment="Если строка не создалась" expression="ПоискСерии == null " id="e7f368da-ed74-4173-9251-5e5da270de05" indent="1" nextDirection="" noDirection="4" yesDirection="9" /><ConditionAction breakPoint="False" comment="И данные были заполнены не из GS1" expression="SelectedProduct.ПоGS == null" id="e73e9ab1-558e-4a77-8af1-e1a1c6a15e0d" indent="1" name="9" nextDirection="" noDirection="13" yesDirection="12 1" /><AssignAction breakPoint="False" expression="SelectedProduct.ПоGS = null" id="87f9ed60-f469-46ee-a2d0-5bc2b408369a" indent="1" name="13" nextDirection="14" /><AssignAction breakPoint="False" expression="СохрСерии==null ? СохрСерии = new Cleverence.Warehouse.Row() :СохрСерии = &quot;&quot;;&#xD;&#xA;СохрСерии.SetField(&quot;НомерСерии&quot;,НомерСерии);&#xD;&#xA;СохрСерии.SetField(&quot;ДатаСерии&quot;,ДатаСерии);&#xD;&#xA;СохрСерии.SetField(&quot;ИмяСерии&quot;,ИмяСерии);&#xD;&#xA;СохрСерии.SetField(&quot;Дополнительно&quot;,Дополнительно);" id="7ac6ca13-b2ae-462d-8d8a-8a798242e144" indent="1" name="12 1" nextDirection="14" /><OperationAction abortDirection="6" breakPoint="False" id="02ad0004-f531-4d80-b211-4217d9b7983a" indent="1" name="14" nextDirection="2" operationName="СозданиеСерии" transactionNotch="False"><InKeys capacity="8" count="5"><String>КлючСерий</String><String>НомерСерии</String><String>ДатаСерии</String><String>ИмяСерии</String><String>Дополнительно</String></InKeys><InValues capacity="8" count="5"><String>{SelectedProduct.Product.КлючСерий}</String><String>{НомерСерии}</String><String>{ДатаСерии}</String><String>{ИмяСерии}</String><String>{Дополнительно}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="SelectedProduct.ИдСерии = Серия.Ид" id="8a578aba-a119-419b-9506-9bda628b1301" indent="1" name="2" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.ИмяСерии = Серия.ИмяСерии" id="4aeb8e63-4640-41cc-8bd3-b1899e629de8" indent="1" name="2 1" nextDirection="return" /><OperationAction abortDirection="abort" breakPoint="False" id="d9c960c7-dc2e-45d6-8c3a-f91189e486c7" indent="1" name="Выбор серии" nextDirection="" operationName="ВыборСерииИзСписка" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="КВводуНовой == true" id="00147a9b-9320-4120-b84a-6398c6429ec4" indent="1" name="3" nextDirection="" noDirection="return" yesDirection="6" /></Actions><Parameters count="4"><FieldInfo alias="" eanAI="None" fieldName="ВводНовыхСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodNovyhSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СначалаВыбор" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SnachalaVybor" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СохрСерии" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SohrSerii" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="Серия" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="Seriya" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="СохрСерии" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="SohrSerii" valueTemplate="" /></Returns></Operation>
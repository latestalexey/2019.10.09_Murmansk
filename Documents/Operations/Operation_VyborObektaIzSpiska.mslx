<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="Выбор объекта из списка" serverHosted="False"><Actions capacity="64" count="44"><AssignAction breakPoint="False" expression="ВыходПоКнопке = false" id="4ca7b777-a18d-4b12-a71c-5b419f2fea5d" indent="0" name="21" nextDirection="" /><ConditionAction breakPoint="False" expression="SelectedItem != null" id="7c3acf8a-20e1-4d41-b990-fa818e2d60bb" indent="0" nextDirection="" noDirection="7" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedItemSource = SelectedItem" id="ef14bf1a-1756-4f18-959d-493f52ab1815" indent="1" nextDirection="" /><AssignAction breakPoint="False" expression="ТекущаяПапка = SelectedItem.РодительскаяПапка" id="f5a52d8f-ce2e-4ddf-b7f2-ce3d91f94ef9" indent="1" nextDirection="6" /><AssignAction breakPoint="False" expression="ТекущаяПапка = null" id="e6aa004e-78e2-4ff7-88cb-452413e18d4e" indent="0" name="7" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedItemSource = null" id="411ba11d-ebaa-45a0-a4a3-411f94400f8d" indent="0" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяПапка == null || ТекущаяПапка.Ид == &quot;&quot;" id="b2924ac9-187f-424b-ae96-37865de74867" indent="0" name="6" nextDirection="" noDirection="1" yesDirection="" /><SelectDocumentLinesAction breakPoint="False" id="3c90fcba-b736-4f25-8003-66756387d115" indent="1" name="1 1" nextDirection="" sessionVariable="ТекУровень"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдРодителя == &quot;&quot; &amp;&amp; (ТолькоСШК == false || Item.ЭтоПапка || Item.ШК != &quot;&quot;)"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="2"><String>ЭтоПапка desc</String><String>Наименование</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" expression="Сумма = ТекУровень" id="da10a200-126f-4b4f-9f91-c4eee716ed3b" indent="2" nextDirection="16" /><SelectDocumentLinesAction breakPoint="False" id="4d6ecf14-aa1f-48b9-ab26-5854bdf61fbe" indent="0" name="1" nextDirection="" sessionVariable="ТекУровень"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдРодителя == ТекущаяПапка.Ид &amp;&amp; (ТолькоСШК == false || Item.ЭтоПапка || Item.ШК != &quot;&quot;)"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="2"><String>ЭтоПапка desc</String><String>Наименование</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" expression="Сумма = new Cleverence.Warehouse.HybridCollection()" id="75d5c2dc-4109-4573-9c6b-6a104c3e9a61" indent="2" nextDirection="" /><AssignAction breakPoint="False" expression="Сумма.Add(ТекущаяПапка)" id="d36db950-24c7-4c4b-942d-3c013091a29d" indent="2" nextDirection="" /><AssignAction breakPoint="False" expression="Сумма.AddCollection(ТекУровень)" id="468a3ec9-99e7-4a45-b341-5f80b90f9573" indent="2" nextDirection="" /><ConditionAction breakPoint="False" expression="ВыборПоШК==true || ПоискПоИмени == true" id="1510aa44-debc-4e41-ba2d-34231310ef1a" indent="0" name="16" nextDirection="" noDirection="Выбор без ШК" yesDirection="Выбор с ШК" /><FieldEditAction autoCloseTime="0" backgroundImage="cres.bckg_barcode" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="&lt;b align=&quot;center&quot; color=&quot;Green&quot;&gt;{SelectedItemSource.ОтображениеСКартинкой}&lt;/b&gt;&#xD;&#xA;{SelectedItemSource==null:;&lt;button direction=&quot;14&quot; align=&quot;center&quot; width=&quot;100%&quot;&gt;Сбросить текущее&lt;/button&gt;}" format="" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - назад&lt;/r&gt;}&#xD;&#xA;" id="d84cf1d3-7590-42d6-8ccb-e9991e548bd9" indent="0" listCaption="{CurrentAction.Value!=null:&lt;b size=&quot;+1&quot; color=&quot;Red&quot; align=&quot;center&quot;&gt;Нажмите ENTER для поиска&lt;/b&gt;;}" listItemFormat="{&quot;&quot;}" name="Выбор с ШК" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" title="{Device.IsAndroid:{ТекстЗаголовка};&lt;r size=&quot;-2&quot;&gt;{ТекстЗаголовка}&lt;/r&gt;}" transactionNotch="True" viewItems="Сумма" welcomeText="&#xD;&#xA;"><Columns count="1"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="&lt;r size=&quot;+2&quot;&gt;{Item.ЭтоПапка == true:{ТекущаяПапка!=null &amp;&amp;Item.Ид==ТекущаяПапка.Ид:[..];&lt;img align=&quot;center&quot; tcolor=&quot;yes&quot;&gt;cres.folder&lt;/img&gt;&lt;b&gt;{Item.ОтображениеОбъекта}&lt;/b&gt;};{Item.ОтображениеОбъекта}}&lt;/r&gt;" leftBorder="0" rightBorder="0" topBorder="0" width="88%" /></Columns><KeyJumps count="2"><KeyToAction action="выход по кнопке" barcode="" condition="" foreColor="#00000000" key="F15" modifiers="None" viewType="InMenu" /><KeyToAction action="назад" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ConditionAction breakPoint="False" expression="ScannedBarcode == &quot;&quot;" id="5520b9aa-9f2c-479c-8f72-a52dff35a545" indent="0" nextDirection="" noDirection="поиск по шк" yesDirection="15" /><ItemsViewAction id="744e4d26-ca08-48c1-a1e7-0d7f9168e81e" name="Выбор без ШК" nextDirection="" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - назад&lt;/r&gt;}" footerText="&lt;b align=&quot;center&quot; color=&quot;Green&quot;&gt;{SelectedItemSource.ОтображениеСКартинкой}&#xD;&#xA;{SelectedItemSource==null:;&lt;button direction=&quot;14&quot; align=&quot;center&quot; width=&quot;100%&quot;&gt;Сбросить текущее&lt;/button&gt;}&lt;/b&gt;" title="{Device.IsAndroid:{ТекстЗаголовка};&lt;r size=&quot;-2&quot;&gt;{ТекстЗаголовка}&lt;/r&gt;}" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="Сумма" welcomeText=""><KeyJumps count="3"><KeyToAction action="назад" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="поиск по шк" barcode="{any}" condition="ВыборПоШК==true" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="выход по кнопке" barcode="" condition="" foreColor="#00000000" key="F15" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="1"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ЭтоПапка == true:{ТекущаяПапка!=null &amp;&amp;Item.Ид==ТекущаяПапка.Ид:[..];&lt;img align=&quot;center&quot; tcolor=&quot;yes&quot;&gt;cres.folder&lt;/img&gt; {Item.ОтображениеОбъекта}};{Item.ОтображениеСКартинкой}}" leftBorder="0" rightBorder="0" topBorder="0" width="88%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" expression="SelectedItem == null" id="9b29f4e1-6780-4dc1-aa3e-cb9d8da5c20f" indent="0" name="15" nextDirection="" noDirection="" yesDirection="back" /><ConditionAction breakPoint="False" expression="SelectedItem.ЭтоПапка == false" id="a94b6693-759a-4e07-a44c-e1582391733c" indent="0" nextDirection="" noDirection="13" yesDirection="" /><ConditionAction breakPoint="False" expression="ПросмотрИнфоПоВыбору == true" id="d7aad87e-7b2e-4c5f-b4ae-9b18cd18863b" indent="1" nextDirection="" noDirection="return" yesDirection="подробнее" /><ConditionAction breakPoint="False" expression="ТекущаяПапка!= null &amp;&amp; ТекущаяПапка.Ид != &quot;&quot; &amp;&amp; SelectedItem.Ид == ТекущаяПапка.Ид" id="77e0f776-d96f-4475-8c76-394aa947c40c" indent="0" name="13" nextDirection="" noDirection="" yesDirection="12" /><AssignAction breakPoint="False" expression="ТекущаяПапка = SelectedItem" id="1d3b63fa-2167-4fdf-b554-c6431d2cd5b1" indent="0" name="10" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedItem=null" id="9d5e03f7-cdce-447f-bdf0-38ab4aeec284" indent="0" nextDirection="6" /><ConditionAction breakPoint="False" expression="ТекущаяПапка == null || ТекущаяПапка.Ид == &quot;&quot;" id="04149bb4-edf0-4e5a-a0ca-73e4236c933b" indent="0" name="назад" nextDirection="" noDirection="12" yesDirection="abort" /><AssignAction breakPoint="False" expression="SelectedItem = ТекущаяПапка" id="20c1d3fa-feee-4cd3-b53b-e619b6bf13fa" indent="0" name="12" nextDirection="" /><AssignAction breakPoint="False" expression="ТекущаяПапка = ТекущаяПапка.РодительскаяПапка" id="c4a6aafe-b63b-42fb-a965-fb3160ab5b11" indent="0" name="8" nextDirection="6" /><OperationAction abortDirection="back" breakPoint="False" id="4f5724d9-9c6f-4f69-85bb-a4c964f7d749" indent="0" name="подробнее" nextDirection="back" operationName="Информация о объекте" transactionNotch="False"><InKeys count="1"><String>Поз</String></InKeys><InValues count="1"><String>{SelectedItem}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ВыборПоШК == true" id="9dcda01c-f387-4e80-9482-1fc64cf7b3e3" indent="0" name="поиск по шк" nextDirection="" noDirection="поиск по имени" yesDirection="" /><SelectDocumentLineAction breakPoint="False" id="294d9fdf-7bf0-4041-a589-ddda08aaecb4" indent="0" name="" nextDirection="" sessionVariable="ПоискОбъекта"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ШК == ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="ПоискОбъекта == null" id="a24f043e-c147-4dfa-bc61-ac5c03edcd53" indent="0" name="20" nextDirection="" noDirection="17" yesDirection="" /><ConditionAction breakPoint="False" expression="ПоискПоИмени == true" id="9dd2988a-087d-49eb-8e91-c2ac68dc9ae8" indent="1" nextDirection="" noDirection="" yesDirection="сам поиск" /><ClearSessionAction all="False" breakPoint="False" id="56157378-cd6f-4e4b-8371-eaa2c5024a38" indent="1" name="19 1" nextDirection=""><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><BaloonAction breakPoint="False" id="2cdc7daf-744b-4e9d-b332-692070b9f4d3" indent="1" isError="True" name="18" nextDirection="undo" seconds="3" text="Не найдено по ШК" /><AssignAction breakPoint="False" expression="SelectedItem = ПоискОбъекта" id="a826314b-ebd4-4d1a-afbc-c2461ddc0be6" indent="0" name="17" nextDirection="return" /><ConditionAction breakPoint="False" expression="ПоискПоИмени == true" id="c171bace-1e62-4cf4-b98a-21a828f6a328" indent="0" name="поиск по имени" nextDirection="" noDirection="back" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedItem = null" id="23485b4b-4cd9-4043-8626-e80d983d5ba5" indent="0" name="сам поиск" nextDirection="" /><AssignAction breakPoint="False" expression="ПрошлоеИмя=ScannedBarcode" id="59683a5e-ee8a-4737-aaa8-66dfe3385a6c" indent="0" nextDirection="" /><SelectDocumentLinesAction breakPoint="False" id="0e043f3e-05fb-41e2-a2d5-e94f915e6201" indent="0" nextDirection="" sessionVariable="СтрокиПоИмени"><Query copySelection="False" documentLines="Declared" from="{ItemsCollection}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ЭтоПапка == false &amp;&amp; Item.НаименованиеДляПоиска.Contains(ScannedBarcode.ToLower())"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><FieldEditAction autoCloseTime="0" backgroundImage="cres.bckg_barcode" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="&lt;b align=&quot;center&quot; color=&quot;Green&quot;&gt;{SelectedItemSource.ОтображениеСКартинкой}&#xD;&#xA;{SelectedItemSource==null:;&lt;button direction=&quot;14&quot; align=&quot;center&quot; width=&quot;100%&quot;&gt;Сбросить текущее&#xD;&#xA;&lt;/button&gt;}&lt;/b&gt;" format="" fullscreen="Inherit" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - назад&lt;/r&gt;}" id="c1a402c3-733c-41af-a717-4710cd155b49" indent="0" listCaption="&lt;Red&gt;Найдено: {СтрокиПоИмени.Count} поз.&lt;/Red&gt;" listItemFormat="{ПрошлоеИмя}" name="найдено по имени" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" title="{Device.IsAndroid:{ТекстЗаголовка};&lt;r size=&quot;-2&quot;&gt;{ТекстЗаголовка}&lt;/r&gt;}" transactionNotch="True" viewItems="СтрокиПоИмени" welcomeText=""><Columns count="1"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="&lt;r size=&quot;+2&quot;&gt;{Item.ЭтоПапка == true:{ТекущаяПапка!=null &amp;&amp;Item.Ид==ТекущаяПапка.Ид:[..];&lt;img align=&quot;center&quot; tcolor=&quot;yes&quot;&gt;cres.folder&lt;/img&gt;&lt;b&gt;{Item.ОтображениеОбъекта}&lt;/b&gt;};{Item.ОтображениеОбъекта}}&lt;/r&gt;" leftBorder="0" rightBorder="0" topBorder="0" width="88%" /></Columns><KeyJumps count="2"><KeyToAction action="выход по кнопке" barcode="" condition="" foreColor="#00000000" key="F15" modifiers="None" viewType="InMenu" /><KeyToAction action="Отмена поиска" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ConditionAction breakPoint="False" expression="ScannedBarcode != &quot;&quot; &amp;&amp; ScannedBarcode != ПрошлоеИмя" id="4802c8ae-0798-4878-becf-3fedb37b0a64" indent="0" nextDirection="" noDirection="" yesDirection="сам поиск" /><ConditionAction breakPoint="False" expression="SelectedItem != null &amp;&amp; SelectedItem.ЭтоПапка == false" id="e8ebd824-4ddf-48c5-b6b2-4514703dc95c" indent="0" nextDirection="" noDirection="" yesDirection="return" /><ClearSessionAction all="False" breakPoint="False" id="9e7112f7-66d7-4d93-b780-1f3931f77dec" indent="0" name="Отмена поиска" nextDirection="Выбор с ШК"><KeyNames count="2"><String>ScannedBarcode</String><String>ПрошлоеИмя</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="SelectedItem = null" id="e064bcdf-4ff8-438a-936f-fb6ce7f9bd14" indent="0" name="14" nextDirection="return" /><AssignAction breakPoint="False" expression="ВыходПоКнопке = true" id="3d124b50-f718-41f8-8ce1-a9fb62ca3a99" indent="0" name="выход по кнопке" nextDirection="" /></Actions><Parameters capacity="8" count="7"><FieldInfo alias="" eanAI="None" fieldName="ItemsCollection" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ItemsCollection" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="SelectedItem" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedItem" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТолькоСШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TolkoSShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВыборПоШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VyborPoShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТекстЗаголовка" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TekstZagolovka" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПросмотрИнфоПоВыбору" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ProsmotrInfoPoVyboru" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПоискПоИмени" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PoiskPoImeni" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="SelectedItem" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="SelectedItem" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ВыходПоКнопке" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VyhodPoKnopke" valueTemplate="" /></Returns></Operation>
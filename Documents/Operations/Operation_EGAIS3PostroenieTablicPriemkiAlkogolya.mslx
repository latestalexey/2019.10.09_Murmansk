<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" comment="ЕГАИС 3 | Построение таблиц на ТСД, всегда получается режим &quot;Бутылки&quot;" fullscreen="Inherit" lock="No" name="ЕГАИС3 ПостроениеТаблицПриемкиАлкоголя" serverHosted="False"><Actions capacity="8" count="7"><AssignAction breakPoint="False" expression="GO.ShowWaitMessage(&quot;...Построение структуры документа...&quot;)" id="e966a0cd-a124-40cf-9bea-2a9bcb181465" indent="0" nextDirection="" /><AssignAction breakPoint="False" comment="Очистка таблиц" expression="Document.Структура.Rows.Clear();&#xD;&#xA;Document.Коробки.Rows.Clear();&#xD;&#xA;Document.КоробкиВНоменклатуре.Rows.Clear();" id="c48529ae-8666-4b53-8ffb-02b88028b76d" indent="0" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="True" canFinishAlways="False" comment="Обнуление родителя для всех марок" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="e524df48-054c-4600-a9fa-50782fd378ee" indent="0" items="" name="ОчисткаРодителейМарок" nextDirection="" transactionNotch="False"><Actions count="1"><AssignAction breakPoint="False" expression="SelectedLine.РодительПлан = &quot;&quot;" id="426e61bb-617e-4c0c-8455-4a908edd7486" indent="0" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><SelectDocumentLinesAction breakPoint="False" id="7356aab3-7c49-481b-bd76-f473ac9875b6" indent="0" nextDirection="" sessionVariable="МаркиГруп"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="1"><String>ProductId</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ForeachAction breakPoint="False" buttonExit="True" canFinishAlways="False" comment="Заполнение таблицы Document.Структура" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="24585031-12f1-4ad7-a4aa-3f6ef319bb57" indent="0" items="{МаркиГруп}" nextDirection="" transactionNotch="False"><Actions count="1"><AssignAction breakPoint="False" expression="НовСтрока = new Cleverence.Warehouse.Row();&#xD;&#xA;НовСтрока.Родитель = &quot;&quot;;&#xD;&#xA;НовСтрока.ПолноеИмя = SelectedLine.Product.Name;&#xD;&#xA;НовСтрока.УпаковкаИд = SelectedLine.PackingId;&#xD;&#xA;НовСтрока.ТоварИд = SelectedLine.ProductId;&#xD;&#xA;НовСтрока.Факт = SelectedLine.CurrentQuantity;&#xD;&#xA;НовСтрока.План = SelectedLine.DeclaredQuantity;&#xD;&#xA;Document.Структура.Rows.Add(НовСтрока);" id="8051c58a-ce30-4506-aedd-ebc4125057b4" indent="0" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><AssignAction breakPoint="False" expression="Document.СтруктураПостроена = true;&#xD;&#xA;Document.КоробкиВНоменклатуреПостроены = true;&#xD;&#xA;Document.РежимРаботы = 2;" id="b8c08e16-17e1-4a0c-80df-840812fe5b53" indent="0" name="ПостроениеЗавершено" nextDirection="" /><AssignAction breakPoint="False" expression="GO.HideWaitMessage()" id="f383d971-2bfb-4619-9f8b-7a85d669bdf9" indent="0" nextDirection="" /></Actions><Parameters count="0" /><Returns count="0" /></Operation>
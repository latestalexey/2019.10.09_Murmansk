<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="Просмотр Факт" serverHosted="False"><Actions capacity="32" count="27"><ClearSessionAction all="False" breakPoint="False" id="bce93cc9-f94e-41d0-b779-a09e045dd541" indent="0" nextDirection=""><KeyNames count="1"><String>ErrorMessage</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="Строки == null" id="fdd3261d-c50a-4a6f-8b46-e01138a58baf" indent="0" nextDirection="" noDirection="1" yesDirection="" /><AssignAction breakPoint="False" expression="Строки = Document.CurrentItems" id="17251e46-7a96-4a23-aef8-a844c51bc3db" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="8d6e66a9-fdd4-420e-8579-2ceadbfef1d5" indent="0" name="1" nextDirection="" noDirection="" yesDirection="ПросмотрФакт" /><SelectDocumentLineAction breakPoint="False" id="af23a62e-c1bb-4e4b-8b14-ceff9f35bc8c" indent="0" name="" nextDirection="ПросмотрФакт" sessionVariable="SelectedLine"><Query copySelection="False" documentLines="Current" from="Строки.FindByProductId(SelectedProduct.ProductId)" sourceWhereExpression="" tableAlias="Строки.FindByProductId(SelectedProduct.ProductId)" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ШК==SelectedProduct.ШК"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ItemsViewAction id="289d6abe-98a7-461a-84ae-a8004f6dffce" name="ПросмотрФакт" nextDirection="ИзменениеКоличества" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - вернуться к вводу, (enter) - править, (del) или (back) - удалить&lt;/r&gt;}&#xD;&#xA;&lt;b size=&quot;+1&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;Строк: {Строки.Count}, Кол-во: {Строки.CurrentQuantity}&lt;/b&gt;&#xD;&#xA;{ErrorMessage:&lt;b size=&quot;+1&quot;&gt;(0)&lt;/b&gt;}" footerText="&lt;button width=&quot;100%&quot; direction=&quot;УдалениеСтроки&quot;&gt;Удалить строку&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; direction=&quot;УдалениеВсехСтрок&quot;&gt;Удалить все строки&lt;/button&gt;" transactionNotch="False" cancelType="None" fullscreen="True" format="" selectedItem="SelectedLine" viewItems="{Строки}" welcomeText=""><KeyJumps count="4"><KeyToAction action="return" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="УдалениеСтроки" barcode="" condition="" foreColor="#00000000" key="Delete" modifiers="None" viewType="InMenu" /><KeyToAction action="УдалениеСтроки" barcode="" condition="" foreColor="#00000000" key="Back" modifiers="None" viewType="InMenu" /><KeyToAction action="ПоискСтрокиПоШтрихкоду" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Строки.Index(Item)}." leftBorder="0" rightBorder="0" topBorder="0" width="10%" /><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрВСписке}" leftBorder="0" rightBorder="0" topBorder="0" width="100%" /><ItemsColumn align="TopRight" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрКолво}" leftBorder="0" rightBorder="0" topBorder="0" width="21%" /></Columns><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" expression="SelectedLine == null" id="30adee75-7712-4bdb-b846-5146addbc44a" indent="0" name="УдалениеСтроки" nextDirection="" noDirection="" yesDirection="ПросмотрФакт" /><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="ec568490-1e46-4e38-9432-3af80b129e6c" indent="1" message="Удалить строку {SelectedLine.стрОсновное}?" name="" nextDirection="" noDirection="ПросмотрФакт" transactionNotch="False" yesDirection=""><KeyJumps count="0" /></QuestionYesNoAction><RemoveDocumentLineAction breakPoint="False" id="d249d0d9-c3f2-42b3-a289-89c9744d8263" indent="2" name="Удаление сразу" nextDirection="" packing="" quantity="" quantityErrorDirection="" sessionVariable="SelectedLine" /><ConditionAction breakPoint="False" expression="Строки.Contains(SelectedLine)" id="eb6fb99a-9e23-4817-af3d-72df6635092f" indent="2" name="" nextDirection="" noDirection="ПросмотрФакт" yesDirection="" /><AssignAction breakPoint="False" expression="Строки.Remove(SelectedLine)" id="dfc903e9-6e34-4333-92d8-9435e4389644" indent="3" nextDirection="ПросмотрФакт" /><ConditionAction breakPoint="False" expression="Document.CurrentItems.Count&gt;0" id="75d0cc69-3a7a-4d1e-bb9e-52595623b245" indent="1" name="УдалениеВсехСтрок" nextDirection="" noDirection="ПросмотрФакт" yesDirection="" /><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="62ab65d7-5548-442f-98e8-197e510d5ae0" indent="1" message="Удалить все строки?" name="" nextDirection="" noDirection="ПросмотрФакт" transactionNotch="False" yesDirection=""><KeyJumps count="0" /></QuestionYesNoAction><AssignAction breakPoint="False" expression="СтрокиДляУдаления = new Cleverence.Warehouse.DocumentItemCollection()" id="cc5c89b7-5e73-4171-9fbc-bdc228c40667" indent="2" nextDirection="" /><ForeachAction breakPoint="False" buttonExit="True" canFinishAlways="False" cyclic="True" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="006566e7-e418-4391-bc9d-42e801b7c40a" indent="2" items="{Document.CurrentItems}" nextDirection="" transactionNotch="False"><Actions count="1"><AssignAction breakPoint="False" expression="СтрокиДляУдаления.Add(SelectedLine)" id="472e3d22-098d-44d0-bda7-ad5a4d1ab7e5" indent="2" nextDirection="" /></Actions><LockObjects count="0" /></ForeachAction><RemoveDocumentLineAction breakPoint="False" id="f8f6d138-5988-4a90-b1c9-80a6ac7bf324" indent="2" name="Удаление сразу 1" nextDirection="" packing="" quantity="" quantityErrorDirection="" sessionVariable="СтрокиДляУдаления" /><AssignAction breakPoint="False" expression="Строки.Clear()" id="d45091d5-163a-48cc-bb3c-d8c64a423a3f" indent="2" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedLine = null" id="37a7f9a8-6143-441d-8e0a-7c40a92c27d5" indent="2" nextDirection="ПросмотрФакт" /><ConditionAction breakPoint="False" expression="SelectedLine == null" id="1f1b4d6f-79a2-4b74-a4a5-25fcab077e69" indent="1" name="ИзменениеКоличества" nextDirection="" noDirection="" yesDirection="ПросмотрФакт" /><ConditionAction breakPoint="False" expression="РедактироватьКолво == false" id="8c0fe60d-044d-495b-93fd-dc5402a2b852" indent="1" nextDirection="" noDirection="" yesDirection="ПросмотрФакт" /><ClearSessionAction all="False" breakPoint="False" id="26b54ddb-97e7-4c22-85ca-3a9032f67367" indent="1" nextDirection=""><KeyNames count="1"><String>ErrorMessage</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="global::System.String.IsNullOrEmpty(SelectedLine.СН)" id="fa7e80a4-7726-4b87-8d47-71ca6a8c8b15" indent="1" nextDirection="" noDirection="" yesDirection="Правка колва" /><BaloonAction breakPoint="False" id="74f52e2d-3c84-4f06-9482-9dfa806e90fd" indent="2" isError="True" nextDirection="ПросмотрФакт" seconds="3" text="Нельзя редактировать количество у товаров с серийным номером!" /><AssignAction breakPoint="False" expression="qty=SelectedLine.CurrentQuantity" id="30514690-8b7d-4c6e-81b8-202771c9fac5" indent="2" name="Правка колва" nextDirection="" /><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="qty" fieldType="String" format="" fullscreen="Inherit" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - вернуться&lt;/r&gt;}&#xA;{SelectedLine.стрВШапкахОкон}" id="0c206f93-ae4e-4807-9f00-b3617a5c48e9" indent="2" listItemFormat="" name="" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" transactionNotch="False" viewItems="" welcomeText="&lt;b size=&quot;+1&quot;&gt;Количество: {SelectedLine.CurrentQuantity} {SelectedLine.Packing.Name}&lt;/b&gt;&#xA;&lt;br/&gt;&#xA;Корректировка кол-ва:"><Columns count="0" /><KeyJumps count="1"><KeyToAction action="ПросмотрФакт" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><AssignAction breakPoint="False" expression="SelectedLine.CurrentQuantity=qty" id="b96de5cb-72e3-4ecf-b7a0-a25255c652db" indent="2" name="" nextDirection="ПросмотрФакт" /><SelectDocumentLineAction breakPoint="False" id="a4c8f42f-e81c-4ae5-bf89-06a7c5b55014" indent="1" name="ПоискСтрокиПоШтрихкоду" nextDirection="ПросмотрФакт" sessionVariable="SelectedLine"><Query copySelection="False" documentLines="Current" from="Строки" sourceWhereExpression="" tableAlias="Строки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ШК==ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction></Actions><Parameters count="3"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="Строки" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="Stroki" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="РедактироватьКолво" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="RedaktirovatKolvo" valueTemplate="" /></Parameters><Returns count="0" /></Operation>
<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" comment="ЕГАИС 3 | Полная" fullscreen="Inherit" lock="No" name="ЕГАИС3 Приемка" serverHosted="False"><Actions capacity="128" count="117"><ConditionAction breakPoint="False" expression="ИдРодителя != &quot;&quot;" id="aab0f9bb-60a1-4fa2-b991-a5ac58210eae" indent="0" nextDirection="" noDirection="" yesDirection="2612" /><AssignAction breakPoint="False" comment="Корень" expression="ИдРодителя = &quot;&quot;" id="8d891d75-ed67-4905-8477-65e90ba7be11" indent="0" name="Корень" nextDirection="130" /><ClearSessionAction all="False" breakPoint="False" comment="На уровень выше" id="627fba2d-dd73-4f68-a010-abacecebbf28" indent="1" name="2611" nextDirection=""><KeyNames count="2"><String>ТекущаяКоробка</String><String>Обновили</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="ТекущаяКоробка = Document.Коробки.FindFirstByField(&quot;Ид&quot;, ИдРодителя)" id="a5c8f273-6be7-441c-b9f9-94d3692be432" indent="1" name="На уровень выше" nextDirection="" /><ConditionAction breakPoint="False" comment="На уровень выше" expression="ТекущаяКоробка == null" id="5d3fb277-36c3-4254-8f06-16b604488087" indent="1" nextDirection="" noDirection="" yesDirection="Корень" /><ConditionAction breakPoint="False" comment="На уровень выше" expression="ТекущаяКоробка.РодительФакт == &quot;&quot;" id="9030e8be-3dde-49a4-a303-8ae0b44dcaca" indent="1" nextDirection="" noDirection="11" yesDirection="" /><AssignAction breakPoint="False" comment="На уровень выше | Если нет факта" expression="ИдРодителя = ТекущаяКоробка.РодительПлан" id="323e40fa-2bc0-4f53-8fac-ca3f5b0f49a1" indent="2" name="11 1" nextDirection="130" /><AssignAction breakPoint="False" comment="На уровень выше" expression="ИдРодителя = ТекущаяКоробка.РодительФакт" id="77c5132f-440d-4a17-8d23-2119d5ae33f7" indent="1" name="11" nextDirection="130" /><ClearSessionAction all="False" breakPoint="False" id="ada762ca-8f95-4ebf-9122-9fa36bb619d3" indent="0" name="130" nextDirection=""><KeyNames count="3"><String>НужнаСтруктура</String><String>НеСходитсяТовар</String><String>ИгратьОшибку</String></KeyNames></ClearSessionAction><ClearSessionAction all="False" breakPoint="False" id="c00f626a-d654-414b-8a43-11e35d19d2a9" indent="0" name="Обновить" nextDirection=""><KeyNames capacity="8" count="7"><String>ScannedBarcode</String><String>SelectedItem</String><String>УжеДобавлен</String><String>ЭтоПалета</String><String>ЭтоКоробка</String><String>МожноЗакрывать</String><String>НеСходитсяТовар</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" comment="Нужно перестраивать список?" expression="Обновили == true &amp;&amp; (Document.ServerHosted != true || ИгратьОшибку == false) " id="8241883d-6514-4ad0-9d6e-6b3f6a4164fd" indent="0" nextDirection="" noDirection="2605" yesDirection="" /><AssignAction breakPoint="False" expression="СписокСтрок = Document.CurrentItems.FindByField(&quot;РодительФакт&quot;, ИдРодителя);&#xD;&#xA;СошлосьСтрок = СписокСтрок.FindByField(&quot;ПоПлануДаНет&quot;, true).Count;" id="cc77ddec-3d7a-4349-a14b-e3bf1d9b4f1b" indent="1" nextDirection="" /><OperationAction abortDirection="2613" breakPoint="False" id="602101ce-6723-4e91-a5c2-8185f847d009" indent="1" name="116 1" nextDirection="2613" operationName="ЕГАИС3 СчитаемКоличествоОшибок" transactionNotch="False"><InKeys count="2"><String>СписокВсехКоробок</String><String>ЛПШтучек</String></InKeys><InValues count="2"><String>{СписокКоробок}</String><String>{СписокСтрок}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="ПолнаяУжеЕсть = true" id="2f315b31-7713-4126-b719-f13f04ec1914" indent="2" name="2613" nextDirection="2614" /><ConditionAction breakPoint="False" comment="Вынесено наружу, так как изнутри при выходе передадутся пустые параметры при тех же условиях, а надо сохранить все без изменений" expression="НужнаСтруктура == true || Обновили == true" id="7909c706-d45c-414c-8461-c9e0f0a74aa1" indent="2" name="2614" nextDirection="" noDirection="2612" yesDirection="2615" /><ClearSessionAction all="False" breakPoint="False" id="e4dff417-4fe1-4fc5-a540-b2ff7e0c0670" indent="0" name="2605" nextDirection=""><KeyNames count="1"><String>СтрокиПоказа</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="1d5d7c5c-4a36-4296-a612-d0d7dbb99f86" indent="0" name="2612" nextDirection="" operationName="ЕГАИС3 ОбработкаСтрокПоказаПриемкаПолная" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ClearSessionAction all="False" breakPoint="False" id="77c7f482-c8ae-45e1-b6e8-58caeef58b33" indent="1" name="2615" nextDirection="ПЛАНФАКТ"><KeyNames count="1"><String>ПолнаяУжеЕсть</String></KeyNames></ClearSessionAction><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="15%" footerText="" fullscreen="Inherit" headerText="" id="5c57b0f0-0dd1-4f27-ab8f-08439b7d8b31" indent="0" name="Главное меню" nextDirection="" showAsMsgBox="False" transactionNotch="True" welcomeText=""><ButtonDirections capacity="8" count="5"><String>ПЛАНФАКТ</String><String>10</String><String>2599</String><String>159</String><String>160</String></ButtonDirections><ButtonTexts capacity="8" count="5"><String>Продолжить</String><String>&lt;MediumVioletRed&gt;Настройки&lt;/MediumVioletRed&gt;</String><String>{Document.CreatedOnPDA != true &amp;&amp; GlobalVars.ПоказыватьВернуть == true:&lt;Red&gt;Вернуть&lt;/Red&gt;;}</String><String>Временно выйти</String><String>&lt;b color="Red"&gt;Завершить&lt;/b&gt;</String></ButtonTexts><KeyJumps count="1"><KeyToAction action="ПЛАНФАКТ" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></QuestionAction><AssignAction breakPoint="False" expression="Выйти=True" id="fe11650c-50d8-49e3-8a07-293797665834" indent="0" name="160" nextDirection="return" /><AssignAction breakPoint="False" expression="ВременноВыйти=True" id="b83df8c4-2ba4-42e2-b061-ae796d8b91f7" indent="0" name="159" nextDirection="return" /><AssignAction breakPoint="False" expression="Возврат=True" id="04efa11c-b646-4340-a7b7-d1ba01255407" indent="0" name="2599" nextDirection="return" /><OperationAction abortDirection="2611 1" breakPoint="False" id="bd9c0fe6-7ee8-42fd-b873-b7b4899353e2" indent="0" name="10" nextDirection="2611 1" operationName="ЕГАИС3 НастройкиЕГАИС3прием" transactionNotch="False"><InKeys count="1"><String>Операция</String></InKeys><InValues count="1"><String>ПоступлениеЕГАИС3</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="СессияВыборНоменклатурыВсегда = GlobalVars.ВыборНоменклатурыВсегда[&quot;ПоступлениеЕГАИС3&quot;];&#xD;&#xA;СессияАлкоДМ = Document.ИспользуемыйАлкоДМ;&#xD;&#xA;СессияРежимТовара = Document.ИспользуемыйРежимТовара;&#xD;&#xA;СессияРежимРаботы = Document.РежимРаботы;&#xD;&#xA;СессияГлубинаПроверкиПалет = Document.ИспользуемаяГлубинаПроверкиПалет;&#xD;&#xA;СессияГлубинаПроверкиКоробок = Document.ИспользуемаяГлубинаПроверкиКоробок;&#xD;&#xA;СессияРежимПроверкиПоДиапазонам = Document.ИспользуемыйРежимПроверкиПоДиапазонам;&#xD;&#xA;СессияСразуРаботатьСКоробками = GlobalVars.СразуРаботатьСКоробками[&quot;ПоступлениеЕГАИС3&quot;];" id="d861f6ff-196a-4f12-adc6-1738552cf473" indent="1" name="2611 1" nextDirection="Главное меню" /><ItemsViewAction id="99ede638-8323-4aa7-868d-9286f2809080" name="ПЛАНФАКТ" nextDirection="134" headerText="&lt;r color=&quot;black&quot; align=&quot;left&quot; size=&quot;-1&quot;&gt;{ИдРодителя != &quot;&quot;:{ТекКорЭтоПалета == true:&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pallet&lt;/img&gt;;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.box&lt;/img&gt;}{ТекКорСерийныйНомерКоробки};}&lt;/r&gt;&#xD;&#xA;&lt;r color=&quot;black&quot; align=&quot;left&quot; size=&quot;-1&quot;&gt;ОШИБОК: {КоличествоОшибок &gt; 0:&lt;Red&gt;{КоличествоОшибок}&lt;/Red&gt;;&lt;Green&gt;НЕТ&lt;/Green&gt;} Сошлось: {ВсегоКоробок != null:{СошлосьКоробок}/{ВсегоКоробок} {ИдРодителя == &quot;&quot;:&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pallet&lt;/img&gt;;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.box&lt;/img&gt;} ;}{ПланСтрок != null &amp;&amp; ПланСтрок &gt; 0:{СошлосьСтрок}/{ПланСтрок} &lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;;}&lt;/r&gt;&#xD;&#xA;&lt;r color=&quot;black&quot;&gt;{ЗаписьУспех == true:&lt;img tcolor=&quot;yes&quot; align=&quot;bottom&quot;&gt;cres.inv_barcode&lt;/img&gt;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;{SelectedProduct.ОтображениеНоменклатуры};}&lt;/r&gt;&#xD;&#xA;{MSG==&quot;Не нужно сканировать марку!&quot;:&lt;r  align=&quot;center&quot; color=&quot;Red&quot;&gt;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;{НаименованиеОшибка}&lt;/r&gt;;}{MSG==&quot;Не нужно сканировать палету!&quot;:&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pallet&lt;/img&gt;&lt;r align=&quot;center&quot; color=&quot;Red&quot;&gt;&quot;{ErrBarcode}&quot;&lt;/r&gt;;}{MSG==&quot;Не нужно сканировать EAN-13!&quot;:&lt;r align=&quot;center&quot; color=&quot;Red&quot;&gt;&quot;{ErrBarcode}&quot;&lt;/r&gt;;}{MSG==&quot;Не тот штрихкод!&quot;:&lt;r  align=&quot;center&quot; color=&quot;Red&quot;&gt;&quot;{ErrBarcode}&quot;&lt;/r&gt;;}&#xD;&#xA;&lt;b  align=&quot;center&quot; color=&quot;Red&quot; size=&quot;+2&quot;&gt;{MSG}&lt;/b&gt;" footerText="&lt;button height=&quot;10%&quot; width=&quot;50%&quot; direction=&quot;Главное меню&quot;&gt;Меню&lt;/button&gt;{ИдРодителя != &quot;&quot;:&lt;button height=&quot;10%&quot; width=&quot;50%&quot; direction=&quot;Действия&quot;&gt;Действия&lt;/button&gt;;&lt;button enabled=&quot;{ВсегоКоробок != null}&quot; height=&quot;10%&quot; width=&quot;50%&quot; direction=&quot;137&quot;&gt;{НужнаСтруктура == true:Свернуть;Развернуть}&lt;/button&gt;}" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{СтрокиПоказа}" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;{ИдРодителя != &quot;&quot;:{ЗаписьУспех == true:СКАНИРУЙТЕ ДАЛЬШЕ;СКАНИРУЙТЕ КОРОБКУ ИЛИ БУТЫЛКУ};СКАНИРУЙТЕ ПАЛЕТУ}&lt;/b&gt;"><KeyJumps count="4"><KeyToAction action="151" barcode="" condition="ИдРодителя != &quot;&quot;" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="129 1" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="return" barcode="" condition="ИдРодителя == &quot;&quot;" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="Обновить" barcode="" condition="" foreColor="#00000000" key="F5" modifiers="None" viewType="ButtonInHeader" visible="{Document.ServerHosted}" /></KeyJumps><Columns count="3"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ТоварИд != null:&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;{Item.ПолноеИмя}, &lt;b&gt;(бут.)&lt;/b&gt;;{Item.ЭтоПалета == true:&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pallet&lt;/img&gt; ;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.box&lt;/img&gt; }{НужнаСтруктура == true:{Item.ЦветнойСН}, {Item.Номенклатура}, ;{Item.Номенклатура != &quot;&quot;:{Item.Номенклатура}; {Item.ЦветнойСН}}, }&lt;b&gt;{Item.ЭтоПалета == true:(пал.);(кор.)}&lt;/b&gt;}" leftBorder="0" rightBorder="0" title="{НужнаСтруктура == true:Контейнер;Номенклатура}" topBorder="0" width="60%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ТоварИд != null:&lt;h2&gt;{Item.План:0.###}&lt;/h2&gt;;{НужнаСтруктура == true:{Item.СтрВнутри};&lt;h2&gt;{Item.План &gt; 0:{Item.План};0}&lt;/h2&gt;}}" leftBorder="0" rightBorder="0" title="{НужнаСтруктура == true:Внутри;План}" topBorder="0" width="20%" /><ItemsColumn align="MiddleRight" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ТоварИд != null:&lt;h2&gt;{Item.Факт:0.###}&lt;/h2&gt;;{НужнаСтруктура == true:{Item.СтрСтатус};&lt;h2&gt;{Item.Факт &gt; 0:{Item.Факт};0}&lt;/h2&gt;}}&#xD;&#xA;" leftBorder="0" rightBorder="0" title="{НужнаСтруктура == true:Место;Факт}" topBorder="0" width="20%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>Партия DESC</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><AssignAction breakPoint="False" expression="Esc = True;&#xD;&#xA;Обновили = false;" id="2d0e7a89-1ac7-42ed-a671-5895dbdb7102" indent="0" name="151" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="ef8e9e24-2ffc-48c9-9e68-07e3899c9be7" indent="1" name="134 1" nextDirection="ЭСК"><KeyNames capacity="8" count="5"><String>MSG</String><String>ErrBarcode</String><String>НаименованиеОшибка</String><String>SelectedProduct</String><String>ЗаписьУспех</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="ТекущаяКоробка == null" id="5f96eadd-a41d-4ca9-9c04-c72dbe066e08" indent="0" name="ЭСК" nextDirection="" noDirection="153" yesDirection="Корень" /><ClearSessionAction all="False" breakPoint="False" id="626d2385-0d59-4266-93f1-c5768054119d" indent="1" name="134" nextDirection="42"><KeyNames capacity="8" count="5"><String>MSG</String><String>ErrBarcode</String><String>НаименованиеОшибка</String><String>SelectedProduct</String><String>ЗаписьУспех</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" comment="Нажали на строку списка" expression="SelectedItem != null" id="8d0be893-b66a-4275-a923-11770b620894" indent="1" name="42" nextDirection="" noDirection="ПЛАНФАКТ" yesDirection="" /><ConditionAction breakPoint="False" expression="НужнаСтруктура != true" id="1c2541da-1e8c-4787-aff4-f2d3e05e1613" indent="3" nextDirection="" noDirection="131" yesDirection="" /><ConditionAction breakPoint="False" expression="SelectedItem.Номенклатура != null" id="9904d311-5de9-4fe4-846a-912915f940ac" indent="4" nextDirection="" noDirection="" yesDirection="137" /><ConditionAction breakPoint="False" comment="Нажали на строку списка" expression="SelectedItem.ТоварИд != &quot;&quot;" id="9c167838-0e79-4f96-b785-8160867dd2f3" indent="2" name="131" nextDirection="" noDirection="2601" yesDirection="47" /><AssignAction breakPoint="False" expression="ИзСписка=True;&#xD;&#xA;Обновили = false;" id="b50f760f-20fb-4207-88f1-8c27082b15c9" indent="2" name="2601" nextDirection="" /><AssignAction breakPoint="False" comment="Если нажали на коробку" expression="ИдРодителя = SelectedItem.Ид" id="13fb3420-c762-46e3-9ce6-b14e43ca1504" indent="2" name="43" nextDirection="150" /><SelectDocumentLinesAction breakPoint="False" comment="Список потребительских упаковок" id="df8eb998-ef29-4d54-b878-a17ee852d3a9" indent="3" name="47" nextDirection="" sessionVariable="СписокПотребительских"><Query copySelection="False" documentLines="Current" from="" sourceWhereExpression="" tableAlias="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ProductId == SelectedItem.ТоварИд &amp;&amp; Item.РодительФакт == ИдРодителя"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>ПоПлануДаНет DESC</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" expression="СписокПотребительских = СписокПотребительских.VirtualRotate()" id="c81118bc-6de6-453c-aab1-8dcd5579ed99" indent="3" nextDirection="" /><AssignAction breakPoint="False" expression="ДубльВыбора = SelectedItem;&#xD;&#xA;Обновили = false;" id="8bec2b1c-6a86-430a-b269-966978bd58ab" indent="3" nextDirection="" /><ItemsViewAction id="93a723ac-6ca7-4a89-bdb5-0c8fc1c17680" indent="1" name="46" nextDirection="132" headerText="&lt;b size=&quot;+2&quot; align=&quot;center&quot; color=&quot;Red&quot;&gt;{MSG}&lt;/b&gt;&#xD;&#xA;&lt;h2&gt;{SelectedItem.ПолноеИмя}&lt;/h2&gt;" title="Список бутылок" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{СписокПотребительских}" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;СОДЕРЖИМОЕ&lt;/b&gt;"><KeyJumps count="2"><KeyToAction action="130" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="136" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="2"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.ОтображениеВСпискеПотребительских}" leftBorder="0" rightBorder="0" topBorder="0" width="75%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="&lt;b&gt;{Item.СтрПоПлану}&lt;/b&gt;" leftBorder="0" rightBorder="0" topBorder="0" width="25%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ClearSessionAction all="False" breakPoint="False" id="72131e36-8cc5-40cd-9e90-eabc8c9ae571" indent="2" name="136" nextDirection=""><KeyNames count="1"><String>MSG</String></KeyNames></ClearSessionAction><SelectDocumentLineAction breakPoint="False" id="ced1f576-b73b-4a6a-95d9-c2304ca7d016" indent="2" name="133" nextDirection="" sessionVariable="СканируемЕдиничку"><Query copySelection="False" documentLines="Current" from="{СписокПотребительских}" sourceWhereExpression="" tableAlias="{СписокПотребительских}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.АлкоПДФ == ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="СканируемЕдиничку != null" id="2d4d5389-b8c2-42d2-a5b9-f404985bcbb0" indent="2" nextDirection="" noDirection="" yesDirection="135" /><ClearSessionAction all="False" breakPoint="False" id="7da7e5fd-9cf2-4cb8-a0c4-9d56ec93c3f5" indent="3" nextDirection=""><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="MSG = &quot;Бутылка не найдена в текущей коробке&quot;;&#xD;&#xA;GO.PlayError();" id="9efe1424-4584-40f6-a2e2-9247b0f92d06" indent="3" nextDirection="46" /><AssignAction breakPoint="False" expression="SelectedItem = СканируемЕдиничку" id="c0d9779e-1dc2-464b-81f1-3996268c9239" indent="2" name="135" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="ef2a0b7f-dde5-4104-990a-6b466a6483dd" indent="2" nextDirection=""><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" comment="Нажали на строку списка ОПЯТЬ" id="39d68fca-e970-44ef-82ec-e7958275f2ed" indent="2" name="132" nextDirection="" operationName="ЕГАИС3 ИнфоЕГАИС3" transactionNotch="False"><InKeys count="3"><String>Поз</String><String>ВозможенСкан</String><String>СОтменой</String></InKeys><InValues count="3"><String>{SelectedItem}</String><String>False</String><String>True</String></InValues><OutKeys count="1"><String>ПозицияУдалена</String></OutKeys><OutValues count="1"><String>ПозицияУдалена</String></OutValues></OperationAction><ConditionAction breakPoint="False" comment="Удаляем строку" expression="ПозицияУдалена == true" id="52a02467-4886-4288-b436-031c6c619fd0" indent="2" nextDirection="" noDirection="ПЛАНФАКТ" yesDirection="" /><OperationAction abortDirection="" breakPoint="False" id="39fb0a1e-3e92-4314-bea6-7e37c4232207" indent="2" nextDirection="" operationName="ЕГАИС3 ПриемкаУдалениеБутылки" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="СписокПотребительских.Count &gt; 1" id="9291dcdb-d84b-4000-9202-221d75a3a293" indent="2" nextDirection="" noDirection="130" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedItem = ДубльВыбора" id="250fdeab-8c52-49a3-8211-979a777ea49c" indent="2" nextDirection="47" /><AssignAction breakPoint="False" comment="Удаление коробки" expression="УдаляемКоробку = true" id="d01e1f28-de67-4d95-8c26-e92304fac328" indent="0" name="Удаление коробки" nextDirection="" /><OperationAction abortDirection="" breakPoint="False" comment="Удаление коробки" id="37570d36-56d9-4f85-8b64-98281a94a1e5" indent="0" name="Очистка коробки" nextDirection="" operationName="ЕГАИС3 ПриемкаУдалениеКоробки" transactionNotch="False"><InKeys count="1"><String>НадоВычестьФакт</String></InKeys><InValues count="1"><String>{ТекущаяКоробка.УжеПроверено}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ClearSessionAction all="False" breakPoint="False" comment="Удаление коробки" id="0e6610ab-7a16-413c-bb70-a71c2f28060b" indent="0" nextDirection=""><KeyNames count="1"><String>Обновили</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" comment="Удаление коробки" expression=" УдаляемКоробку == true" id="eb489e0a-a4c7-4dc3-beb5-451048be615f" indent="0" name="121 1" nextDirection="" noDirection="130" yesDirection="" /><AssignAction breakPoint="False" comment="Удаление коробки" expression="УдаляемКоробку = false" id="c591b52c-b779-4307-8e08-43c5d67230c7" indent="0" name="120 1" nextDirection="130" /><ClearSessionAction all="False" breakPoint="False" id="ad35ebb9-6458-4e9d-9c36-a3e072668ba0" indent="0" name="129 1" nextDirection=""><KeyNames capacity="16" count="10"><String>SelectedProduct</String><String>ЗаписьУспех</String><String>АлкоКод</String><String>АлкоПДФ</String><String>ИзСписка</String><String>MSG</String><String>ErrBarcode</String><String>НаименованиеОшибка</String><String>МаркаНовогоТипа</String><String>Добавлено</String></KeyNames></ClearSessionAction><OperationAction abortDirection="2600" breakPoint="False" comment="Если из списка номенклатуры, то можно сканировать только коробки" id="81ec4af5-1db3-4e75-9948-77ef93f44b8f" indent="0" name="152 1" nextDirection="" operationName="ЕГАИС3 ОбработкаОшибки" transactionNotch="False"><InKeys count="4"><String>EAN13</String><String>PDF417</String><String>Pallet</String><String>Box</String></InKeys><InValues count="4"><String>False</String><String>True</String><String>True</String><String>True</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="Error==True" id="3e749aa6-2d5f-4538-8c1a-3b06b666729d" indent="0" name="2600" nextDirection="" noDirection="" yesDirection="122" /><ClearSessionAction all="False" breakPoint="False" id="637f081b-55d0-4eed-b510-ad5f54faed60" indent="0" nextDirection=""><KeyNames count="2"><String>MSG</String><String>НужнаСтруктура</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="ЭтоПалета == true" id="a0baee59-4c2f-4715-9dab-d23ac78fd8f9" indent="0" nextDirection="" noDirection="36" yesDirection="" /><ConditionAction breakPoint="False" expression="ИдРодителя != &quot;&quot;" id="5a0bbfcb-8ff5-4e94-8292-021f960a1e00" indent="1" nextDirection="" noDirection="35" yesDirection="" /><AssignAction breakPoint="False" expression="MSG = &quot;Отсканирована палета&quot;;&#xD;&#xA;GO.PlayError();" id="65b7d002-f6f1-44e0-869c-ae9b84058dbf" indent="2" nextDirection="122" /><ClearSessionAction all="False" breakPoint="False" id="fba5deb3-8a77-4803-a1ff-67725adbb88e" indent="2" name="122" nextDirection="ПЛАНФАКТ"><KeyNames count="2"><String>ЭтоПалета</String><String>ЭтоКоробка</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="ЭтоКоробка == true" id="9186da0d-faa5-437e-8459-ada58a0d0107" indent="0" name="36" nextDirection="" noDirection="Выбор товара по алкокоду" yesDirection="" /><AssignAction breakPoint="False" expression="КоробкаЕстьВПлане = Document.Коробки.FindFirstByField(&quot;Ид&quot;, ScannedBarcode)" id="6f5119e1-df7f-42f9-ae2d-51110d5b71e0" indent="0" name="35" nextDirection="" /><ConditionAction breakPoint="False" expression="КоробкаЕстьВПлане != null" id="5212bf7f-562b-4be7-991d-feb21f1e930e" indent="0" nextDirection="" noDirection="Коробка НЕ ТАМ либо НЕТ В ПЛАНЕ" yesDirection="40" /><ConditionAction breakPoint="False" expression="ScannedBarcode == ИдРодителя" id="0d6d6f61-9571-4cc6-bdf2-373e8551417d" indent="1" name="40" nextDirection="" noDirection="115" yesDirection="" /><AssignAction breakPoint="False" expression="MSG = &quot;Отсканирована текущая коробка&quot;;&#xD;&#xA;GO.PlayError();" id="7ed15955-e825-42b0-9b57-b5b86874be8e" indent="1" nextDirection="122" /><ConditionAction breakPoint="False" expression="КоробкаЕстьВПлане.РодительПлан == ИдРодителя" id="69d145dc-26e4-4e26-87dc-f8a8e57a80d3" indent="0" name="115" nextDirection="" noDirection="" yesDirection="6" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Коробка НЕ ТАМ либо НЕТ В ПЛАНЕ" defaultButtonHeight="0 px" fullscreen="Inherit" headerText="{КоробкаЕстьВПлане != null:Эта коробка по накладной лежит в {КоробкаЕстьВПлане.РодительПлан};Этой коробки нет в накладной!}" id="405a3f1a-5caa-4f68-a7d3-72afedce3590" indent="1" name="Коробка НЕ ТАМ либо НЕТ В ПЛАНЕ" nextDirection="" showAsMsgBox="False" transactionNotch="True" welcomeText=""><ButtonDirections count="2"><String>6</String><String>122</String></ButtonDirections><ButtonTexts count="2"><String>Все равно принять {ИдРодителя!="":в {ИдРодителя};}</String><String>Отмена</String></ButtonTexts><KeyJumps count="1"><KeyToAction action="122" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></QuestionAction><OperationAction abortDirection="" breakPoint="False" id="95a4e476-d720-4165-8b77-d523c043bc99" indent="0" name="6" nextDirection="" operationName="ЕГАИС3 СозданиеКоробкиNEW" transactionNotch="False"><InKeys count="2"><String>ТекущийПользователь</String><String>КоробкаУжеЕсть</String></InKeys><InValues count="2"><String>{CurrentUser.Id}</String><String>{КоробкаЕстьВПлане}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="СессияСразуРаботатьСКоробками == true" id="6a865e4b-8554-4fb0-bd77-cb41948d45bb" indent="0" nextDirection="" noDirection="130" yesDirection="" /><AssignAction breakPoint="False" comment="Переходим в отсканированную коробку" expression="ИдРодителя = ScannedBarcode" id="1e7d4a5b-aa8f-40aa-8926-51fcbff3ffba" indent="0" name="5" nextDirection="" /><ConditionAction breakPoint="False" comment="Переходим в отсканированную коробку" expression="СессияРежимТовара == &quot;Каждую коробку&quot;" id="38586ca5-3e6d-482b-bb9e-72e536c76110" indent="0" name="150" nextDirection="" noDirection="130" yesDirection="" /><AssignAction breakPoint="False" expression="ТекущаяКоробка = Document.Коробки.FindFirstByField(&quot;Ид&quot;, ИдРодителя)" id="cfdbda84-b0f7-4b75-87dc-dcd197beec60" indent="0" name="Действия 1" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка.ЭтоПалета == true" id="dfba50f5-41d0-4368-aa52-757153de728e" indent="0" nextDirection="" noDirection="" yesDirection="130" /><ConditionAction breakPoint="False" comment="Переходим в отсканированную коробку" expression="ТекущаяКоробка.Товар != &quot;&quot;" id="eb4f2d84-eb3f-415e-b98f-1e3308624cb0" indent="0" name="2610" nextDirection="" noDirection="Скан шк товара коробки" yesDirection="130" /><ScanAction autoCloseTime="0" autoSelectSingleProduct="True" autoShowSelectionList="False" backgroundImage="" barcodeConvertion="ToUpper" barcodeSessionVariable="TempCode" breakPoint="False" cancelType="None" canManualShowProductList="False" canSelectCell="False" canSelectPallet="False" cellDirection="" comment="Переходим в отсканированную коробку" errorSelectDirection="2610" footerText="&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;130&quot;&gt;Пропустить выбор товара для коробки&lt;/button&gt;" fullscreen="True" headerText="&lt;b size=&quot;+2&quot; color=&quot;Red&quot; align=&quot;center&quot;&gt;{ErrorMessage}&lt;/b&gt;" id="a7fa1379-2a0a-4837-abd5-418e2fab8748" ignoreBaseBarcodes="False" ignoreQuantityPolicy="False" indent="1" name="Скан шк товара коробки" nextDirection="" notFoundErrorText="товар по артикулу или коду не найден" palletDirection="" playAudioOnError="True" processSessionBarcode="False" productsListHeaderText="" quickSelectProduct="False" searchingProducts="" searchPreviousSelected="False" selectionCellNum="0" selectionCellText="" selectionFirstCellText="" selectionListFormat="{Item.товВСпискеВыбора}" selectionPalletText="" selectionSecondCellText="" selectionStorageVariable="" sucsessSelectDirection="" transactionNotch="False" useOnlyDocumentProducts="False" waitImage="" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;СКАНИРУЙТЕ EAN-13&lt;/b&gt;" withoutControls="False"><ExcludeClassificators count="0" /><IncludeClassificators count="0" /><KeyJumps count="0" /><TreeTypeIds count="0" /></ScanAction><ConditionAction breakPoint="False" comment="Переходим в отсканированную коробку" expression="ТекущаяКоробка.НоменклатураИд != &quot;&quot; &amp;&amp; ТекущаяКоробка.НоменклатураИд != SelectedProduct.ProductId" id="f3aad71b-66e4-4936-8bf2-7a4a2560d7ad" indent="1" nextDirection="" noDirection="138" yesDirection="" /><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Переходим в отсканированную коробку" fullscreen="Inherit" id="8567093c-f7c1-44a2-9d68-6a4531fd8527" indent="1" message="Отсканированный товар не сходится с плановым!&#xD;&#xA;&lt;b&gt;Все равно продолжить?&lt;/b&gt;" nextDirection="" noDirection="2610" transactionNotch="True" yesDirection=""><KeyJumps count="0" /></QuestionYesNoAction><AssignAction breakPoint="False" comment="Переходим в отсканированную коробку" expression="ТекущаяКоробка.Товар = SelectedProduct.ProductId;&#xD;&#xA;ТекущаяКоробка.ТоварШК = TempCode;" id="22b1fa72-807a-43cf-b31c-68de77959662" indent="2" name="138" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" comment="Переходим в отсканированную коробку" id="c240cf28-a370-4f39-bf87-4a0c4114e92a" indent="2" nextDirection="130"><KeyNames count="1"><String>SelectedProduct</String></KeyNames></ClearSessionAction><OperationAction abortDirection="back" breakPoint="False" id="61091b20-35f2-4c3b-98b3-b5309bcf6eca" indent="0" name="Выбор товара по алкокоду" nextDirection="" operationName="ЕГАИС3 ВыборТовараПоАлкокоду" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="MSG == null" id="700a8877-be3e-4f31-84c1-8e770650ef98" indent="0" nextDirection="" noDirection="back" yesDirection="148" /><ConditionAction breakPoint="False" expression="СессияАлкоДМ == true &amp;&amp; МаркаНовогоТипа != true" id="223e411f-3699-4abb-b62d-11f16158559a" indent="0" name="148" nextDirection="" noDirection="Запись" yesDirection="" /><GroupAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="False" exitButtonText="Закончить набор" exitGroupCode="" fullscreen="Inherit" id="ccd748dd-770a-4542-82b8-340d878130aa" indent="1" name="ОбработкаДМ" nextDirection="" transactionNotch="False"><Actions capacity="16" count="13"><AssignAction breakPoint="False" expression="Scanner.EnableBarcodeType(&quot;DataMatrix&quot;, true)" id="0b4a66a5-d677-4e93-8e13-8ee9d178feba" indent="0" name="Сканер только DataMatrix 1" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="1ceaacf6-0835-4601-b670-2306d85437df" indent="0" nextDirection=""><KeyNames count="1"><String>MSG</String></KeyNames></ClearSessionAction><FormattedPageAction autoCloseDirection="" autoCloseTime="0" backColor="White" backgroundImage="" breakPoint="False" cancelType="None" comment="единичные сканы без списка" footerText="&lt;button direction=&quot;Отмена&quot; enabled=&quot;true&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;" fullscreen="Inherit" headerText="&lt;Black&gt;{SelectedProduct.стрОсновное}&lt;/Black&gt;&#xD;&#xA;{SelectedProduct.стрАлкоКороткое}&#xD;&#xA;{SelectedProduct.ДатаРозлива: Дата розлива: &lt;b color=&quot;DarkBlue&quot;&gt;(0:dd.MM.yyyy)&lt;/b&gt;}&#xD;&#xA;&lt;b color=&quot;Red&quot;&gt;{MSG}&lt;/b&gt;" id="932ae8ae-3034-43eb-9228-1b9e15132717" indent="0" name="Скан серийник" nextDirection="Скан серийник" singlePage="False" transactionNotch="True"><Blocks count="1"><LabelPageBlock align="TopCenter" allBorder="0" backColor="Transparent" bottomBorder="0" foreColor="Black" leftBorder="0" rightBorder="0" text="Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;cерийник&lt;/b&gt;&#xA;&lt;img tcolor=&quot;no&quot; size=&quot;stretch&quot; maxwidth=&quot;100%&quot; align=&quot;center&quot; direction=&quot;&quot;&gt;egares.data_matrix&lt;/img&gt;" topBorder="0" /></Blocks><KeyJumps count="2"><KeyToAction action="1" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="Отмена" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></FormattedPageAction><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes()" id="ee9afb99-df9a-45f9-a275-83a5dc924107" indent="1" name="Отмена" nextDirection="up:130" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоСН = ScannedBarcode" id="8ae34011-4818-4d41-a58b-927743837714" indent="0" name="1" nextDirection="" /><OperationAction abortDirection="2" breakPoint="False" id="cda7db39-dee6-44d2-aa29-a0653aefdfc3" indent="0" name="Обработка АлкоСН 1" nextDirection="Выбор строки с тем же АлкоСН 1" operationName="ЕГАИС3 ОбработкаАлкоСН" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="MSG = &quot;Неверный СН марки&quot;;&#xD;&#xA;GO.PlayError();" id="32d4d692-b6b8-4b7f-912d-ed116520ccfc" indent="1" name="2" nextDirection="back" /><AssignAction breakPoint="False" expression="УжеСерийник = Document.CurrentItems.FindFirstByField(&quot;АлкоСН&quot;, SelectedProduct.АлкоСН)" id="8bfc88e4-daa8-4709-b82a-590becbf3118" indent="0" name="Выбор строки с тем же АлкоСН 1" nextDirection="" /><ConditionAction breakPoint="False" expression="УжеСерийник != null" id="a8729a5e-50b6-4a87-8564-4636b47a083d" indent="0" name="Если строка с серийником уже есть 1" nextDirection="" noDirection="24 1" yesDirection="" /><AssignAction breakPoint="False" expression="MSG = &quot;СН уже занесен в документ&quot;;&#xD;&#xA;GO.PlayError();" id="dd66d4e8-7e44-48a0-a77b-22d47d99422f" indent="1" nextDirection="back" /><ConditionAction breakPoint="False" expression="СессияРежимПроверкиПоДиапазонам == true" id="670be59b-209b-45f0-9d96-ad4326e14aa2" indent="0" name="24 1" nextDirection="" noDirection="Отмена 1" yesDirection="" /><OperationAction abortDirection="back" breakPoint="False" id="7abc58a0-1fbb-4c0d-a510-e347bf34333e" indent="0" name="Проверка по диапазонам 1" nextDirection="" operationName="ЕГАИС3 ПроверкаПоДиапазонамФормыА" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes();&#xD;&#xA;Scanner.EnableBarcodeType(&quot;PDF417&quot;, false);" id="0c10d12d-dca6-403e-b2dd-e1c5a1171a1a" indent="0" name="Отмена 1" nextDirection="" /></Actions><LockObjects count="0" /></GroupAction><OperationAction abortDirection="" breakPoint="False" id="47069fc8-2f7e-42f5-b3d7-78f815e016f5" indent="0" name="Запись" nextDirection="" operationName="ЕГАИС3 ПриемкаЗапись" transactionNotch="False"><InKeys count="1"><String>ТекущийПользователь</String></InKeys><InValues count="1"><String>{CurrentUser.Id}</String></InValues><OutKeys count="1"><String>ТекущаяКоробка</String></OutKeys><OutValues count="1"><String>{ТекущаяКоробка}</String></OutValues></OperationAction><AssignAction breakPoint="False" expression="if (ИгратьОшибку == true)&#xD;&#xA;{GO.PlayError();}" id="9ff6cae2-6a73-45c1-9f02-b1a8047796c8" indent="0" nextDirection="130" /><OperationAction abortDirection="" breakPoint="False" id="d6397686-6780-4fb1-88f0-b33126f6a0b8" indent="0" name="153" nextDirection="" operationName="ЕГАИС3 Действия" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="НужноЗакрывать==False" id="652003bb-8fa4-4df8-8ceb-acaa30f2011e" indent="0" nextDirection="" noDirection="152" yesDirection="155" /><ConditionAction breakPoint="False" expression="МожноЗакрывать==True" id="c6e62501-9842-4eb2-92f2-cffbda8c0f70" indent="0" name="152" nextDirection="" noDirection="2603" yesDirection="156" /><ConditionAction breakPoint="False" expression="ИзСписка==True" id="b883c77f-422a-4b66-bb99-125e82ef4d6b" indent="0" name="2603" nextDirection="" noDirection="157" yesDirection="2602" /><ClearSessionAction all="False" breakPoint="False" id="20b466f6-e0eb-476f-ac56-769bdd3f4dcb" indent="0" name="2602" nextDirection="2611"><KeyNames count="1"><String>ИзСписка</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="ТекущаяКоробка.Внутри = &quot;непроверено&quot;" id="a9decfc3-a453-4397-9d4a-2b16881edbc0" indent="0" name="157" nextDirection="2611" /><ConditionAction breakPoint="False" expression="КоличествоОшибок&gt;0" id="b680462d-1e67-4eb3-81df-9d023f589c4e" indent="0" name="156" nextDirection="" noDirection="Коробка ОК 1" yesDirection="Коробка Ошибки 1" /><AssignAction breakPoint="False" comment="Кнопка &quot;Действия&quot;" expression="ТекущаяКоробка.Внутри = &quot;ошибки&quot;;&#xD;&#xA;ТекущаяКоробка.Факт = 1;" id="9484769f-521a-4816-8bfc-950c11a7acdb" indent="1" name="Коробка Ошибки 1" nextDirection="2611" /><AssignAction breakPoint="False" comment="Кнопка &quot;Действия&quot;" expression="ТекущаяКоробка.Внутри = &quot;ок&quot;;&#xD;&#xA;ТекущаяКоробка.Факт = 1;" id="7aad814d-93ee-410c-b75a-8aa8c317832f" indent="0" name="Коробка ОК 1" nextDirection="2611" /><ConditionAction breakPoint="False" expression="Esc==True" id="da712b46-22d2-4385-8ad3-b89521ee8867" indent="0" name="155" nextDirection="" noDirection="Действия" yesDirection="154" /><ClearSessionAction all="False" breakPoint="False" id="b3d68dc8-6d7a-4e6c-8fda-b5b705fb5dd7" indent="0" name="154" nextDirection="2611"><KeyNames count="1"><String>Esc</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="ТекущаяКоробка = Document.Коробки.FindFirstByField(&quot;Ид&quot;, ИдРодителя);&#xD;&#xA;СписокСтрок = Document.CurrentItems.FindByField(&quot;РодительФакт&quot;, ИдРодителя);" id="84d51fe7-3dd3-4bfa-83f8-95fe1c4f430a" indent="0" name="Действия" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка.ЭтоПалета == true" id="39e7a6d6-e64c-4a3f-9b4e-a552911231f5" indent="0" name="124" nextDirection="" noDirection="125" yesDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка.Статус != &quot;&quot;" id="fc573d1b-582a-47d6-bb83-2af850ca269c" indent="1" name="118 1" nextDirection="" noDirection="МенюНеЗакрываемКоробку" yesDirection="126" /><ConditionAction breakPoint="False" expression="(СессияГлубинаПроверкиПалет &lt;= СошлосьКоробок &amp;&amp; СессияГлубинаПроверкиПалет &lt;= ВсегоКоробок) || (ВсегоКоробок == СошлосьКоробок &amp;&amp; СессияГлубинаПроверкиПалет &gt; ВсегоКоробок)" id="7509a8ad-9e88-4d6c-a54e-12a561b0183b" indent="2" name="126" nextDirection="" noDirection="МенюЗакрываемКоробку" yesDirection="" /><AssignAction breakPoint="False" expression="МожноЗакрывать = true" id="265e9bf2-d6e1-4598-8c6b-14c396ad5154" indent="3" nextDirection="МенюЗакрываемКоробку" /><ConditionAction breakPoint="False" expression="(СессияГлубинаПроверкиКоробок &lt;= СписокТоваров.Факт &amp;&amp; СессияГлубинаПроверкиКоробок &lt;= СписокТоваров.План) || (СписокТоваров.План &lt;= СписокТоваров.Факт &amp;&amp; СессияГлубинаПроверкиКоробок &gt; СписокТоваров.План)" id="8d7d2051-f8c5-4471-9481-e96bcd217d39" indent="0" name="125" nextDirection="" noDirection="118" yesDirection="" /><AssignAction breakPoint="False" expression="МожноЗакрывать = true" id="3dfb68b4-bf18-439a-ba4d-2f68c8eee58e" indent="1" nextDirection="118" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка.Статус != &quot;&quot;" id="4742c486-6bc0-4146-882e-51e0de4e0ceb" indent="0" name="118" nextDirection="" noDirection="МенюНеЗакрываемКоробку" yesDirection="МенюЗакрываемКоробку" /><ConditionAction breakPoint="False" comment="Кнопка &quot;Действия&quot;" expression="КоличествоОшибок &gt; 0" id="fb421dd6-aba5-48a8-9829-1fd087c9399c" indent="0" name="Закрываем коробку" nextDirection="" noDirection="Коробка ОК" yesDirection="" /><AssignAction breakPoint="False" comment="Кнопка &quot;Действия&quot;" expression="ТекущаяКоробка.Внутри = &quot;ошибки&quot;;&#xD;&#xA;ТекущаяКоробка.Факт = 1;&#xD;&#xA;ТекущаяКоробка.УжеПроверено = true;" id="19d53983-094c-4008-af6e-c3033e253a84" indent="1" name="Коробка Ошибки" nextDirection="2604" /><ClearSessionAction all="False" breakPoint="False" id="eb6dbab3-bea6-464a-ad7c-1cd32c123ce1" indent="1" name="2604" nextDirection="2611"><KeyNames count="4"><String>Esc</String><String>ЗаписьУспех</String><String>ErrBarcode</String><String>MSG</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" comment="Кнопка &quot;Действия&quot;" expression="ТекущаяКоробка.Внутри = &quot;ок&quot;;&#xD;&#xA;ТекущаяКоробка.Факт = 1;&#xD;&#xA;ТекущаяКоробка.УжеПроверено = true;" id="b9476b5a-6239-4d42-9bd0-1f87dd1de11c" indent="0" name="Коробка ОК" nextDirection="2604" /><VisualUserAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Кнопка &quot;Действия&quot; - есть факт коробки" fullscreen="Inherit" headerText="{ТекущаяКоробка.ЭтоПалета != true:Набрано {СписокСтрок.Count &gt; 0:{СписокСтрок.Count};0} &lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;;}" id="0ef561da-3f17-4907-ae9f-433dadf27a14" indent="0" mainText="{ВсегоКоробок != null:&lt;button height=&quot;15%&quot; width=&quot;100%&quot; direction=&quot;137&quot;&gt;{НужнаСтруктура == true:Свернуть;Развернуть}&lt;/button&gt;;}&#xD;&#xA;&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Коробка Ошибки&quot;&gt;Закрыть с ошибками&lt;/button&gt;&#xD;&#xA;&lt;button enabled=&quot;{КоличествоОшибок == 0 &amp;&amp; МожноЗакрывать == true}&quot; width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Коробка ОК&quot;&gt;Проверено&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Очистка коробки&quot;&gt;Очистить содержимое&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Удаление коробки&quot;&gt;Удалить с содержимым&lt;/button&gt;" name="МенюЗакрываемКоробку" nextDirection="" transactionNotch="True" transparent="False"><KeyJumps count="1"><KeyToAction action="130" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></VisualUserAction><VisualUserAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Кнопка &quot;Действия&quot; - нет факта коробки" fullscreen="Inherit" id="4b589a3c-1022-4d58-92ab-f3f67937db0b" indent="0" mainText="{ВсегоКоробок != null:&lt;button height=&quot;15%&quot; width=&quot;100%&quot; direction=&quot;137&quot;&gt;{НужнаСтруктура == true:Свернуть;Развернуть}&lt;/button&gt;;}&#xD;&#xA;&lt;button enabled=&quot;{false}&quot; width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Коробка Ошибки&quot;&gt;Закрыть с ошибками&lt;/button&gt;&#xD;&#xA;&lt;button enabled=&quot;{false}&quot; width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Коробка ОК&quot;&gt;Проверено&lt;/button&gt;&#xD;&#xA;&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Очистка коробки&quot;&gt;Очистить содержимое&lt;/button&gt;&#xD;&#xA;&lt;button enabled=&quot;{false}&quot; width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;Удаление коробки&quot;&gt;Удалить с содержимым&lt;/button&gt;" name="МенюНеЗакрываемКоробку" nextDirection="" transactionNotch="True" transparent="False"><KeyJumps count="1"><KeyToAction action="130" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></VisualUserAction><ConditionAction breakPoint="False" expression="НужнаСтруктура == true" id="6d43ce74-a5ec-46cf-b7f2-0ff85ace2844" indent="0" name="137" nextDirection="" noDirection="Нужна структура" yesDirection="Нужна структура 1" /><AssignAction breakPoint="False" expression="НужнаСтруктура = false" id="fd87fc9a-c42f-4ccf-a17d-9b76a934c440" indent="1" name="Нужна структура 1" nextDirection="Обновить" /><AssignAction breakPoint="False" expression="НужнаСтруктура = true" id="01a3239d-0cda-4eef-a5b9-2bafb295d436" indent="0" name="Нужна структура" nextDirection="Обновить" /></Actions><Parameters capacity="16" count="9"><FieldInfo alias="" eanAI="None" fieldName="ИдРодителя" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="IdRoditelya" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияВыборНоменклатурыВсегда" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaVyborNomenklaturyVsegda" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияАлкоДМ" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaAlkoDM" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияРежимТовара" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaRezhimTovara" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияРежимРаботы" fieldType="Int32" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaRezhimRaboty" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияГлубинаПроверкиПалет" fieldType="Int32" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaGlubinaProverkiPalet" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияГлубинаПроверкиКоробок" fieldType="Int32" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaGlubinaProverkiKorobok" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияРежимПроверкиПоДиапазонам" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaRezhimProverkiPoDiapazonam" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СессияСразуРаботатьСКоробками" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SessiyaSrazuRabotatSKorobkami" valueTemplate="" /></Parameters><Returns count="4"><ReturnFieldInfo alias="" eanAI="None" fieldName="ИдРодителя" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="IdRoditelya" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="Выйти" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="Vyjti" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ВременноВыйти" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VremennoVyjti" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="Возврат" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="Vozvrat" valueTemplate="" /></Returns></Operation>
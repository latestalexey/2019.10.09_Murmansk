<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" comment="ЕГАИС 3" fullscreen="Inherit" lock="No" name="ЕГАИС3 Запись в документ Агрегирование" serverHosted="False"><Actions capacity="8" count="7"><AssignAction breakPoint="False" comment="Товар найден, запись в коробку" expression="SelectedProduct.Родитель = ТекущаяКоробка.Ид" id="25e7cb63-5ded-43f1-9a82-3d78011d1fee" indent="0" name="37 1" nextDirection="" /><AssignAction breakPoint="False" expression="ТекущаяКоробка.Содержит = ТекущаяКоробка.Содержит + 1" id="796b45f5-cf4a-4206-8a52-428079abe069" indent="0" name="1" nextDirection="6" /><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="False" checkQuantity="False" combineEqualCurrentItems="False" declaredExpression="" errorQuantityMessage="Товара больше, чем разрешает документ." id="1cf94118-1bb0-4421-a198-b327defceb7d" ignoreFieldsInDocument="False" indent="0" name="6" nextDirection="" noProductErrorDirection="" noProductInDocumentMessage="Такой товар отсутствует в документе." onlyInCurrentItems="False" quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="0" /><ComparingFieldNamesForCurrentItems count="0" /></AcceptInDocumentAction><AssignAction breakPoint="False" expression="ПрошлыйТовар = LastChangedCurrentItems[0]" id="1f0084a8-0030-4118-9aae-09079b474f54" indent="0" nextDirection="" /><SelectDocumentLineAction breakPoint="False" id="ed6aab15-845c-459d-9fb3-e07c92bc5fb0" indent="0" nextDirection="" sessionVariable="УжеЕстьВУдаленных"><Query copySelection="False" documentLines="Declared" from="Document.УдаленныеБутылки" sourceWhereExpression="" tableAlias="Document.УдаленныеБутылки" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.АлкоПДФ == SelectedProduct.АлкоПДФ"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="УжеЕстьВУдаленных != null" id="7a87a0f8-2844-46e7-a597-32042f7032d8" indent="0" nextDirection="" noDirection="return" yesDirection="" /><AssignAction breakPoint="False" expression="Document.УдаленныеБутылки.Rows.Remove(УжеЕстьВУдаленных);" id="d2dee756-0be4-4fda-b81b-52180cba4324" indent="1" nextDirection="return" /></Actions><Parameters count="2"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТекущаяКоробка" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TekushhayaKorobka" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="ТекущаяКоробка" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="TekushhayaKorobka" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ПрошлыйТовар" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="ProshlyjTovar" valueTemplate="" /></Returns></Operation>
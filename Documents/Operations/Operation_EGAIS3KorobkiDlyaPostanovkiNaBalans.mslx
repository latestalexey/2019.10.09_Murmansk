<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" comment="ЕГАИС 3" fullscreen="Inherit" lock="No" name="ЕГАИС3 КоробкиДляПостановкиНаБаланс" serverHosted="False"><Actions capacity="128" count="68"><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes()" id="91d8fa7b-f58c-4831-b5bb-9ad3f8fb65e5" indent="0" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка == null" id="f556ed75-a2a1-4a7b-888a-b1057b0e403b" indent="0" name="14" nextDirection="" noDirection="91" yesDirection="" /><ConditionAction breakPoint="False" expression="GlobalVars.ПаковатьВКоробки[Document.DocumentType.Name] == &quot;Готовые этикетки&quot;" id="63942e70-7369-469f-8bd0-35eaaa2d25d0" indent="1" name="17" nextDirection="" noDirection="Мобильная печать" yesDirection="" /><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="{ТекущаяКоробка != null:&lt;button color=&quot;Crimson&quot; direction=&quot;19&quot; enabled=&quot;true&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Все равно принять&lt;/button&gt;;}&#xD;&#xA;&lt;button direction=&quot;16&quot; enabled=&quot;true&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Отмена&lt;/button&gt;" format="" fullscreen="Inherit" headerText="{НеПодходит == true:&lt;r color=&quot;Red&quot;&gt;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt; {SelectedProduct.АлкоНаим != null:{SelectedProduct.АлкоНаим}&lt;br /&gt;;}&lt;/r&gt;&lt;r color=&quot;Red&quot;&gt;{SelectedProduct.АлкоКод}&lt;/r&gt;&#xD;&#xA;&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;НЕ ПОДХОДИТ К КОРОБКЕ&lt;/b&gt;&#xD;&#xA;{ТекущаяКоробка.КоробкаШапкаТекст};}&#xD;&#xA;&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;{MSG==&quot;Лимит&quot;:В коробке не может быть больше {GlobalVars.РазмерКоробок[Document.DocumentType.Name]} бутылок;{MSG}}&lt;/b&gt;" id="79f19606-5ce0-4a6e-9506-b9cc98144ac6" indent="2" listItemFormat="" name="3" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" title="Сканирование коробки" transactionNotch="True" viewItems="" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;СКАНИРУЙТЕ КОРОБКУ&lt;/b&gt;"><Columns count="0" /><KeyJumps count="1"><KeyToAction action="16" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ClearSessionAction all="False" breakPoint="False" id="6dfd36fa-96c9-49b4-bc1c-081bcfaac1a9" indent="2" name="13 1" nextDirection=""><KeyNames count="3"><String>ТекущаяКоробка</String><String>НеПодходит</String><String>MSG</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="08ab566e-eb5a-4dcb-bd20-4335a0105cab" indent="3" nextDirection="" operationName="ЕГАИС3 ДекодШКНовый" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ЭтоКоробка == true" id="8a1fcb6d-0ec8-4520-8352-ef09872a6959" indent="3" nextDirection="" noDirection="" yesDirection="4" /><ConditionAction breakPoint="False" expression="ЭтоПалета == true" id="7bd35671-1dee-401d-a564-5e899ecd1038" indent="4" nextDirection="" noDirection="27" yesDirection="" /><AssignAction breakPoint="False" expression="MSG = &quot;Отсканирована палета, не коробка&quot;;&#xD;&#xA;GO.PlayError();" id="eec72ebb-08c8-44ca-b5a3-ee7f65f3baf3" indent="5" nextDirection="5" /><AssignAction breakPoint="False" expression="MSG = &quot;Отсканируйте коробку&quot;;&#xD;&#xA;GO.PlayError();" id="9a0bb3f9-91a8-4812-b988-000553a872ed" indent="4" name="27" nextDirection="5" /><ClearSessionAction all="False" breakPoint="False" id="c80f9448-dd8f-4ca3-97f5-ac6e1252194c" indent="4" name="5" nextDirection="3"><KeyNames count="2"><String>ScannedBarcode</String><String>ИщемКоробку</String></KeyNames></ClearSessionAction><SelectDocumentLineAction breakPoint="False" id="bb3d43ad-bae4-4e40-bfb8-a798dc3ca616" indent="3" name="4" nextDirection="" sessionVariable="ИщемКоробку"><Query copySelection="False" documentLines="Declared" from="Document.КоробкиФакт" sourceWhereExpression="" tableAlias="Document.КоробкиФакт" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Ид == ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="ИщемКоробку != null" id="153112de-3cb1-49a7-aefe-c28a3132e25c" indent="3" nextDirection="" noDirection="6" yesDirection="" /><ConditionAction breakPoint="False" comment="Размер коробок не выгружен и размер взят из номенклатуры?" expression="Document.Contains(&quot;РазмерКоробок&quot;) == false &amp;&amp; ТекущаяКоробка.Размер != null &amp;&amp; ТекущаяКоробка.Сборная == false" id="6109c181-6c1a-4c2d-8ab0-80986bd4e6c4" indent="4" name="91 1" nextDirection="" noDirection="71 1" yesDirection="" /><ConditionAction breakPoint="False" comment="Достигнут лимит коробки?" expression="ТекущаяКоробка.Количество == ТекущаяКоробка.Размер &amp;&amp; ТекущаяКоробка.Количество &gt; 0" id="2a21b920-fd1a-4edf-a7ea-e9e75b5853d4" indent="5" nextDirection="" noDirection="30" yesDirection="93" /><ConditionAction breakPoint="False" comment="Достигнут лимит коробки?" expression="ТекущаяКоробка.Количество == Document.ИспользуемыйРазмерКоробок &amp;&amp; ТекущаяКоробка.Количество &gt; 0" id="d4b4138e-5968-436f-a6c7-af0035074c97" indent="4" name="71 1" nextDirection="" noDirection="30" yesDirection="93" /><AssignAction breakPoint="False" expression="MSG = &quot;Лимит&quot;;&#xD;&#xA;GO.PlayError();" id="07dd8351-e9b5-4f06-b976-95413947a7c7" indent="5" name="93" nextDirection="5" /><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="eaf1f91a-4e58-4f2a-9725-3ecd6a44426c" indent="4" message="Эта коробка уже есть в документе&#xD;&#xA;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.box&lt;/img&gt;{ИщемКоробку.Ид}&#xD;&#xA;{ИщемКоробку.АлкоКод != null: Код:  &lt;b&gt;{ИщемКоробку.АлкоКод}&lt;/b&gt;;}&#xD;&#xA;{ИщемКоробку.КодФормыА != null: Форма А: &lt;b&gt;{ИщемКоробку.КодФормыА}&lt;/b&gt;;}&#xD;&#xA;{ИщемКоробку.СкладСерия != null:Серия: &lt;b&gt;{ИщемКоробку.СкладСерия}&lt;/b&gt;;}&#xD;&#xA;Содержит &lt;b&gt;{ИщемКоробку.Количество}&lt;/b&gt; бут.&#xD;&#xA;&lt;b size=&quot;+2&quot;&gt;РАБОТАТЬ С ЭТОЙ КОРОБКОЙ?&lt;/b&gt;" name="30" nextDirection="" noDirection="5" transactionNotch="False" yesDirection=""><KeyJumps count="0" /></QuestionYesNoAction><AssignAction breakPoint="False" expression="ТекущаяКоробка = ИщемКоробку" id="97baeda8-d91e-4e1d-b1d8-3759f62843df" indent="4" nextDirection="15" /><AssignAction breakPoint="False" expression="НовСтрока = new Cleverence.Warehouse.Row();&#xD;&#xA;НовСтрока.Ид = ScannedBarcode;&#xD;&#xA;НовСтрока.Количество = 0;&#xD;&#xA;НовСтрока.СерийныйНомерКоробки = Коды.Отображение;&#xD;&#xA;НовСтрока.Сборная = Коды.ЭтоСборный;&#xD;&#xA;Document.КоробкиФакт.Rows.Add(НовСтрока);" id="24d55903-11ee-48af-874d-42568136273c" indent="3" name="6" nextDirection="" /><SelectDocumentLineAction breakPoint="False" id="1301c16f-44fc-4604-a699-3d5530660aa4" indent="3" nextDirection="15" sessionVariable="ТекущаяКоробка"><Query copySelection="False" documentLines="Declared" from="Document.КоробкиФакт" sourceWhereExpression="" tableAlias="Document.КоробкиФакт" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Ид == ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="0 px" footerText="{ТекущаяКоробка != null:&lt;button color=&quot;Crimson&quot; direction=&quot;19&quot; enabled=&quot;true&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Все равно принять&lt;/button&gt;;}&#xD;&#xA;&lt;button direction=&quot;16&quot; enabled=&quot;true&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Отмена&lt;/button&gt;" fullscreen="Inherit" headerText="&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;{MSG==&quot;Лимит&quot;:В коробке не может быть больше {GlobalVars.РазмерКоробок[Document.DocumentType.Name]} бутылок;{MSG}}&lt;/b&gt;&#xD;&#xA;{НеПодходит == true:&#xD;&#xA;{ТекущаяКоробка.КоробкаШапкаТекст}&#xD;&#xA;&lt;r color=&quot;Red&quot;&gt;&lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt; {SelectedProduct.АлкоНаим != null:{SelectedProduct.АлкоНаим}&lt;br /&gt;;}&lt;/r&gt;&lt;r color=&quot;Red&quot;&gt;{SelectedProduct.АлкоКод}&lt;/r&gt;&#xD;&#xA;&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;БУТЫЛКА НЕ ПОДХОДИТ К КОРОБКЕ&lt;/b&gt;;}" id="8f9f1d99-9ad0-4ca4-ba8e-2dce56f146d1" indent="2" name="Мобильная печать" nextDirection="" showAsMsgBox="False" transactionNotch="True" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;Для работы необходимо распечатать штрихкод коробки&lt;/b&gt;"><ButtonDirections count="1"><String>13 2</String></ButtonDirections><ButtonTexts count="1"><String>Печать</String></ButtonTexts><KeyJumps count="1"><KeyToAction action="16" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></QuestionAction><ClearSessionAction all="False" breakPoint="False" id="7ff530aa-81ef-425d-bdf1-081b2cb85f3f" indent="2" name="13 2" nextDirection=""><KeyNames count="2"><String>ТекущаяКоробка</String><String>НеПодходит</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="f6f9ab62-1f65-4bcd-b280-6b80ff286182" indent="3" name="Ген1 1" nextDirection="" operationName="ЕГАИС3 ВременннаяКоробка" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="1"><String>ScannedBarcode</String></OutKeys><OutValues count="1"><String>ScannedBarcode</String></OutValues></OperationAction><OperationAction abortDirection="Мобильная печать" breakPoint="False" id="476f7a24-459b-4fb0-9a7e-af705bd30499" indent="3" name="67 1" nextDirection="" operationName="ЕГАИС3 Печать 3" transactionNotch="False"><InKeys count="2"><String>ШКПередан</String><String>PrintTemp</String></InKeys><InValues count="2"><String>"Ген"</String><String>Box</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="НовСтрока = new Cleverence.Warehouse.Row();&#xD;&#xA;НовСтрока.Ид = ScannedBarcode;&#xD;&#xA;НовСтрока.Количество = 0;&#xD;&#xA;Document.КоробкиФакт.Rows.Add(НовСтрока);" id="9311df91-8634-4c10-a6f7-4ae6c527873e" indent="3" name="6 1" nextDirection="" /><SelectDocumentLineAction breakPoint="False" id="eff4b530-6088-4ad1-9e1e-ce828f6bfab8" indent="3" nextDirection="15" sessionVariable="ТекущаяКоробка"><Query copySelection="False" documentLines="Declared" from="Document.КоробкиФакт" sourceWhereExpression="" tableAlias="Document.КоробкиФакт" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Ид == ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ClearSessionAction all="False" breakPoint="False" id="305a0c09-41a2-4ee3-a29a-aaadd3dec277" indent="1" name="15" nextDirection=""><KeyNames count="1"><String>MSG</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" comment="Работа с сериями" expression="GlobalVars.ИспользоватьСкладСерию[Document.DocumentType.Name] == true &amp;&amp; ТекущаяКоробка.СкладСерия == &quot;&quot;" id="490ccb8f-d146-4c4d-b59b-91a39d99a91a" indent="1" name="10" nextDirection="" noDirection="12" yesDirection="" /><SelectDocumentLinesAction breakPoint="False" comment="Работа с сериями" id="77cd1adc-7880-4335-8762-7b696bfc944f" indent="2" name="24" nextDirection="" sessionVariable="СкладСерииСтроки"><Query copySelection="False" documentLines="Declared" from="{Серии}" sourceWhereExpression="" tableAlias="СкладСерии" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Работа с сериями" eanAI="None" editType="Session" fieldName="ИщемСерию" fieldType="String" footerText="&lt;button direction=&quot;Создание новой серии&quot; enabled=&quot;true&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Новая серия&lt;/button&gt;" format="" fullscreen="Inherit" id="9bacb37b-dfb3-4dbd-b116-cc9edd0cc2ec" indent="2" listCaption="{CurrentAction.Value!=null:&lt;b size=&quot;+1&quot; color=&quot;Red&quot; align=&quot;center&quot;&gt;Нажмите ENTER для поиска&lt;/b&gt;;}" listItemFormat="{&quot;&quot;}" name="Выбор серии из списка" nextDirection="33" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" title="Выбор серии" transactionNotch="False" viewItems="{СкладСерииСтроки}" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;ВЫБЕРИТЕ СЕРИЮ&lt;/b&gt;"><Columns count="1"><ItemsColumn align="MiddleLeft" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Item.Наименование}&lt;/h2&gt;" leftBorder="0" rightBorder="0" topBorder="0" width="100%" /></Columns><KeyJumps count="2"><KeyToAction action="23" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="32" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><SelectDocumentLineAction breakPoint="False" id="e3995969-e3e4-40fd-b2b6-0e57933fafbe" indent="4" name="32" nextDirection="" sessionVariable="СерияПоШК"><Query copySelection="False" documentLines="Declared" from="{Серии}" sourceWhereExpression="" tableAlias="{Серии}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Штрихкод == ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><ConditionAction breakPoint="False" expression="СерияПоШК == null" id="5a5719a9-98df-4f41-a023-bf53ce22df48" indent="4" nextDirection="" noDirection="31" yesDirection="" /><ClearSessionAction all="False" breakPoint="False" id="af046dfc-fe84-4204-85d1-d7481d4429e5" indent="5" nextDirection="Выбор серии из списка"><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="ВыбраннаяСерия = СерияПоШК" id="5203e62a-98e5-4ae2-844a-3282d917d010" indent="4" name="31" nextDirection="25" /><ConditionAction breakPoint="False" comment="Работа с сериями" expression="ИщемСерию == null" id="b0d555cd-2eeb-45d7-859f-1bd290eae546" indent="2" name="33" nextDirection="" noDirection="21" yesDirection="26" /><ConditionAction breakPoint="False" comment="Работа с сериями" expression="SelectedItem == null" id="b5da5fea-cf82-4702-9cb7-2a284324930a" indent="3" name="26" nextDirection="" noDirection="22" yesDirection="Выбор серии из списка" /><SelectDocumentLinesAction breakPoint="False" comment="Работа с сериями" id="f4eb80c8-984e-48d2-88d6-bd1ac6933c52" indent="2" name="21" nextDirection="Выбор серии из списка" sessionVariable="СкладСерииСтроки"><Query copySelection="False" documentLines="Declared" from="{Серии}" sourceWhereExpression="" tableAlias="{ItemsCollection}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.НаименованиеДляПоиска.Contains(ИщемСерию.ToLower())"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" comment="Работа с сериями" expression="ИщемСерию == null" id="ead4211b-be4d-4ecb-9652-63a1e70f05cc" indent="4" name="23" nextDirection="" noDirection="" yesDirection="undo" /><ClearSessionAction all="False" breakPoint="False" comment="Работа с сериями" id="af9dd9eb-9e32-4e86-90eb-b1452f55626d" indent="5" nextDirection="24"><KeyNames count="2"><String>ИщемСерию</String><String>СкладСерииСтроки</String></KeyNames></ClearSessionAction><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="Работа с сериями | Создание серии" eanAI="None" editType="Session" fieldName="НоваяСерияНаименование" fieldType="String" format="" fullscreen="Inherit" id="02728e75-f8e1-4eed-ae13-c00afa5efe09" indent="2" listItemFormat="" name="Создание новой серии" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" title="Создание серии" transactionNotch="False" viewItems="" welcomeText="&lt;b color=&quot;black&quot; size=&quot;+2&quot; align=&quot;center&quot;&gt;ВВЕДИТЕ НАЗВАНИЕ НОВОЙ СЕРИИ&lt;/b&gt;"><Columns count="0" /><KeyJumps count="1"><KeyToAction action="Выбор серии из списка" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><AssignAction breakPoint="False" comment="Работа с сериями | Создание серии" expression="НоваяСерия = new Cleverence.Warehouse.Row();&#xD;&#xA;НоваяСерия.Наименование = НоваяСерияНаименование;&#xD;&#xA;НоваяСерия.НаименованиеДляПоиска = НоваяСерияНаименование.ToLower();&#xD;&#xA;Document.Серии.Rows.Add(НоваяСерия);" id="ccb498da-2f77-412e-bf80-1c0d38f579c3" indent="3" nextDirection="" /><SelectDocumentLineAction breakPoint="False" comment="Работа с сериями | Создание серии" id="6335bdde-b858-404c-b879-9b4bc14f0c91" indent="3" nextDirection="25" sessionVariable="ВыбраннаяСерия"><Query copySelection="False" documentLines="Declared" from="{Серии}" sourceWhereExpression="" tableAlias="{СкладСерии}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Наименование == НоваяСерияНаименование"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" expression="ВыбраннаяСерия = SelectedItem" id="908e53e5-c187-471f-848c-b0797ff93fa0" indent="2" name="22" nextDirection="" /><AssignAction breakPoint="False" comment="Работа с сериями | Заполнение полей серии" expression="ТекущаяКоробка.СкладСерия = ВыбраннаяСерия.Наименование;&#xD;&#xA;ТекущаяКоробка.АлкоКод = ВыбраннаяСерия.АлкоКод;&#xD;&#xA;ТекущаяКоробка.КодФормыА = ВыбраннаяСерия.ФормаА;&#xD;&#xA;ТекущаяКоробка.АлкоНаим = ВыбраннаяСерия.АлкоНаим;" id="a85f16d4-0e81-4fa1-97a7-93aa0ed6c6b5" indent="3" name="25" nextDirection="" /><ConditionAction breakPoint="False" expression="ВыбраннаяСерия.ДатаРозлива != null" id="6b595a37-ee88-4e05-a1ea-fe83e2b3cdf9" indent="3" nextDirection="" noDirection="12" yesDirection="" /><AssignAction breakPoint="False" expression="ТекущаяКоробка.ДатаРозлива = ВыбраннаяСерия.ДатаРозлива" id="f0fc4b2c-50b2-4cd0-9600-c1a31b99670b" indent="4" nextDirection="91" /><ConditionAction breakPoint="False" comment="Размер коробок не выгружен и размер взят из номенклатуры?" expression="Document.Contains(&quot;РазмерКоробок&quot;) == false &amp;&amp; ТекущаяКоробка.Размер != null &amp;&amp; ТекущаяКоробка.Сборная == false" id="a5b8fe85-7e6f-475f-821d-d523cf83d8a3" indent="0" name="91" nextDirection="" noDirection="71" yesDirection="" /><ConditionAction breakPoint="False" comment="Достигнут лимит коробки?" expression="ТекущаяКоробка.Количество == ТекущаяКоробка.Размер &amp;&amp; ТекущаяКоробка.Количество &gt; 0" id="70ef0f15-cdf4-45a5-974b-03c17f93a77d" indent="1" nextDirection="" noDirection="12" yesDirection="29" /><ConditionAction breakPoint="False" comment="Достигнут лимит коробки?" expression="ТекущаяКоробка.Количество == Document.ИспользуемыйРазмерКоробок &amp;&amp; ТекущаяКоробка.Количество &gt; 0" id="1eb56671-6be7-4886-938f-8ac353c3b2ec" indent="0" name="71" nextDirection="" noDirection="12" yesDirection="29" /><ClearSessionAction all="False" breakPoint="False" id="d3768c18-9047-495b-9490-79c3f3c631c5" indent="1" name="29" nextDirection="14"><KeyNames count="1"><String>ТекущаяКоробка</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="SelectedProduct != null" id="5b90b8ea-26fe-48a9-ad3d-135c756597f3" indent="0" name="12" nextDirection="" noDirection="return" yesDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка.Сборная == true" id="faf30314-c196-45a1-aaa0-0bc641ba1a6e" indent="0" nextDirection="" noDirection="" yesDirection="19" /><ConditionAction breakPoint="False" comment="Поля коробки уже определены?" expression="ТекущаяКоробка.АлкоКод != &quot;&quot; || ТекущаяКоробка.КодФормыА != &quot;&quot; || ТекущаяКоробка.АлкоНаим != &quot;&quot; || ТекущаяКоробка.ДатаРозлива != null" id="8645bab7-bf6e-4b19-97b6-8aa44421b3ac" indent="0" name="11" nextDirection="" noDirection="" yesDirection="95" /><AssignAction breakPoint="False" expression="ТекущаяКоробка.АлкоКод = SelectedProduct.АлкоКод;&#xD;&#xA;ТекущаяКоробка.КодФормыА = SelectedProduct.КодФормыА;&#xD;&#xA;ТекущаяКоробка.АлкоНаим = SelectedProduct.АлкоНаим;&#xD;&#xA;ТекущаяКоробка.ДатаРозлива = SelectedProduct.ДатаРозлива;&#xD;&#xA;SelectedProduct.Родитель = ТекущаяКоробка.Ид;&#xD;&#xA;SelectedProduct.СкладСерия = ТекущаяКоробка.СкладСерия;" id="5c8cf6ee-2bd8-458b-89de-e77aa6a0d3a6" indent="1" name="" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекущаяКоробка.Сборная == false &amp;&amp; SelectedProduct.Packing.РазмерКоробки != null" id="f711e396-bba8-4a93-87e0-1bd11ff72659" indent="1" nextDirection="" noDirection="92" yesDirection="" /><AssignAction breakPoint="False" expression="ТекущаяКоробка.Размер = SelectedProduct.Packing.РазмерКоробки" id="6d92f9e8-8091-4608-abeb-22aacc3d303d" indent="2" nextDirection="" /><ConditionAction breakPoint="False" expression="GlobalVars.ИспользоватьСкладСерию[Document.DocumentType.Name] == true" id="222b3698-8e60-4955-bb66-08d3182b4aa9" indent="1" name="92" nextDirection="" noDirection="return" yesDirection="" /><SelectDocumentLineAction breakPoint="False" id="20a20e07-871b-4151-8285-5b971892f36c" indent="2" nextDirection="" sessionVariable="СерияЭтойКоробки"><Query copySelection="False" documentLines="Declared" from="{Серии}" sourceWhereExpression="" tableAlias="{СкладСерии}" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.Наименование == ТекущаяКоробка.СкладСерия"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" expression="СерияЭтойКоробки.АлкоКод = ТекущаяКоробка.АлкоКод;&#xD;&#xA;СерияЭтойКоробки.ФормаА = ТекущаяКоробка.КодФормыА;&#xD;&#xA;СерияЭтойКоробки.АлкоНаим = ТекущаяКоробка.АлкоНаим;&#xD;&#xA;СерияЭтойКоробки.ДатаРозлива = ТекущаяКоробка.ДатаРозлива;" id="7b27e840-6b0d-4182-b907-a7c395a3e8dd" indent="2" nextDirection="return" /><ConditionAction breakPoint="False" comment="Бутылка подходит к этой коробке?" expression="ТекущаяКоробка.АлкоКод == SelectedProduct.АлкоКод &amp;&amp; ТекущаяКоробка.АлкоНаим == SelectedProduct.АлкоНаим" id="321be61c-4249-4aff-b234-d1c7d45c9bf6" indent="0" name="95" nextDirection="" noDirection="18" yesDirection="" /><ConditionAction breakPoint="False" comment="Бутылка подходит к этой коробке?" expression="GlobalVars.РежимПроверкиПоДиапазонам[Document.DocumentType.Name] == true" id="60f7e2eb-cf48-4dfb-b7da-0cdcdf9cf173" indent="0" nextDirection="" noDirection="94" yesDirection="" /><ConditionAction breakPoint="False" comment="Бутылка подходит к этой коробке?" expression="ТекущаяКоробка.КодФормыА == SelectedProduct.КодФормыА" id="92d52155-1fa0-437a-8070-80074e20fbf5" indent="1" nextDirection="" noDirection="18" yesDirection="" /><ConditionAction breakPoint="False" comment="Бутылка подходит к этой коробке?" expression="GlobalVars.ВводДатыРозлива[Document.DocumentType.Name] == true" id="0e2cb1f9-87b4-407c-a843-5631fec58cf4" indent="0" name="94" nextDirection="" noDirection="19" yesDirection="" /><ConditionAction breakPoint="False" comment="Бутылка подходит к этой коробке?" expression="ТекущаяКоробка.ДатаРозлива == SelectedProduct.ДатаРозлива" id="ee7873e0-eb71-42a0-979f-27acb01d41dc" indent="1" nextDirection="" noDirection="18" yesDirection="" /><AssignAction breakPoint="False" comment="Успех!" expression="SelectedProduct.Родитель = ТекущаяКоробка.Ид;&#xD;&#xA;SelectedProduct.СкладСерия = ТекущаяКоробка.СкладСерия;" id="c30978fe-274f-4521-852f-9ad38f9a4a06" indent="0" name="19" nextDirection="return" /><AssignAction breakPoint="False" expression="НеПодходит = true;" id="259a54bf-3826-48f2-ac1f-dc9c77c59a7f" indent="0" name="18" nextDirection="17" /><AssignAction breakPoint="False" expression="ВМеню = true" id="549b403a-a9d3-4a2b-bff2-457cc2397b80" indent="0" name="16" nextDirection="return" /></Actions><Parameters count="3"><FieldInfo alias="" eanAI="None" fieldName="ТекущаяКоробка" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TekushhayaKorobka" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="Отскан" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="Otskan" valueTemplate="" /></Parameters><Returns count="3"><ReturnFieldInfo alias="" eanAI="None" fieldName="ТекущаяКоробка" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="TekushhayaKorobka" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="SelectedProduct" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ВМеню" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VMenyu" valueTemplate="" /></Returns></Operation>
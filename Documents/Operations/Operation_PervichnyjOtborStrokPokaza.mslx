<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" comment="sh" fullscreen="Inherit" lock="No" name="ПервичныйОтборСтрокПоказа" serverHosted="True"><Actions capacity="16" count="16"><ConditionAction breakPoint="False" expression="Document.CreatedOnPDA" id="b064a7c3-2e1e-4a55-9aec-688d98c307ea" indent="0" nextDirection="" noDirection="2" yesDirection="6" /><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true" id="b234088d-bf9b-4cff-983b-8574ffd6a658" indent="1" name="1" nextDirection="" noDirection="6" yesDirection="7" /><AssignAction breakPoint="False" expression="ПоказатьСписок = true" id="732d76ea-fa38-4479-bc1a-eea2e51cd030" indent="1" name="12" nextDirection="3" /><ConditionAction breakPoint="False" expression="Document.ServerHosted" id="ef94e06a-3fb2-47ce-875c-5f9f56401bc6" indent="0" name="2" nextDirection="" noDirection="3" yesDirection="12" /><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true" id="4641560c-759d-4abc-a639-01684154c7c8" indent="1" name="3" nextDirection="" noDirection="4" yesDirection="7" /><ConditionAction breakPoint="False" expression="ТолькоРасхождения == true" id="74136f05-0539-4cde-9b2f-ab002bc5232a" indent="1" name="4" nextDirection="" noDirection="5" yesDirection="11" /><ConditionAction breakPoint="False" expression="ССортировкой == true" id="93ad56c8-03ca-4455-9a67-81ab4c2fe5d1" indent="2" name="11" nextDirection="" noDirection="8" yesDirection="9" /><ConditionAction breakPoint="False" expression="ССортировкой == true" id="bb475fe8-6ab4-419f-86d7-3bb18d78f585" indent="1" name="5" nextDirection="" noDirection="6" yesDirection="13" /><SelectDocumentLinesAction breakPoint="False" comment="Показать всё" id="3890f919-0c8d-466a-84f5-20911a00372f" indent="1" name="6" nextDirection="return" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" comment="Группировка строк по алкоголю при включенном контроле марок" id="f4ec38c5-892a-4ee5-82b7-692c57c15ffe" indent="1" name="7" nextDirection="return" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="2"><String>ProductId</String><String>АлкоКод</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" comment="Отбор строк с расхождениями" id="183f73f4-c29e-43b3-b723-acd159896522" indent="1" name="8" nextDirection="return" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.UnderloadedOrOverloaded == true"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" comment="Отбор строк с расхождениями с сортировкой(Перебор- сверху, затем недобор)" id="4bb7abfe-5522-42f7-9582-a26db3e8b638" indent="1" name="9" nextDirection="return" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.UnderloadedOrOverloaded == true"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>UnderloadedOrOverloaded desc</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" id="4ad8dcf8-3dcb-4a52-abea-22af9c6cfc69" indent="2" name="13" nextDirection="" sessionVariable="СтрокиПоказаВБлоках"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдБлока != &quot;&quot;"><Fields count="0" /><GroupBy count="1"><String>ИдБлока</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" id="f30f0569-9a2d-49ef-8444-cebd7b8d6f3f" indent="2" name="10" nextDirection="" sessionVariable="СтрокиПоказаБезБлоков"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.ИдБлока == &quot;&quot;"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><AssignAction breakPoint="False" expression="СтрокиПоказаБезБлоков.AddRange(СтрокиПоказаВБлоках);" id="cf494057-b9bb-40b6-80a2-5a301f67adf9" indent="2" nextDirection="" /><SelectDocumentLinesAction breakPoint="False" comment="Сортировка строк по ненабранным(Перебор- сверху, затем недобор, затем набранные)" id="89fd7a76-5cbf-4fcd-82a3-66be5b631891" indent="2" nextDirection="return" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" from="{СтрокиПоказаБезБлоков}" sourceWhereExpression="" tableAlias="{СтрокиПоказаБезБлоков}" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="1"><String>UnderloadedOrOverloaded desc</String></SortBy><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction></Actions><Parameters count="2"><FieldInfo alias="" eanAI="None" fieldName="ССортировкой" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SSortirovkoj" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТолькоРасхождения" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TolkoRashozhdeniya" valueTemplate="" /></Parameters><Returns count="2"><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiPokaza" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ПоказатьСписок" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="PokazatSpisok" valueTemplate="" /></Returns></Operation>
<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ОснПроцессАлкоБезЕАН13" serverHosted="False"><Actions capacity="128" count="68"><AssignAction breakPoint="False" expression="ВШапку = &quot;&quot;" id="0c984980-5735-453b-a727-4bc15084b716" indent="0" nextDirection="" /><AssignAction breakPoint="False" expression="Scanner.EnableBarcodeType(&quot;PDF417&quot;, true);&#xD;&#xA;Scanner.EnableBarcodeType(&quot;DataMatrix&quot;, false);" id="b66fe823-c56d-4493-8cb0-7c11f73f1354" indent="0" name="Сканер только PDF417" nextDirection="" /><ConditionAction breakPoint="False" expression="СтрокиПоказа == null" id="34bc1d08-2179-4aec-b2ba-e173403f055b" indent="0" name="31" nextDirection="" noDirection="30" yesDirection="" /><OperationAction abortDirection="" breakPoint="False" id="acb38695-fbb4-4ff3-9390-6efeea3ca276" indent="1" name="32" nextDirection="" operationName="СформироватьСтрокиДляПоказа" transactionNotch="False"><InKeys count="2"><String>ССортировкой</String><String>ТолькоРасхождения</String></InKeys><InValues count="2"><String>{Document.CreatedOnPDA == false}</String><String>{ПоказРасхожденийВСписке}</String></InValues><OutKeys count="1"><String>Строки</String></OutKeys><OutValues count="1"><String>{СтрокиПоказа}</String></OutValues></OperationAction><ConditionAction breakPoint="False" expression="Document.CreatedOnPDA == true" id="1a09d418-267c-4cae-a8fe-04f3c40c5a57" indent="0" name="30" nextDirection="" noDirection="ЕслиСерверныйДокумент" yesDirection="" /><FormattedPageAction autoCloseTime="0" backColor="White" backgroundImage="" breakPoint="False" cancelType="None" footerText="{Document.АлкоМногоДМ!=true:{сч= Document.CurrentItems.FindByField(&quot;АлкоКод&quot;,SelectedProduct.АлкоКод).Count};}&#xD;&#xA;{SelectedProduct.ПроверкаЧМ==true || CheckMark.IsInstalled == false:;&lt;button direction=&quot;Вызов чекмарк 2&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Проверить в CheckMark&lt;/button&gt;}{Document.АлкоМногоДМ==true||сч!=&quot;&quot;:{сч==0:&lt;button direction=&quot;Прервать&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;;&lt;button direction=&quot;Завершить&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;({сч} ном.) Завершить&lt;/button&gt;};&lt;button direction=&quot;Прервать&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;}" fullscreen="Inherit" headerText="{SelectedProduct.стрВШапкахОкон}&#xD;&#xA;{SelectedProduct.стрАлкоКороткое}&#xD;&#xA;&lt;r size=&quot;-4&quot; color =  &quot;DarkSlateGray&quot;&gt;{SelectedProduct.ЦенаСкладВводКолва}&lt;/r&gt;&#xD;&#xA;{SelectedProduct.ДатаРозлива: Дата розлива: &lt;b color=&quot;DarkBlue&quot;&gt;(0:dd.MM.yyyy)&lt;/b&gt;}&#xD;&#xA;&lt;r size=&quot;-1&quot; color=&quot;Red&quot;&gt;{УжеПДФ != null:{УжеПДФ.АлкоПДФ} уже добавлен в документ!;}&#xD;&#xA;{ErrorMessage}&lt;/r&gt;" id="cd7d05a8-c9c9-4006-b004-c590292da29f" indent="0" name="ФАКТ скан" nextDirection="30" singlePage="False" transactionNotch="True"><Blocks count="1"><LabelPageBlock align="TopCenter" allBorder="0" backColor="Transparent" bottomBorder="0" foreColor="Black" leftBorder="0" rightBorder="0" text="Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;PDF 417&lt;/b&gt;&#xA;&lt;img tcolor=&quot;no&quot; size=&quot;stretch&quot; maxwidth=&quot;100%&quot; align=&quot;center&quot; direction=&quot;&quot;&gt;egares.pdf417&lt;/img&gt;" topBorder="0" /></Blocks><KeyJumps count="2"><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></FormattedPageAction><OperationAction abortDirection="ФАКТ скан" breakPoint="False" id="1c590a5a-1fbe-40b5-a14e-196ca8f39299" indent="1" name="Вызов чекмарк 2" nextDirection="ФАКТ скан" operationName="ВызовЧекМарк" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" comment="план/факт" eanAI="None" editType="Session" fieldName="ScannedBarcode" fieldType="String" footerText="{Document.ServerHosted == true:&lt;button width=&quot;100%&quot; height=&quot;11%&quot; direction=&quot;32&quot; align=&quot;center&quot;&gt;&lt;r&gt;Обновить список&lt;/r&gt;{Device.IsAndroid == true:; &lt;b&gt; (F5)&lt;/b&gt;}&lt;/button&gt;;}" format="" fullscreen="True" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - меню&lt;/r&gt;}&#xD;&#xA;&lt;r align=&quot;left&quot; color=&quot;Black&quot;&gt;{ВШапку != &quot;&quot;:{ВШапку == &quot;ДругойАлкоКод&quot;:Марка содержит новый алкокод!&lt;br /&gt;Начните сканирование с ШК товара.;Отсканировано: {ВШапку}};}&lt;/r&gt;&#xD;&#xA;&lt;Red&gt;{ErrorMessage}&lt;/Red&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;марку&lt;/b&gt;&lt;/b&gt;" id="25c7a590-d1c0-4e76-a79f-28c61de275ea" indent="0" listCaption="{Document.CreatedOnPDA:&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;Всего строк: {СтрокиПоказа.Count}&lt;/r&gt;&#xD;&#xA;;&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;{ПоказРасхожденийВСписке==true:Не сошлось: {Document.докНеСошлось} из {Document.DeclaredItems.Count} строк;Сошлось: {Document.докСошлось} из {Document.DeclaredItems.Count} строк}&lt;/b&gt;}" listItemFormat="{&quot;&quot;}" name="Скан ШК в списке" nextDirection="23" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="True" sizeType="Normal" transactionNotch="True" viewItems="{СтрокиПоказа}" welcomeText=""><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрВСписке} &lt;b&gt;{Item.ТоварКИЗ == true:{Item.ИмяСерии:КИЗ: (0)};{Item.ИмяСерии:Серия: (0)}}&lt;/b&gt;{ВводНомераСтроки==true &amp;&amp; Item.НомерСтрокиДокумента&gt;0:&lt;r color=&quot;DarkGreen&quot;&gt;&lt;br/&gt;№ в накладной: {Item.НомерСтрокиДокумента}&lt;/r&gt;;} &#xD;&#xA;{Item.Packing.Name:&lt;b&gt;((0))&lt;/b&gt;} {Item.ЕстьСН == true:&lt;Blue&gt;c S/N&lt;/Blue&gt;;}&#xD;&#xA;{Document.ServerHosted == true:{Item.LastEditBy:&lt;r size=&quot;-1&quot; color=&quot;Red&quot;&gt;(0)&lt;/r&gt;};}" leftBorder="0" rightBorder="0" title="Номенклатура" topBorder="0" width="50%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Item.DeclaredQuantity:0.###}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="План" topBorder="0" width="25%" /><ItemsColumn align="MiddleRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Document.CreatedOnPDA == false:{Item.UnderloadedOrOverloaded == false:&lt;r color=&quot;Green&quot;&gt;OK&lt;/r&gt;;{Item.CurrentQuantity != 0:&lt;r color=&quot;Red&quot;&gt;{Item.CurrentQuantity:0.###}&lt;/r&gt;;0}};{Item.CurrentQuantity:0.###}}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="Факт" topBorder="0" width="25%" /></Columns><KeyJumps count="3"><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="Вкл откл помощь" barcode="" condition="Device.NoKeyboard != true" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><ConditionAction breakPoint="False" expression="Document.ServerHosted" id="c5bce3d5-cd6a-47f2-9bfc-b009bc3f0320" indent="0" name="ЕслиСерверныйДокумент" nextDirection="" noDirection="35 1" yesDirection="ЕслиНайденаСтрокаПоТовару" /><ConditionAction breakPoint="False" expression="СтрокиТекущегоТовара!=null" id="b0c48a7a-2ed1-4971-85e3-0546a2f25772" indent="1" name="ЕслиНайденаСтрокаПоТовару" nextDirection="" noDirection="ПоказатьВесьСписок" yesDirection="ПоказываемТолькоСтрокуТовара" /><AssignAction breakPoint="False" expression="ПоказатьСписок = false;&#xD;&#xA;СтрокиПоказа = СтрокиТекущегоТовара;" id="62335b91-959f-41fc-b8fd-0a1967c0dc50" indent="1" name="ПоказываемТолькоСтрокуТовара" nextDirection="39" /><AssignAction breakPoint="False" expression="ПоказатьСписок = true;&#xD;&#xA;СтрокиПоказа = Document.DeclaredItems;" id="11eeec4a-3ffd-4dee-97f7-ca8f8fa29245" indent="2" name="ПоказатьВесьСписок" nextDirection="39" /><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true &amp;&amp; СтрокиПоказа!=null" id="8422e7e7-6a45-4062-9890-2090cb7bd6eb" indent="0" name="35 1" nextDirection="" noDirection="38" yesDirection="" /><SelectDocumentLinesAction breakPoint="False" id="30749efc-72f8-4404-8fbc-c87f9e5e57b0" indent="1" nextDirection="39" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="2"><String>ProductId</String><String>АлкоКод</String></GroupBy><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><SelectDocumentLinesAction breakPoint="False" id="15e83e46-d09e-46b0-958e-71b43f67ebaa" indent="1" name="38" nextDirection="39" sessionVariable="СтрокиПоказа"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="ПоказРасхожденийВСписке == true" id="944a386b-8096-4bb3-b7f7-ab1d796b75de" indent="0" name="39" nextDirection="" noDirection="" yesDirection="Расхождения" /><ItemsViewAction id="da207964-8233-4988-b2f2-bed1b5c8842e" name="36" nextDirection="23" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - меню&lt;/r&gt;}&#xD;&#xA;&lt;r align=&quot;left&quot; color=&quot;Black&quot;&gt;{ВШапку != &quot;&quot;:{ВШапку == &quot;ДругойАлкоКод&quot;:Марка содержит новый алкокод!&lt;br /&gt;Начните сканирование с ШК товара.;Отсканировано: {ВШапку}};}&lt;/r&gt;&#xD;&#xA;&lt;b&gt;&lt;Red&gt;{ErrorMessage}&lt;/Red&gt;&lt;/b&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;марку&lt;/b&gt;&lt;/b&gt;" footerText="{Document.ServerHosted == true:{ПоказатьСписок==true:&lt;button width=&quot;100%&quot; height=&quot;11%&quot; direction=&quot;ПоказатьВесьСписок&quot; align=&quot;center&quot;&gt;&lt;r&gt;Обновить список&lt;/r&gt;{Device.IsAndroid == true:; &lt;b&gt; (F5)&lt;/b&gt;}&lt;/button&gt;;&lt;button direction=&quot;ПоказатьВесьСписок&quot; width=&quot;100%&quot;&gt;Показать список&lt;/button&gt;};}" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{СтрокиПоказа}" welcomeText="{Document.CreatedOnPDA:&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;Всего строк: {СтрокиПоказа.Count}&lt;/r&gt;&#xD;&#xA;;&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;{ПоказРасхожденийВСписке==true:Не сошлось: {Document.докНеСошлось} из {Document.DeclaredItems.Count} строк;Сошлось: {Document.докСошлось} из {Document.DeclaredItems.Count} строк}&lt;/b&gt;}"><KeyJumps count="4"><KeyToAction action="Вкл откл помощь" barcode="" condition="Device.NoKeyboard != true" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="32" barcode="" condition="" foreColor="#00000000" key="F5" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="3"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрВСписке}&#xD;&#xA;&lt;b&gt;{Item.ТоварКИЗ == true:{Item.ИмяСерии:КИЗ: (0)};{Item.ИмяСерии:Серия: (0)}}&lt;/b&gt;&#xD;&#xA;{ВводНомераСтроки==true &amp;&amp; Item.НомерСтрокиДокумента&gt;0:&lt;r color=&quot;DarkGreen&quot;&gt;&lt;br/&gt;№ в накладной: {Item.НомерСтрокиДокумента}&lt;/r&gt;;} &#xD;&#xA;&lt;b&gt;({Item.Packing!=&quot;&quot;:{Item.Packing.Name:(0)};{Item.PackingId}})&lt;/b&gt; {Item.ЕстьСН == true:&lt;Blue&gt;c S/N&lt;/Blue&gt;;}" leftBorder="0" rightBorder="0" title="Номенклатура" topBorder="0" width="50%" /><ItemsColumn align="MiddleCenter" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Item.DeclaredQuantity:0.###}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="План" topBorder="0" width="25%" /><ItemsColumn align="MiddleRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Document.CreatedOnPDA == false:{Item.UnderloadedOrOverloaded == false:&lt;r color=&quot;Green&quot;&gt;OK&lt;/r&gt;;{Item.CurrentQuantity != 0:&lt;r color=&quot;Red&quot;&gt;{Item.CurrentQuantity:0.###}&lt;/r&gt;;0}};{Item.CurrentQuantity:0.###}}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="Факт" topBorder="0" width="25%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ItemsViewAction id="836f7259-a62a-41ed-b51f-501c399e4a75" name="Расхождения" nextDirection="" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-2&quot;&gt;(esc) - меню&lt;/r&gt;}&#xD;&#xA;&lt;r align=&quot;left&quot; color=&quot;Black&quot;&gt;{ВШапку != &quot;&quot;:{ВШапку == &quot;ДругойАлкоКод&quot;:Марка содержит новый алкокод!&lt;br /&gt;Начните сканирование с ШК товара.;Отсканировано: {ВШапку}};}&lt;/r&gt;&#xD;&#xA;&lt;b&gt;&lt;Red&gt;{ErrorMessage}&lt;/Red&gt;&lt;/b&gt;&#xD;&#xA;&lt;b size=&quot;+2&quot; align=&quot;left&quot; color=&quot;Black&quot;&gt;Сканируйте &lt;b size=&quot;+1&quot; color=&quot;Red&quot;&gt;марку&lt;/b&gt;&lt;/b&gt;" footerText="{Document.ServerHosted == true:{ПоказатьСписок==true:&lt;button width=&quot;100%&quot; height=&quot;11%&quot; direction=&quot;ПоказатьВесьСписок&quot; align=&quot;center&quot;&gt;&lt;r&gt;Обновить список&lt;/r&gt;{Device.IsAndroid == true:; &lt;b&gt; (F5)&lt;/b&gt;}&lt;/button&gt;;&lt;button direction=&quot;ПоказатьВесьСписок&quot; width=&quot;100%&quot;&gt;Показать список&lt;/button&gt;};}" transactionNotch="True" cancelType="None" backgroundImage="" format="" selectedItem="SelectedItem" viewItems="{СтрокиПоказа}" welcomeText="{Document.CreatedOnPDA:&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;Всего строк: {СтрокиПоказа.Count}&lt;/r&gt;&#xD;&#xA;;&lt;b size=&quot;-2&quot; color=&quot;Black&quot;&gt;{ПоказРасхожденийВСписке==true:Не сошлось: {Document.докНеСошлось} из {Document.DeclaredItems.Count} строк;Сошлось: {Document.докСошлось} из {Document.DeclaredItems.Count} строк}&lt;/b&gt;}"><KeyJumps count="4"><KeyToAction action="Вкл откл помощь" barcode="" condition="Device.NoKeyboard != true" foreColor="#00000000" key="F1" modifiers="None" viewType="InMenu" /><KeyToAction action="ГлавноеМеню" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="23" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="32" barcode="" condition="" foreColor="#00000000" key="F5" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="2"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.стрВСписке}&#xD;&#xA;&lt;b&gt;{Item.ТоварКИЗ == true:{Item.ИмяСерии:КИЗ: (0)};{Item.ИмяСерии:Серия: (0)}}&lt;/b&gt;&#xD;&#xA;{ВводНомераСтроки==true &amp;&amp; Item.НомерСтрокиДокумента&gt;0:&lt;r color=&quot;DarkGreen&quot;&gt;&lt;br/&gt;№ в накладной: {Item.НомерСтрокиДокумента}&lt;/r&gt;;} &#xD;&#xA;&lt;b&gt;({Item.Packing!=&quot;&quot;:{Item.Packing.Name:(0)};{Item.PackingId}})&lt;/b&gt; {Item.ЕстьСН == true:&lt;Blue&gt;c S/N&lt;/Blue&gt;;}" leftBorder="0" rightBorder="0" title="Номенклатура" topBorder="0" width="64%" /><ItemsColumn align="MiddleRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;h2&gt;{Item.UnderloadedOrOverloaded == false:&lt;r color=&quot;Green&quot;&gt;OK&lt;/r&gt;;{Item.CurrentQuantity == 0:&lt;r color=&quot;black&quot;&gt;{0 - Item.DeclaredQuantity}&lt;/r&gt;;&lt;r color=&quot;Red&quot;&gt;{Item.DeclaredQuantity&lt;Item.CurrentQuantity:{&quot;+&quot;+(Item.CurrentQuantity-Item.DeclaredQuantity)};{Item.CurrentQuantity-Item.DeclaredQuantity}}&lt;/r&gt;}}&lt;/h2&gt;" leftBorder="0" rightBorder="0" title="Расхождение" topBorder="0" width="36%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ClearSessionAction all="False" breakPoint="False" id="49b5b8ed-0509-4003-b0ed-040075dd986d" indent="0" name="23" nextDirection=""><KeyNames count="2"><String>ErrorMessage</String><String>СтрокаПланАлко</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true &amp;&amp; СтрокиПоказа!=null" id="66769d97-c0ed-4642-ba55-ee574a8934a1" indent="0" name="34" nextDirection="" noDirection="35" yesDirection="" /><AssignAction breakPoint="False" expression="ПоискПДФВПлане = Document.DeclaredItems.FindFirstByField(&quot;АлкоПДФ&quot;, ScannedBarcode)" id="6d00bf88-6e20-4440-a5bc-0d2ea644148e" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="ПоискПДФВПлане == null &amp;&amp; Document.КонтрольКолва == true" id="dcf8db02-48f4-4926-88a2-0484a648ab23" indent="1" nextDirection="" noDirection="35" yesDirection="" /><BaloonAction breakPoint="False" id="f808b9fb-203b-4c2c-9ea4-b5c1337e1c7d" indent="2" isError="True" name="Ошибка ПДФ 2 1" nextDirection="28 1" seconds="3" text="Марка уже отсканирована" /><ClearSessionAction all="False" breakPoint="False" id="c94ea5be-7d6c-45b9-90c8-3f18e40be32e" indent="2" name="28 1" nextDirection="31"><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><AssignAction breakPoint="False" expression="УжеБылТакойПДФ = Document.CurrentItems.FindFirstByField(&quot;АлкоПДФ&quot;, ScannedBarcode)" id="45cd610a-ea23-44dc-afef-80d86087f671" indent="0" name="35" nextDirection="" /><ConditionAction breakPoint="False" expression="УжеБылТакойПДФ != null" id="e2a9967a-a2b6-460b-8ffc-9e71281656f9" indent="0" nextDirection="" noDirection="22" yesDirection="" /><BaloonAction breakPoint="False" id="1054ba98-dd30-48dc-b166-4077a5007103" indent="2" isError="True" name="Ошибка ПДФ 2" nextDirection="28" seconds="3" text="PDF 417 уже отсканирован" /><ClearSessionAction all="False" breakPoint="False" id="8e47689e-d8d9-4f23-9a5d-dcef8c54aa90" indent="2" name="28" nextDirection="37"><KeyNames count="1"><String>ScannedBarcode</String></KeyNames></ClearSessionAction><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="4fa8a469-55c1-40d3-bfbc-2aab92d86fa0" indent="2" message="&lt;r&gt;{ErrorMessage}, удалить позицию?&lt;/r&gt;&#xD;&#xA;{УжеБылТакойПДФ.стрОсновное}&#xD;&#xA;{УжеБылТакойПДФ.АлкоКод:Код ЕГАИС: (0)}" name="37" nextDirection="" noDirection="28 2" transactionNotch="True" yesDirection=""><KeyJumps count="0" /></QuestionYesNoAction><RemoveDocumentLineAction breakPoint="False" id="8c30046d-7ce2-460a-912c-d4887262cca4" indent="2" nextDirection="" packing="" quantity="" quantityErrorDirection="" sessionVariable="УжеБылТакойПДФ" /><ClearSessionAction all="False" breakPoint="False" id="9dc529e0-f1c1-4c55-8a9f-e5f88ee06532" indent="2" name="28 2" nextDirection="31"><KeyNames count="1"><String>ErrorMessage</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="ScannedBarcode == &quot;&quot;" id="db8de713-ec5d-4bd0-9275-23e226c6d36b" indent="0" name="22" nextDirection="" noDirection="" yesDirection="9" /><ConditionAction breakPoint="False" expression="ScannedBarcode.Length == 150 || ScannedBarcode.Length == 151" id="2dd0aee9-cbbf-485f-b87b-b155a985677d" indent="1" nextDirection="" noDirection="24" yesDirection="" /><ConditionAction breakPoint="False" expression="Document.КонтрольМарок == true" id="4d6067d6-fd09-4056-b411-2da6f16cdab2" indent="2" nextDirection="" noDirection="56" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct = ПоискПДФВПлане.Product.Pack(ПоискПДФВПлане.PackingId, 1);" id="2753c705-2bc9-4c35-b6a9-384482236f6f" indent="3" nextDirection="57" /><AssignAction breakPoint="False" expression="SelectedProduct = UnknownProduct.Pack();" id="0a6326d6-3b8f-4f4a-9a2f-3e9d75f4fc01" indent="2" name="56" nextDirection="" /><AssignAction breakPoint="False" expression="АлкоКод = &quot;&quot;;&#xD;&#xA;SelectedProduct.АлкоСерия = ScannedBarcode.Substring(3, 3);&#xD;&#xA;SelectedProduct.АлкоСН = ScannedBarcode.Substring(6, 8);&#xD;&#xA;Марка = true;" id="6c94ad23-118f-45bf-9aa2-8be70239c4f6" indent="2" name="57" nextDirection="21" /><AssignAction breakPoint="False" expression="АлкоКод = CheckMark.GetAlcoCode(ScannedBarcode)" id="d99a83c0-b171-49ff-a975-c58bf37ca33a" indent="1" name="24" nextDirection="" /><ConditionAction breakPoint="False" expression="АлкоКод == &quot;&quot;" id="becc42fa-1b44-46b9-af5c-5a53ef5756be" indent="1" nextDirection="" noDirection="55" yesDirection="Ошибка ПДФ 1" /><BaloonAction breakPoint="False" id="f88fa6c3-28b6-413c-83c1-33ea48bd2e37" indent="2" isError="True" name="Ошибка ПДФ 1" nextDirection="back" seconds="3" text="Неверная марка!" /><SelectDocumentLinesAction breakPoint="False" id="7b66c950-3351-4056-88d4-9a90f4117419" indent="1" name="55" nextDirection="" sessionVariable="ПланСтрокиПоАлкоКоду"><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.АлкоКод == АлкоКод &amp;&amp; Item.DeclaredQuantity &gt; Item.CurrentQuantity"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="ПланСтрокиПоАлкоКоду.Count &gt; 0" id="3c8a27a4-0ff2-472c-a6c1-bcdb19edbdb9" indent="1" nextDirection="" noDirection="Выбор строки с тем же ПДФ 1" yesDirection="" /><AssignAction breakPoint="False" expression="СтрокаПланАлко = ПланСтрокиПоАлкоКоду[0]" id="c5032014-9005-49b1-bfe3-f282d9bfa323" indent="2" nextDirection="51" /><AssignAction breakPoint="False" expression="СтрокаПланАлко = Document.DeclaredItems.FindFirstByField(&quot;АлкоКод&quot;, АлкоКод)" id="61dcf478-c783-42d6-a19d-1ccdf8d97429" indent="1" name="Выбор строки с тем же ПДФ 1" nextDirection="51" /><ConditionAction breakPoint="False" expression="СтрокаПланАлко != null &amp;&amp; СтрокаПланАлко.ProductId != UnknownProduct.Id" id="12061a91-90ab-4224-b65f-82d95e25ef32" indent="1" name="51" nextDirection="" noDirection="Выбор по АлкоКоду" yesDirection="25" /><AssignAction breakPoint="False" expression="SelectedProduct = СтрокаПланАлко.Product.Pack(СтрокаПланАлко.PackingId, 1)" id="4646cba5-09bc-4a7a-aef1-daafbabf77d4" indent="2" name="25" nextDirection="ЕслиНоменклатураНеВыгужена" /><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="9a30da84-dff8-4015-b2ab-9fcf29f43ca5" indent="2" name="ЕслиНоменклатураНеВыгужена" nextDirection="" noDirection="Доп поля повторов алкоголя" yesDirection="Выбор товара по ШК" /><AssignAction breakPoint="False" expression="SelectedProduct.ШК = СтрокаПланАлко.ШК;&#xD;&#xA;SelectedProduct.ИдЕдиницыИзмерения = СтрокаПланАлко.ИдЕдиницыИзмерения;" id="12bfae11-1a91-457b-aa83-59885ca681fb" indent="2" name="Доп поля повторов алкоголя" nextDirection="21" /><OperationAction abortDirection="back" breakPoint="False" id="df2322ae-8b33-4c70-a18e-9f32372a0621" indent="1" name="Выбор по АлкоКоду" nextDirection="" operationName="ВыборАлкоТовара" transactionNotch="False"><InKeys count="4"><String>ScannedBarcode</String><String>ПоПДФ</String><String>ПриниматьНеизвШК</String><String>ПриниматьНеизвАлкокодКакНеизвТовар</String></InKeys><InValues count="4"><String>{АлкоКод}</String><String>true</String><String>true</String><String>true</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="a59f643a-6e23-4cc4-a49f-ae583adad22d" indent="1" name="29" nextDirection="" noDirection="27" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct = UnknownProduct.Pack()" id="1f09cc8c-7388-4be9-8f9b-239601fb3916" indent="2" name="Выбор товара по ШК" nextDirection="21" /><AssignAction breakPoint="False" expression="SelectedProduct.Алко = true " id="2aed8764-ddff-49ef-be0f-a5950797b0d0" indent="2" name="21" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоКод = АлкоКод" id="62ed9c18-6339-4874-ac58-28d44ea3d8ea" indent="2" name="АлкоКод из ПДФ" nextDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоПДФ = ScannedBarcode" id="ed95d18e-b67b-4516-8ae0-b5b976a03a95" indent="2" name="27" nextDirection="" /><AssignAction breakPoint="False" expression="if (Марка == true &amp;&amp; Document.КонтрольМарок == true)&#xD;&#xA;{СтрокаПланАлко = ПоискПДФВПлане;}" id="f97b92f1-b56f-43f6-b3e2-540c3ef7d7d2" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="SelectedProduct.АлкоНаим == &quot;&quot; &amp;&amp; СтрокаПланАлко != null " id="eba5e7b3-256e-476e-8893-11a85fd4152e" indent="1" name="26" nextDirection="" noDirection="16" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоНаим = СтрокаПланАлко.АлкоНаим" id="07781d7c-eebb-45b2-b76f-a2c980f96db7" indent="2" nextDirection="16" /><ConditionAction breakPoint="False" expression="SelectedItem != null" id="dfe04e12-87ec-4aa8-ae79-1e4b6e156547" indent="0" name="9" nextDirection="" noDirection="30" yesDirection="" /><OperationAction abortDirection="30" breakPoint="False" id="8504c1c2-9ceb-4afc-b8d5-4f8c9caf2cad" indent="1" nextDirection="" operationName="ПравкаСтроки" transactionNotch="False"><InKeys count="3"><String>СтрокаДокумента</String><String>ВводЦены</String><String>ВводНомераСтроки</String></InKeys><InValues count="3"><String>{SelectedItem}</String><String>{ВводЦены}</String><String>{ВводНомераСтроки}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ПоказРасхожденийВСписке &amp;&amp; SelectedItem.UnderloadedOrOverloaded == false" id="488e09f8-c1e3-4919-be35-cac48640205d" indent="1" name="2" nextDirection="" noDirection="30" yesDirection="" /><AssignAction breakPoint="False" expression="СтрокиПоказа.Remove(SelectedItem)" id="1d330c13-90e7-4fb0-8900-39066835b6fb" indent="2" name="" nextDirection="continue" /><OperationAction abortDirection="" breakPoint="False" id="c1cebe8e-7a74-4cf7-ae65-5d3c6b2838d8" indent="0" name="16" nextDirection="" operationName="ОбработкаАлкоголя" transactionNotch="False"><InKeys count="4"><String>ПланИФакт</String><String>ЕстьФормыА</String><String>НеСканироватьPDF</String><String>СтрокаСАлкоголем</String></InKeys><InValues count="4"><String>true</String><String>{false}</String><String>true</String><String>{СтрокаПланАлко}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ClearSessionAction all="False" breakPoint="False" id="094a5f80-5534-4dc0-ad49-7f668f411e83" indent="1" nextDirection="31"><KeyNames count="3"><String>SelectedItem</String><String>ScannedBarcode</String><String>Марка</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="1acdfa24-9f76-4c20-9ecf-e04c58c3985f" indent="0" name="Вкл откл помощь" nextDirection="back" operationName="ПомощьВклВыкл" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="ВМеню=True" id="04f1bb75-59b7-4497-8646-c64c4cd1ffe7" indent="0" name="ГлавноеМеню" nextDirection="" /><AssignAction breakPoint="False" expression="ПоказРасхожденийВСпискеПрошл = ПоказРасхожденийВСписке" id="d8b8df6d-5d69-4a6f-b01b-9d047fb116c0" indent="0" nextDirection="Завершить" /><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes()" id="04906a7c-875e-4d15-ae77-6a5c7742bb13" indent="0" name="Прервать" nextDirection="abort" /><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes()" id="08e5ef6e-3c9c-4c1d-98e9-43561f52f102" indent="0" name="Завершить" nextDirection="return" /></Actions><Parameters capacity="16" count="15"><FieldInfo alias="" eanAI="None" fieldName="ИмяОп" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ImyaOp" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="Заголовок" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="Zagolovok" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="StrokiPokaza" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПриниматьНеизвШК" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PrinimatNeizvShK" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводНовыхСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodNovyhSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВыборСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VyborSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводСН" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodSN" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="КонтрольТовараБезКолич" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="KontrolTovaraBezKolich" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводЦены" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodCeny" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводНомераСтроки" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodNomeraStroki" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПоказРасхожденийВСписке" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="PokazRashozhdenijVSpiske" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="АлкоРежим" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="AlkoRezhim" valueTemplate="" /><FieldInfo alias="" comment="чтобы можно было в инвентаризации собирать алкоголь как обычный товар" eanAI="None" fieldName="АлкоКакОбычный" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="AlkoKakObychnyj" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="СначалаВыборСерий" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SnachalaVyborSerij" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="НеБратьЦенуИзНоменклатуры" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="NeBratCenuIzNomenklatury" valueTemplate="" /></Parameters><Returns count="4"><ReturnFieldInfo alias="" eanAI="None" fieldName="ВМеню" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="VMenyu" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиПоказа" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiPokaza" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ПоказРасхожденийВСпискеПрошл" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="PokazRashozhdenijVSpiskeProshl" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="СтрокиТекущегоТовара" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="StrokiTekushhegoTovara" valueTemplate="" /></Returns></Operation>
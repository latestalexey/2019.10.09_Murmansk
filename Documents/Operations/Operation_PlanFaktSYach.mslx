<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ПланФактСЯч" serverHosted="False"><Actions capacity="64" count="35"><ConditionAction breakPoint="False" expression="SelectedProduct == null" id="9472af80-a079-4665-a780-50b1b59f0479" indent="0" name="" nextDirection="" noDirection="" yesDirection="ПросмотрПланФакт" /><SelectDocumentLineAction breakPoint="False" id="a7cf9e86-4015-4534-996a-388efdb0901f" indent="0" name="" nextDirection="" sessionVariable="CurSelectedLine"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.barcode==SelectedProduct.barcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" expression="SelectedLine=CurSelectedLine.BindedLine" id="cfdc8708-b67c-486c-85d6-2aa2a2c4064c" indent="0" name="" nextDirection="" /><ClearSessionAction all="False" breakPoint="False" id="b6544b17-451a-44de-b1fb-525dee3b3fad" indent="0" name="Обновить" nextDirection=""><KeyNames count="1"><String>ErrorMessage</String></KeyNames></ClearSessionAction><ItemsViewAction id="aa7377a1-c1d3-4f92-8fad-837b86355be5" name="ПросмотрПланФакт" nextDirection="ПравкаСтрок" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - вернуться к вводу, (enter) - править строку{Document.КонтрольКолва == 1:, (del) или (back) - заблокировать строку;}&lt;/r&gt;&lt;hr/&gt;}&#xA;всего строк: {Document.DeclaredItems.Count}&lt;hr/&gt;&#xA;{ErrorMessage}" transactionNotch="False" cancelType="None" fullscreen="True" format="" selectedItem="SelectedLine" viewItems="" welcomeText="{Document.ServerHosted:&lt;button height=&quot;40&quot; direction=&quot;Обновить&quot;&gt;&lt;img tcolor=&quot;yes&quot; size=&quot;normal&quot;&gt;Images\refresh.png&lt;/img&gt; &lt;b&gt;F5&lt;/b&gt;&lt;/button&gt; ;}План/факт:"><KeyJumps capacity="8" count="8"><KeyToAction action="ПоискСтрокиПоШтрихкоду" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="abort" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="Блокировка строки" barcode="" condition="{Document.КонтрольКолва == 1}" foreColor="#00000000" key="Delete" modifiers="None" viewType="InMenu" /><KeyToAction action="Блокировка строки" barcode="" condition="{Document.КонтрольКолва == 1}" foreColor="#00000000" key="Back" modifiers="None" viewType="InMenu" /><KeyToAction action="Вкл откл помощь" barcode="" condition="" foreColor="#00000000" key="H" modifiers="Control" viewType="InMenu" /><KeyToAction action="Вкл откл помощь" barcode="" condition="" foreColor="#00000000" key="D5" modifiers="Control" viewType="InMenu" /><KeyToAction action="Печать ценника" barcode="" condition="" foreColor="#00000000" key="D7" modifiers="None" viewType="InMenu" /><KeyToAction action="Обновить" barcode="" condition="{Document.ServerHosted}" foreColor="#00000000" key="F5" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="2"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.FirstStorage:&lt;b color=&quot;Blue&quot;&gt;(0)&lt;/b&gt;}{Item.SecondStorage==null:&lt;hr/&gt;;}{Item.SecondStorage:-&gt;&lt;b color=&quot;Black&quot;&gt;(0)&lt;/b&gt;}{Item.SecondStorage==null:;&lt;hr/&gt;}&#xD;&#xA;&lt;b color=&quot;Green&quot;&gt;{Item.SSCC}&lt;/b&gt;&lt;hr/&gt;&#xD;&#xA;{Item.ОтображениеВСписке}&#xD;&#xA;{Item.Заблокировано == 1: &lt;r color=&quot;Red&quot;&gt;Заблокировано&lt;/r&gt;;} " leftBorder="0" rightBorder="0" title="" topBorder="0" width="100%" /><ItemsColumn align="TopRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;b&gt;{Item.CurrentQuantity:(0:0.#)}&lt;/b&gt;{Document.CreatedOnPDA:; &lt;r size=&quot;-1&quot;&gt;из&lt;/r&gt; &lt;b&gt;{Item.DeclaredQuantity}&lt;/b&gt;}{Item.Packing.Name: ((0))}" leftBorder="0" rightBorder="0" topBorder="0" width="40%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" expression="SelectedLine == null" id="35d7984f-c790-4def-ad96-70b6c2559a3a" indent="0" name="Блокировка строки" nextDirection="" noDirection="" yesDirection="ПросмотрПланФакт" /><ConditionAction breakPoint="False" expression="SelectedLine.Заблокировано == 1" id="5674f52f-7797-49f7-9bcb-52fb2b06b8ac" indent="1" name="" nextDirection="" noDirection="1" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedLine.Заблокировано = 0" id="5a48c48d-021b-4615-a07a-8b0068c913fa" indent="2" name="" nextDirection="ПросмотрПланФакт" /><AssignAction breakPoint="False" expression="SelectedLine.Заблокировано = 1" id="498af857-3a13-4df8-be0e-d92c830b3f4f" indent="1" name="1" nextDirection="ПросмотрПланФакт" /><ConditionAction breakPoint="False" expression="SelectedLine == null" id="d8254529-2698-4249-98bf-973ee0f91ba7" indent="0" name="ПравкаСтрок" nextDirection="" noDirection="" yesDirection="ПросмотрПланФакт" /><SelectDocumentLinesAction breakPoint="False" id="7adced8c-814c-4077-8300-e12fd8de2652" indent="0" name="Поиск строк для правки" nextDirection="3" sessionVariable="СтрокиДляПравки"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.BindedLine==SelectedLine"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLinesAction><ConditionAction breakPoint="False" expression="СтрокиДляПравки.Count == 0" id="04059b61-fcb9-44ec-b5a0-666ced5be0d4" indent="0" name="3" nextDirection="" noDirection="6" yesDirection="" /><BaloonAction breakPoint="False" id="9c8c286d-f513-4fde-b1a9-1274653cf6eb" indent="1" isError="True" name="" nextDirection="ПросмотрПланФакт" seconds="3" text="&lt;b size=&quot;+1&quot;&gt;Разрешено править только ранее отсканированные Вами строки&lt;/b&gt;" /><ConditionAction breakPoint="False" expression="Document.ServerHosted" id="1b6a37a5-a0da-42db-a2f7-8249831aa8a7" indent="0" name="6" nextDirection="" noDirection="Проверка одиночности строки" yesDirection="" /><ItemsViewAction id="a13ee3fd-05e0-4bad-a1e4-3ca0cfd5c5d4" indent="1" name="Выбор строки для правки серв" nextDirection="4" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - вернуться{SelectedLine.Product.withsn==1:, (del) или (back)-удалить;}&lt;/r&gt;}&lt;hr/&gt;&#xA;{ErrorMessage}" transactionNotch="False" cancelType="None" fullscreen="True" format="" selectedItem="СтрокаДляПравки" viewItems="{СтрокиДляПравки}" welcomeText="Фактические строки:"><KeyJumps count="3"><KeyToAction action="Обновить" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="4 1" barcode="" condition="{SelectedLine.Product.withsn==1}" foreColor="#00000000" key="Delete" modifiers="None" viewType="InMenu" /><KeyToAction action="4 1" barcode="" condition="{SelectedLine.Product.withsn==1}" foreColor="#00000000" key="Back" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="2"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.user==CurrentUser.Id:&#xD;&#xA;{Item.SecondStorage != null:&lt;b&gt;{Item.FirstStorage}&lt;/b&gt;--&gt;&lt;b&gt;{Item.SecondStorage}&lt;/b&gt;&lt;hr/&gt;;{Item.FirstStorage:&lt;b&gt;(0)&lt;/b&gt;&lt;hr/&gt;}}&#xD;&#xA;{Item.barcode:&lt;b size=&quot;-1&quot;&gt;(0) &lt;/b&gt;}{Item.ОтображениеВСписке};&#xD;&#xA;&lt;LightGray&gt;{Item.barcode:&lt;b size=&quot;-1&quot;&gt;(0) &lt;/b&gt;}{Item.ОтображениеВСписке}&#xD;&#xA;&lt;b size=&quot;-2&quot;&gt;Другой пользователь&lt;/b&gt;&lt;/LightGray&gt;}" leftBorder="0" rightBorder="0" topBorder="0" width="100%" /><ItemsColumn align="TopRight" allBorder="0" backColor="White" bottomBorder="0" format="{Item.user==CurrentUser.Id:&lt;b&gt;{Item.CurrentQuantity}&lt;/b&gt; {Item.Packing.Name:((0))};&lt;Gray&gt;&lt;b&gt;{Item.CurrentQuantity}&lt;/b&gt; {Item.Packing.Name:((0))}&lt;/Gray&gt;}" leftBorder="0" rightBorder="0" topBorder="0" width="25%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><ConditionAction breakPoint="False" expression="СтрокаДляПравки.user==CurrentUser.Id" id="9f7a69fd-0569-48f4-acab-ae78cb8ad937" indent="1" name="4" nextDirection="" noDirection="" yesDirection="Правка количества" /><BaloonAction breakPoint="False" id="e8e2e8fb-d2ee-419f-8f31-f32d6cc8b686" indent="2" isError="True" nextDirection="Выбор строки для правки серв" seconds="3" text="&lt;b size=&quot;+1&quot;&gt;Править можно только строки, созданные Вами&lt;/b&gt;" /><ConditionAction breakPoint="False" expression="СтрокаДляПравки.user==CurrentUser.Id" id="59076590-36d2-44d0-a304-cb95b4386879" indent="1" name="4 1" nextDirection="" noDirection="" yesDirection="Удалить строку" /><BaloonAction breakPoint="False" id="1d11aee2-62bb-4c94-9c94-ca0812cb3e33" indent="2" isError="True" nextDirection="Выбор строки для правки серв" seconds="3" text="&lt;b size=&quot;+1&quot;&gt;Удалять можно только строки, созданные Вами&lt;/b&gt;" /><ConditionAction breakPoint="False" expression="СтрокиДляПравки.Count == 1 &amp;&amp; SelectedLine.Product.withsn != 1" id="f8c890bb-7de2-4c5f-8b76-7d7c87b13fed" indent="0" name="Проверка одиночности строки" nextDirection="" noDirection="Выбор строки для правки" yesDirection="" /><AssignAction breakPoint="False" expression="СтрокаДляПравки=СтрокиДляПравки[0]" id="6980b886-154c-4699-ace5-cca794cc8f45" indent="0" name="" nextDirection="Правка количества" /><ItemsViewAction id="c5089c00-abac-4db0-a59f-be3cca28a1ed" indent="1" name="Выбор строки для правки" nextDirection="Правка количества" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - вернуться{SelectedLine.Product.withsn==1:, (del) или (back)-удалить;}&lt;/r&gt;}" transactionNotch="False" cancelType="None" format="" selectedItem="СтрокаДляПравки" viewItems="{СтрокиДляПравки}" welcomeText="Фактические строки:"><KeyJumps count="3"><KeyToAction action="ПросмотрПланФакт" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="7" barcode="" condition="" foreColor="#00000000" key="Delete" modifiers="None" viewType="InMenu" /><KeyToAction action="7" barcode="" condition="" foreColor="#00000000" key="Back" modifiers="None" viewType="InMenu" /></KeyJumps><Columns count="2"><ItemsColumn align="TopLeft" allBorder="0" backColor="White" bottomBorder="0" format="{Item.FirstStorage:&lt;b color=&quot;Blue&quot;&gt;(0)&lt;/b&gt;}{Item.SecondStorage==null:&lt;hr/&gt;;}{Item.SecondStorage:-&gt;&lt;b color=&quot;Black&quot;&gt;(0)&lt;/b&gt;}{Item.SecondStorage==null:;&lt;hr/&gt;}&#xD;&#xA;&lt;b color=&quot;Green&quot;&gt;{Item.SSCC}&lt;/b&gt;&lt;hr/&gt;&#xD;&#xA;{Item.barcode:&lt;b size=&quot;8&quot;&gt;(0) &lt;/b&gt;}{Item.ОтображениеВСписке}&#xD;&#xA;" leftBorder="0" rightBorder="0" topBorder="0" width="100%" /><ItemsColumn align="TopRight" allBorder="0" backColor="White" bottomBorder="0" format="&lt;b&gt;{Item.CurrentQuantity}&lt;/b&gt; {Item.Packing.Name:((0))}" leftBorder="0" rightBorder="0" topBorder="0" width="25%" /></Columns><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></ItemsViewAction><QuestionYesNoAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" fullscreen="Inherit" id="ef313c6e-c3eb-4a3c-9b6f-fb047490fca6" indent="1" message="Удалить строку?&#xD;&#xA;{СтрокаДляПравки.ОтображаемоеИмя}" name="7" nextDirection="" noDirection="Выбор строки для правки" transactionNotch="True" yesDirection="Удалить строку"><KeyJumps count="0" /></QuestionYesNoAction><RemoveDocumentLineAction breakPoint="False" id="c7a7a18a-814c-4dbb-ad5b-3e9c333bbe21" indent="1" name="Удалить строку" nextDirection="ПросмотрПланФакт" packing="" quantity="" quantityErrorDirection="ПросмотрПланФакт" sessionVariable="СтрокаДляПравки" /><ConditionAction breakPoint="False" expression="SelectedLine.Product.withsn == 1&amp;&amp;GlobalVars.РежимСерийныхНомеров != &quot;выключено&quot;" id="52351b93-f78f-4ad9-b3c5-fbd3bcb27df9" indent="0" name="Правка количества" nextDirection="" noDirection="" yesDirection="ПросмотрПланФакт" /><AssignAction breakPoint="False" expression="oldqty=СтрокаДляПравки.CurrentQuantity" id="d65e1cce-dacc-4402-a534-3b08c8a3f293" indent="0" name="" nextDirection="" /><AssignAction breakPoint="False" expression="qty=oldqty" id="df8de6b8-dfd6-4862-b8d7-131997a486fd" indent="0" nextDirection="" /><FieldEditAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" eanAI="None" editType="Session" fieldName="qty" fieldType="String" format="" fullscreen="Inherit" headerText="{GlobalVars.СпрятатьПомощь==True:;&lt;r size=&quot;-1&quot;&gt;(esc) - вернуться&lt;/r&gt;&lt;hr/&gt;}&#xA;&lt;b size=&quot;+3&quot; color=&quot;Blue&quot;&gt;{FirstStorage.Name}&lt;/b&gt;&lt;hr/&gt;&#xA;&lt;b  color=&quot;DarkBlue&quot;&gt;{СтрокаДляПравки.barcode: (0) - }&lt;/b&gt;&lt;DarkGreen&gt;{СтрокаДляПравки.Product.Marking:(0), }{СтрокаДляПравки.Product.Name}{СтрокаДляПравки.serial: - (0)}{СтрокаДляПравки.descr: - (0)}&lt;/DarkGreen&gt;&#xA;&lt;DarkRed&gt;Количество: {СтрокаДляПравки.CurrentQuantity} {СтрокаДляПравки.Packing.Name}&lt;/DarkRed&gt;" id="40d945dc-3e53-4095-b724-35c6ea503657" indent="0" listItemFormat="" name="" nextDirection="" rememberPreviousValue="False" setForBuffer="False" showEditBox="True" showList="False" sizeType="Normal" transactionNotch="False" viewItems="" welcomeText="Новое количество:"><Columns count="0" /><KeyJumps count="1"><KeyToAction action="ПросмотрПланФакт" barcode="" condition="" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps><Query copySelection="False" documentLines="Declared" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression=""><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></FieldEditAction><GroupAction breakPoint="False" buttonExit="False" canFinishAlways="False" cyclic="False" exitButtonText="" exitGroupCode="" fullscreen="Inherit" id="1f8b413e-4f30-4522-8b55-386dd507cbb9" indent="1" name="Правка с блокировкой" nextDirection="Обновить" transactionNotch="False"><Actions count="3"><ConditionAction breakPoint="False" expression="Document.КонтрольКолва == 1 &amp;&amp; (qty-oldqty) &gt; SelectedLine.Underload" id="58a7a033-26bd-4846-92d8-df4aa78a0ecf" indent="0" name="обычная правка" nextDirection="" noDirection="Завершение правки колва" yesDirection="" /><BaloonAction breakPoint="False" id="318d631f-dea7-4339-bcab-47d5f4b13fa4" indent="1" isError="True" name="" nextDirection="up:ПросмотрПланФакт" seconds="3" text="&lt;b size=&quot;+1&quot;&gt;ПЕРЕБОР&#xA;Пытаетесь ввести {SelectedLine.CurrentQuantity +qty-oldqty} из {SelectedLine.DeclaredQuantityString}&lt;/b&gt;" /><AssignAction breakPoint="False" expression="СтрокаДляПравки.CurrentQuantityWithBinding=qty" id="41564e6d-bfa6-459d-9b18-3a8e077a6f8e" indent="0" name="Завершение правки колва" nextDirection="" /></Actions><LockObjects count="2"><String>{СтрокаДляПравки}</String><String>{SelectedLine}</String></LockObjects></GroupAction><SelectDocumentLineAction breakPoint="False" id="156df376-a42b-4d39-be9f-24f2c47401b1" indent="0" name="ПоискСтрокиПоШтрихкоду" nextDirection="" sessionVariable="CurSelectedLine"><Query copySelection="False" documentLines="Current" sourceWhereExpression="" useTableAliasForItem="False" whereCompiled="False" whereExpression="Item.barcode==ScannedBarcode"><Fields count="0" /><GroupBy count="0" /><QueryParameters count="0" /><SortBy count="0" /><Where count="0" /><WhereRootElement>null</WhereRootElement></Query></SelectDocumentLineAction><AssignAction breakPoint="False" expression="SelectedLine=CurSelectedLine.BindedLine" id="6a1478fa-fb93-4548-b4cc-07b415d30bbb" indent="0" name="" nextDirection="ПросмотрПланФакт" /><OperationAction abortDirection="" breakPoint="False" id="576b1695-96d8-4446-a39e-fc239ea28f4f" indent="0" name="Вкл откл помощь" nextDirection="back" operationName="ПомощьВклВыкл" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="ВМеню=True" id="5e186f29-cebf-4e31-ab76-6208584a9512" indent="0" name="ГлавноеМеню" nextDirection="return" /><OperationAction abortDirection="2" breakPoint="False" id="7b3826d4-061d-45c0-800d-09bbd4c59cd4" indent="0" name="Печать ценника" nextDirection="ПросмотрПланФакт" operationName="ПередПечатьюМобильногоЦенника" transactionNotch="False"><InKeys count="3"><String>SelectedProduct</String><String>SelectedLines</String><String>SelectedPrinter</String></InKeys><InValues count="3"><String>{SelectedLine}</String><String>{Document.DeclaredItems}</String><String>{SelectedPrinter}</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><BaloonAction breakPoint="False" id="89051cc4-b52d-4bd0-975c-c5a4529500fd" indent="0" isError="True" name="2" nextDirection="ПросмотрПланФакт" seconds="3" text="{ErrorMessage} &lt;b size=&quot;+1&quot;&gt;Произошла ошибка печати&lt;/b&gt;" /></Actions><Parameters count="1"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /></Parameters><Returns count="0" /></Operation>
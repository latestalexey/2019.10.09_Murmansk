<?xml version="1.0" encoding="utf-8"?><Operation xmlns:clr="http://schemas.cleverence.ru/clr" fullscreen="Inherit" lock="No" name="ЕГАИС3 ПервичнаяОбработкаАлкоголя" serverHosted="False"><Actions capacity="128" count="68"><ClearSessionAction all="False" breakPoint="False" id="afc68ccd-149a-4ccf-a2a2-9c279a6382b7" indent="0" name="Очистка прошлых данных" nextDirection=""><KeyNames count="2"><String>ПрошлыйАлкокод</String><String>ПрошлаяМарка</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="1cf30407-aea8-4489-a2c4-a6a97d170b45" indent="0" name="Заполнение доп полей" nextDirection="" operationName="ЕГАИС3 ЗаполнениеДопПолейВыбранногоТовара" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="CheckMark.IsInstalled == true &amp;&amp; GlobalVars.ЧекМаркВключён == true" id="8cdfdd82-3407-414c-83fc-0d513606f1dc" indent="0" name="Если есть включенный чекмарк" nextDirection="" noDirection="" yesDirection="Нужна ли проверка" /><OperationAction abortDirection="" breakPoint="False" id="2f76fb7e-1984-4c2d-8eaa-b7de057db516" indent="2" name="Перенос из товара" nextDirection="14 1" operationName="ЕГАИС3 ПереносАлкоДанныхИзТовара" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><OperationAction abortDirection="" breakPoint="False" id="153403bc-1a21-4a0a-9411-f237e05155b6" indent="0" name="Нужна ли проверка" nextDirection="" operationName="ЕГАИС3 НужнаПроверкаЧекМарк" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ПроверкаЧекМарк == true" id="d072d71f-92cf-4328-b833-f01b14e73443" indent="1" name="Если нужна проверка" nextDirection="" noDirection="Если есть строка набранная ранее" yesDirection="" /><OperationAction abortDirection="Прервать" breakPoint="False" id="1de06142-dd53-48a2-ae4c-72bc59655e7a" indent="2" name="Вызов чекмарк" nextDirection="19 1" operationName="ЕГАИС3 ВызовЧекМарк" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ВводДатыРозлива == true &amp;&amp; SelectedProduct.ДатаРозлива == null" id="e50f6d70-ea15-4722-9779-027d9bbb6b0b" indent="0" name="19 1" nextDirection="" noDirection="14" yesDirection="" /><OperationAction abortDirection="abort" breakPoint="False" id="32454f81-6550-4417-914e-ea5657718a98" indent="2" nextDirection="" operationName="ЕГАИС3 ВводДатыРозлива" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="SelectedProduct.barcode == ПрошлыйЕАН" id="01a111b1-50eb-48ae-b047-d40ada25bd07" indent="3" name="14" nextDirection="" noDirection="" yesDirection="Если есть формы А" /><AssignAction breakPoint="False" expression="сч = 0" id="83015cd6-d6e6-4b92-81b3-40f238d87e94" indent="4" name="Обнуление счётчика" nextDirection="Если есть формы А" /><ConditionAction breakPoint="False" expression="СтрокаСАлкоголем != null &amp;&amp; СтрокаСАлкоголем.ПроверкаЧМ == true" id="3b7b0fa0-3557-4ef8-b8e4-8fba1d739f93" indent="0" name="Если есть строка набранная ранее" nextDirection="" noDirection="" yesDirection="Перенос из проверенной строки" /><AssignAction breakPoint="False" expression="СтрокаСАлкоголем = SelectedProduct.Product.CurrentItems.FindByField(&quot;barcode&quot;, SelectedProduct.barcode).FindFirstByField(&quot;ПроверкаЧМ&quot;, true)" id="c3df0ddb-3254-4241-ad1f-a2ee9bf6d084" indent="1" name="Попытка заполнения строки" nextDirection="" /><ConditionAction breakPoint="False" expression="СтрокаСАлкоголем == null" id="e58ff449-a7eb-4fe4-a3c2-5c8ee3c1da9e" indent="2" name="Если строка пустая" nextDirection="" noDirection="Перенос из проверенной строки" yesDirection="14 1" /><OperationAction abortDirection="" breakPoint="False" id="e4c16bad-0ba6-471e-832c-056b3c260ee1" indent="3" name="Перенос из проверенной строки" nextDirection="Обнуление АлкоСН" operationName="ЕГАИС3 ПереносАлкоДанныхИзСтроки" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="SelectedProduct.АлкоСН = null" id="528ec6af-fb50-4fb1-8bf6-176191a321c4" indent="4" name="Обнуление АлкоСН" nextDirection="Обнуление АлкоПДФ" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоПДФ = null" id="c52816ec-8397-4291-89e2-de553a2e2223" indent="4" name="Обнуление АлкоПДФ" nextDirection="14 1" /><ConditionAction breakPoint="False" expression="SelectedProduct.barcode == ПрошлыйЕАН" id="485a21c9-c395-471c-9f9e-e8d2495bd85c" indent="5" name="14 1" nextDirection="" noDirection="" yesDirection="19" /><AssignAction breakPoint="False" expression="сч = 0" id="0ad445bf-24be-4269-9d49-bf3ae67c22fd" indent="6" name="Обнуление счётчика 2" nextDirection="19" /><ConditionAction breakPoint="False" expression="ВводДатыРозлива == true &amp;&amp; SelectedProduct.ДатаРозлива == null" id="fd59f25e-1ee9-418c-9fea-5aa2f200f7b6" indent="0" name="19" nextDirection="" noDirection="20" yesDirection="" /><OperationAction abortDirection="abort" breakPoint="False" id="137119af-f0da-416b-9e5b-4403a696f605" indent="2" name="21" nextDirection="" operationName="ЕГАИС3 ВводДатыРозлива" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="SelectedProduct.АлкоМарк == true || SelectedProduct.Маркировка == &quot;Алкоголь&quot;" id="43514316-3db1-425a-a6c5-0d7b66906ec1" indent="2" name="20" nextDirection="" noDirection="Завершить" yesDirection="" /><ConditionAction breakPoint="False" expression="НеСканироватьПДФ == false" id="c5f365b5-83b7-47bc-aa57-4b978b8e1343" indent="2" nextDirection="" noDirection="18" yesDirection="" /><AssignAction breakPoint="False" expression="Scanner.EnableBarcodeType(&quot;PDF417&quot;, true);&#xD;&#xA;Scanner.EnableBarcodeType(&quot;DataMatrix&quot;, false);" id="8bc1715f-a178-4c51-ac51-f50b65c49859" indent="1" name="Сканер только PDF417" nextDirection="" /><FormattedPageAction autoCloseTime="0" backColor="White" backgroundImage="" breakPoint="False" cancelType="None" footerText="{ВводДатыРозлива==true:&lt;button width=&quot;100%&quot; height=&quot;15%&quot; direction=&quot;21&quot;&gt;Ввод даты розл.&lt;/button&gt;;}&#xD;&#xA;{SelectedProduct.ПроверкаЧМ==true || CheckMark.IsInstalled == false:;&lt;button direction=&quot;Вызов чекмарк с кнопки&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Проверить в CheckMark&lt;/button&gt;}&#xD;&#xA;{сч==0:&lt;button direction=&quot;Прервать&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;;&lt;button direction=&quot;Завершить&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Завершить&lt;/button&gt;}{ТекущаяКоробка != null:&lt;button direction=&quot;ЗакрытьКоробку&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Закрыть коробку&lt;/button&gt;;}" fullscreen="True" headerText="{ТекущаяКоробка != null:{ТекущаяКоробка.КоробкаШапкаТекст};&lt;r align=&quot;left&quot; color=&quot;black&quot;&gt;Набрано &lt;b&gt;{сч}&lt;/b&gt; &lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;&lt;/r&gt;}&#xD;&#xA;&lt;r color=&quot;Red&quot;&gt;{MSG != null:&lt;b size=&quot;+2&quot; align=&quot;center&quot; color=&quot;Red&quot;&gt;{MSG}&lt;/b&gt;&lt;br/&gt;;{Отскан.ОтсканированоТоварБезСерии}&#xD;&#xA;{Отскан.ДатаРозлива: &lt;r color=&quot;black&quot;&gt;Дата розлива:&lt;/r&gt; &lt;b&gt;(0:dd.MM.yyyy)&lt;/b&gt;}}&lt;/r&gt;" id="10fad0b0-bd71-42ac-a62a-1d77e0fce41e" indent="0" name="Скан ПДФ" nextDirection="Скан ПДФ" singlePage="False" title="Сканирование бутылок" transactionNotch="True"><Blocks count="1"><LabelPageBlock align="TopCenter" allBorder="0" backColor="Transparent" bottomBorder="0" foreColor="Black" leftBorder="0" rightBorder="0" text="&lt;b size=&quot;+2&quot; color=&quot;black&quot;&gt;СКАНИРУЙТЕ&lt;/b&gt; &lt;b size=&quot;+2&quot; color=&quot;Red&quot;&gt;МАРКУ&lt;/b&gt;&#xD;&#xA;&lt;img tcolor=&quot;no&quot; size=&quot;stretch&quot; maxwidth=&quot;100%&quot; align=&quot;center&quot; direction=&quot;&quot;&gt;egares.pdf417&lt;/img&gt;" topBorder="0" /></Blocks><KeyJumps count="3"><KeyToAction action="94" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="Завершить" barcode="" condition="{сч &gt; 0}" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="Прервать" barcode="" condition="{сч == 0}" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></FormattedPageAction><ClearSessionAction all="False" breakPoint="False" id="ea034e75-a9d4-41cc-9f3f-c50b2ec041f1" indent="0" name="94" nextDirection=""><KeyNames capacity="16" count="10"><String>Error</String><String>ЭтоПалета</String><String>ЭтоКоробка</String><String>Коды</String><String>МаркаНовогоТипа</String><String>ErrBarcode</String><String>АлкоКод</String><String>НаименованиеОшибка</String><String>MSG</String><String>УжеПДФ</String></KeyNames></ClearSessionAction><OperationAction abortDirection="" breakPoint="False" id="54db79d2-6ccc-4507-b4ff-75b904d6ab10" indent="0" name="93" nextDirection="" operationName="ЕГАИС3 ОбработкаОшибки" transactionNotch="False"><InKeys count="1"><String>PDF417</String></InKeys><InValues count="1"><String>true</String></InValues><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="Error == true" id="dd70a91d-2da0-4742-a8bb-3805d1454942" indent="0" nextDirection="" noDirection="" yesDirection="back" /><AssignAction breakPoint="False" expression="УжеПДФ = Document.CurrentItems.FindFirstByField(&quot;АлкоПДФ&quot;, ScannedBarcode)" id="a66acbf3-2593-4f51-b767-026ec7b6340a" indent="0" name="Выбор строки с тем же ПДФ" nextDirection="" /><ConditionAction breakPoint="False" expression="УжеПДФ != null" id="a58c3337-a3e4-426a-bd4b-e8247b3326b4" indent="0" name="Если строка с ПДФ уже есть" nextDirection="" noDirection="Запись ПДФ в SelectedProduct" yesDirection="" /><AssignAction breakPoint="False" expression="GO.PlayError();&#xD;&#xA;MSG = &quot;Марка уже сканировалась&quot;;" id="9f3c8786-2fa5-4a28-8695-596e8387b243" indent="1" nextDirection="back" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоПДФ = ScannedBarcode" id="d47d8fe3-e32d-4a4f-9920-9c332c8759e6" indent="0" name="Запись ПДФ в SelectedProduct" nextDirection="" /><ConditionAction breakPoint="False" expression="МаркаНовогоТипа == true" id="1d108719-cb4c-4df6-bb46-d708afefa22d" indent="0" name="95" nextDirection="" noDirection="96" yesDirection="" /><AssignAction breakPoint="False" expression="SelectedProduct.АлкоСерия = SelectedProduct.АлкоПДФ.Substring(3, 3);&#xD;&#xA;SelectedProduct.АлкоСН = SelectedProduct.АлкоПДФ.Substring(6, 8);" id="59b215b5-f7a6-46d5-9f00-e11127c9bd14" indent="1" nextDirection="" /><AssignAction breakPoint="False" expression="if (ТекТипМарки == &quot;&quot;)&#xD;&#xA;{&#xD;&#xA;ТекТипМарки = ScannedBarcode.Substring(0, 3);&#xD;&#xA;ТекСерияМарки = ScannedBarcode.Substring(3, 3);&#xD;&#xA;}" id="42b131e0-8748-4b51-bffd-3eda9c7e4933" indent="1" nextDirection="" /><ConditionAction breakPoint="False" expression="ТекТипМарки != ScannedBarcode.Substring(0, 3) || ТекСерияМарки != ScannedBarcode.Substring(3, 3)" id="424269fa-de9b-4d69-a106-e9bea01eabc5" indent="1" nextDirection="" noDirection="23" yesDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="15%" fullscreen="Inherit" id="a1e01804-63a5-4b48-b092-3d288076e415" indent="2" name="Сообщение другой тип или серия" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText="&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;Марка содержит другой тип или серию!&lt;/b&gt;&#xD;&#xA;Возможно, это уже другая номенклатура!&#xD;&#xA;Необходимо заново отсканировать &lt;b&gt;ШК товара и марку&lt;/b&gt;!"><ButtonDirections count="1"><String>Завершить</String></ButtonDirections><ButtonTexts count="1"><String>ОК</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><AssignAction breakPoint="False" expression="SelectedProduct.АлкоКод = АлкоКод" id="8db8bc5e-5549-4901-922b-e76d7a9f91c8" indent="0" name="96" nextDirection="" /><ConditionAction breakPoint="False" expression="ПрошлыйАлкокод == null || SelectedProduct.АлкоКод == ПрошлыйАлкокод" id="d67711cc-f011-44ed-89a4-d7727cbcc439" indent="0" name="Если совпадает с прошлым АлкоКод" nextDirection="" noDirection="92" yesDirection="18" /><AssignAction breakPoint="False" expression="GO.PlayError()" id="5f810d00-1a12-457f-a856-901bf38f0d4c" indent="1" name="92" nextDirection="" /><QuestionAction autoCloseTime="0" backgroundImage="" breakPoint="False" cancelType="None" defaultButtonHeight="15%" fullscreen="Inherit" id="0901db46-9d24-4920-8628-fea3e748c720" indent="1" name="Сообщение АлкоКод изменился" nextDirection="" showAsMsgBox="False" transactionNotch="False" welcomeText="&lt;b color=&quot;Red&quot; size=&quot;+2&quot;&gt;Марка содержит другой алкокод!&lt;/b&gt;&#xD;&#xA;Возможно, это уже другая номенклатура!&#xD;&#xA;Необходимо заново отсканировать &lt;b&gt;ШК товара и марку&lt;/b&gt;!"><ButtonDirections count="1"><String>Завершить</String></ButtonDirections><ButtonTexts count="1"><String>ОК</String></ButtonTexts><KeyJumps count="0" /></QuestionAction><ConditionAction breakPoint="False" expression="GlobalVars.АлкоДМ[Document.ИмяОп] == true &amp;&amp; МаркаНовогоТипа == false" id="359a1765-149e-4fad-bbd8-57427944abe4" indent="0" name="18" nextDirection="" noDirection="23" yesDirection="Сканер только DataMatrix" /><AssignAction breakPoint="False" expression="Scanner.EnableBarcodeType(&quot;DataMatrix&quot;, true)" id="1fd6e5a1-f430-403a-adc7-01c64c2c18ce" indent="1" name="Сканер только DataMatrix" nextDirection="" /><FormattedPageAction autoCloseTime="0" backColor="White" backgroundImage="" breakPoint="False" cancelType="None" footerText="{SelectedProduct.ПроверкаЧМ==true || CheckMark.IsInstalled == false:;&lt;button direction=&quot;Вызов чекмарк с кнопки&quot; width=&quot;100%&quot; height=&quot;15%&quot;&gt;Проверить в CheckMark&lt;/button&gt;}&#xD;&#xA;{сч==0:&lt;button direction=&quot;Прервать&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Назад&lt;/button&gt;;&lt;button direction=&quot;Завершить&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Завершить&lt;/button&gt;}{ТекущаяКоробка != null:&lt;button direction=&quot;ЗакрытьКоробку&quot; enabled=&quot;true&quot; width=&quot;50%&quot; height=&quot;15%&quot;&gt;Закрыть коробку&lt;/button&gt;;}&#xD;&#xA;" fullscreen="True" headerText="{ТекущаяКоробка != null:{ТекущаяКоробка.КоробкаШапкаТекст};&lt;r align=&quot;left&quot; color=&quot;black&quot;&gt;Набрано &lt;b&gt;{сч}&lt;/b&gt; &lt;img align=&quot;bottom&quot; tcolor=&quot;yes&quot;&gt;alcores.pill&lt;/img&gt;&lt;/r&gt;}&#xD;&#xA;{SelectedProduct.Product.Name}&#xD;&#xA;Код: {SelectedProduct.АлкоКод}&#xD;&#xA;&lt;r size=&quot;-1&quot; color=&quot;Red&quot;&gt;{УжеСерийник != null:&lt;b size=&quot;+2&quot; align=&quot;center&quot; color=&quot;Red&quot;&gt;{УжеСерийник.АлкоСН} уже занесен в документ&lt;/b&gt;&lt;br/&gt;;{Отскан.ОтсканированоТоварБезСерии}}&#xD;&#xA;{Отскан.ДатаРозлива: &lt;r color=&quot;black&quot;&gt;Дата розлива:&lt;/r&gt; &lt;b color=&quot;DarkBlue&quot;&gt;(0:dd.MM.yyyy)&lt;/b&gt;}&#xD;&#xA;{ErrorMessage:(0)&lt;br/&gt;}&lt;/r&gt;&#xD;&#xA;" id="f8ec6bf5-e974-49ab-9cd1-e678369220b0" indent="0" name="Скан серийник" nextDirection="Скан серийник" singlePage="False" title="Сканирование бутылок" transactionNotch="True"><Blocks count="1"><LabelPageBlock align="TopCenter" allBorder="0" backColor="Transparent" bottomBorder="0" foreColor="Black" leftBorder="0" rightBorder="0" text="&lt;b size=&quot;+2&quot; color=&quot;black&quot;&gt;СКАНИРУЙТЕ&lt;/b&gt; &lt;b size=&quot;+2&quot; color=&quot;Red&quot;&gt;СЕРИЙНИК&lt;/b&gt;&#xD;&#xA;&lt;img tcolor=&quot;no&quot; size=&quot;stretch&quot; maxwidth=&quot;100%&quot; align=&quot;center&quot; direction=&quot;&quot;&gt;egares.data_matrix&lt;/img&gt;" topBorder="0" /></Blocks><KeyJumps count="3"><KeyToAction action="Запись СН в SelectedProduct" barcode="{any}" condition="" foreColor="#00000000" key="None" modifiers="None" viewType="InMenu" /><KeyToAction action="Завершить" barcode="" condition="{сч &gt; 0}" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /><KeyToAction action="Прервать" barcode="" condition="{сч == 0}" foreColor="#00000000" key="Escape" modifiers="None" viewType="InMenu" /></KeyJumps></FormattedPageAction><AssignAction breakPoint="False" expression="SelectedProduct.АлкоСН = ScannedBarcode" id="35ef866c-b6a1-4fb0-9975-01a0393a9ca7" indent="1" name="Запись СН в SelectedProduct" nextDirection="Если АлкоСН пустой" /><ConditionAction breakPoint="False" expression="SelectedProduct.АлкоСН == &quot;&quot;" id="98ed17a0-c80c-4f22-bd00-6103a7f622d1" indent="1" name="Если АлкоСН пустой" nextDirection="" noDirection="" yesDirection="back" /><OperationAction abortDirection="Ошибка серийника" breakPoint="False" id="56b8969e-8506-4e0d-8fbd-f44f1a537878" indent="2" name="Обработка АлкоСН" nextDirection="Выбор строки с тем же АлкоСН" operationName="ЕГАИС3 ОбработкаАлкоСН" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><BaloonAction breakPoint="False" id="3ebe6bf8-b6ea-4ace-a8f3-9f4875ccdf96" indent="3" isError="True" name="Ошибка серийника" nextDirection="back" seconds="3" text="неверный серийный номер марки" /><AssignAction breakPoint="False" expression="УжеСерийник = Document.CurrentItems.FindFirstByField(&quot;АлкоСН&quot;, SelectedProduct.АлкоСН)" id="57cc3aad-6607-4b31-8328-8782e2c36fef" indent="3" name="Выбор строки с тем же АлкоСН" nextDirection="" /><ConditionAction breakPoint="False" expression="УжеСерийник != null" id="e33b8ed2-5287-4fb9-b1a1-420a816aeebc" indent="2" name="Если строка с серийником уже есть" nextDirection="" noDirection="Если есть формы А" yesDirection="back" /><ConditionAction breakPoint="False" expression="ЕстьФормыА == true &amp;&amp; GlobalVars.РежимПроверкиПоДиапазонам[Document.ИмяОп] == true" id="e2e0a99b-1936-4378-8c22-e36408324177" indent="3" name="Если есть формы А" nextDirection="" noDirection="23" yesDirection="17" /><OperationAction abortDirection="back" breakPoint="False" id="d08f79d2-617e-4fda-8f51-cd4e1ec138a2" indent="4" name="17" nextDirection="" operationName="ЕГАИС3 ПроверкаПоДиапазонамФормыА" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="GlobalVars.ПаковатьВКоробки[Document.DocumentType.Name] == &quot;Готовые этикетки&quot; || GlobalVars.ПаковатьВКоробки[Document.DocumentType.Name] == &quot;Мобильная печать&quot;" id="e6946ebd-0fdd-4616-82ee-a42574a5d638" indent="0" name="23" nextDirection="" noDirection="Запись" yesDirection="" /><OperationAction abortDirection="undo" breakPoint="False" id="0ab0f402-d95d-418a-bb6a-7af43b5c1ee7" indent="0" nextDirection="" operationName="ЕГАИС3 КоробкиДляПостановкиНаБаланс" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><ConditionAction breakPoint="False" expression="ВМеню == true" id="515bbbf2-5f42-4008-be7b-0da41e357955" indent="0" nextDirection="" noDirection="" yesDirection="abort" /><AcceptInDocumentAction breakPoint="False" checkDocumentInfill="False" checkQuantity="False" combineEqualCurrentItems="False" declaredExpression="" errorQuantityMessage="Товара больше, чем разрешает документ." id="f08c6225-0e00-423c-8a16-b4abcd2df1f1" ignoreFieldsInDocument="False" indent="0" name="Запись" nextDirection="" noProductErrorDirection="" noProductInDocumentMessage="Такой товар отсутствует в документе." onlyInCurrentItems="False" quantityErrorDirection="" useSelectedLine="False"><ComparingFieldNames count="1"><String>barcode</String></ComparingFieldNames><ComparingFieldNamesForCurrentItems capacity="16" count="15"><String>code</String><String>barcode</String><String>serial</String><String>descr</String><String>sn</String><String>price</String><String>Алко</String><String>ПроверкаЧМ</String><String>АлкоСН</String><String>АлкоКод</String><String>АлкоКодВ</String><String>АлкоОбъем</String><String>АлкоКрепость</String><String>ПроизвИНН</String><String>ПроизвКПП</String></ComparingFieldNamesForCurrentItems></AcceptInDocumentAction><ConditionAction breakPoint="False" expression="GlobalVars.ПаковатьВКоробки[Document.DocumentType.Name] == &quot;Готовые этикетки&quot; || GlobalVars.ПаковатьВКоробки[Document.DocumentType.Name] == &quot;Мобильная печать&quot;" id="d35e6e9c-2bb2-41c9-b4b3-0f3993248d4f" indent="0" name="23 1" nextDirection="" noDirection="24" yesDirection="" /><AssignAction breakPoint="False" expression="ТекущаяКоробка.Количество = ТекущаяКоробка.Количество + 1" id="c96f20f6-10f7-4515-b6f7-2619adb39ff6" indent="0" nextDirection="" /><ConditionAction breakPoint="False" comment="Размер коробок не выгружен и размер взят из номенклатуры?" expression="Document.Contains(&quot;РазмерКоробок&quot;) == false &amp;&amp; ТекущаяКоробка.Размер != null &amp;&amp; ТекущаяКоробка.Сборная == false" id="eb930b4d-7969-4146-a1e3-5a7133976117" indent="0" name="91" nextDirection="" noDirection="71" yesDirection="" /><ConditionAction breakPoint="False" comment="Достигнут лимит коробки?" expression="ТекущаяКоробка.Количество == ТекущаяКоробка.Размер &amp;&amp; ТекущаяКоробка.Количество &gt; 0" id="e423d6fc-9f5c-4b5e-9a2e-726cce5add78" indent="1" nextDirection="" noDirection="24" yesDirection="29" /><ConditionAction breakPoint="False" comment="Достигнут лимит коробки?" expression="ТекущаяКоробка.Количество == Document.ИспользуемыйРазмерКоробок &amp;&amp; ТекущаяКоробка.Количество &gt; 0" id="b881b155-b473-4f38-8cd4-a8ee1255269e" indent="0" name="71" nextDirection="" noDirection="24" yesDirection="29" /><ClearSessionAction all="False" breakPoint="False" id="b4286c8f-8e31-4a28-8a5a-06a02676211e" indent="1" name="29" nextDirection="Завершить"><KeyNames count="2"><String>ТекущаяКоробка</String><String>SelectedProduct</String></KeyNames></ClearSessionAction><ConditionAction breakPoint="False" expression="НеСканироватьПДФ == false" id="e0246dee-d384-4f55-a48a-9d1ec60270a8" indent="0" name="24" nextDirection="" noDirection="Завершить" yesDirection="" /><AssignAction breakPoint="False" expression="сч = сч+1;&#xD;&#xA;ПрошлаяМарка = SelectedProduct.АлкоСН;&#xD;&#xA;ПрошлыйАлкокод = SelectedProduct.АлкоКод;&#xD;&#xA;ПрошлыйЕАН = SelectedProduct.barcode;&#xD;&#xA;SelectedProduct.ПроверкаЧМ = false;&#xD;&#xA;SelectedProduct.АлкоПДФ = null;&#xD;&#xA;SelectedProduct.АлкоСН = null;&#xD;&#xA;Отскан = SelectedProduct;" id="76bdd178-b35e-46e6-98a6-26c0858bd9a3" indent="1" name="Обнуление АлкоСН 2" nextDirection="19" /><OperationAction abortDirection="Прервать" breakPoint="False" id="56e7638e-9742-4865-99eb-8432d2832b3b" indent="0" name="Вызов чекмарк с кнопки" nextDirection="Если есть формы А" operationName="ЕГАИС3 ВызовЧекМарк" transactionNotch="False"><InKeys count="0" /><InValues count="0" /><OutKeys count="0" /><OutValues count="0" /></OperationAction><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes();&#xD;&#xA;Scanner.EnableBarcodeType(&quot;PDF417&quot;, false);" id="16e15383-8ebe-4f38-aa67-ca758337423d" indent="0" name="Прервать" nextDirection="abort" /><AssignAction breakPoint="False" expression="Scanner.EnableDefaultBarcodeTypes();&#xD;&#xA;Scanner.EnableBarcodeType(&quot;PDF417&quot;, false);" id="f2361240-ddf7-4f4b-9ab4-44d3a4aa762e" indent="0" name="Завершить" nextDirection="return" /><ClearSessionAction all="False" breakPoint="False" id="31039769-8b72-406b-8ab5-538d489a09d0" indent="0" name="ЗакрытьКоробку" nextDirection="return"><KeyNames capacity="8" count="5"><String>SelectedProduct</String><String>ScannedBarcode</String><String>ТекущаяКоробка</String><String>Отскан</String><String>ТекстАлкоКод</String></KeyNames></ClearSessionAction></Actions><Parameters capacity="16" count="9"><FieldInfo alias="" eanAI="None" fieldName="SelectedProduct" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="SelectedProduct" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ПрошлыйЕАН" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="ProshlyjEAN" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="сч" fieldType="Int32" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="sch" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ЕстьФормыА" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="EstFormyA" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ВводДатыРозлива" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="VvodDatyRozliva" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="НеСканироватьПДФ" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="NeSkanirovatPDF" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="АлкоПДФ" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="AlkoPDF" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="ТекущаяКоробка" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="TekushhayaKorobka" valueTemplate="" /><FieldInfo alias="" eanAI="None" fieldName="МаркаНовогоТипа" fieldType="Boolean" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" uni="MarkaNovogoTipa" valueTemplate="" /></Parameters><Returns count="4"><ReturnFieldInfo alias="" eanAI="None" fieldName="ИзмененныеСтрокиТовара" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="IzmenennyeStrokiTovara" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="сч" fieldType="Int32" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="sch" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ПрошлыйЕАН" fieldType="String" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="False" uni="ProshlyjEAN" valueTemplate="" /><ReturnFieldInfo alias="" eanAI="None" fieldName="ТекущаяКоробка" fieldType="Object" isSQLIndex="False" isSQLKeyIndex="False" isSQLSubstringIndex="False" oneTimeTemplateExecution="False" returnNull="True" uni="TekushhayaKorobka" valueTemplate="" /></Returns></Operation>